webpackJsonp([2],{1041:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){for(var a=Object.getOwnPropertyNames(t),n=0;n<a.length;n++){var r=a[n],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):r(e,t))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,c,d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=a(2),p=n(u),m=a(162),h=n(m),f=a(299),v=n(f),g=a(361),y=n(g),b=(0,v.default)(),E=(c=o=function(e){function t(){return i(this,t),l(this,e.apply(this,arguments))}return s(t,e),t.prototype.render=function(){return p.default.createElement(h.default,d({transitionName:this.props.transitionName,builtinPlacements:b,ref:"tooltip"},this.props,{overlay:this.getOverlay()}),this.props.children)},t.prototype.getPopupDomNode=function(){return this.refs.tooltip.getPopupDomNode()},t.prototype.componentDidMount=function(){"overlay"in this.props&&(0,y.default)(!1,"`overlay` prop of Popover is deprecated, use `content` instead.")},t.prototype.getOverlay=function(){var e=this.props,t=e.title,a=e.prefixCls,n=e.overlay,r=e.content;return p.default.createElement("div",null,t&&p.default.createElement("div",{className:a+"-title"},t),p.default.createElement("div",{className:a+"-inner-content"},r||n))},t}(p.default.Component),o.defaultProps={prefixCls:"ant-popover",placement:"top",transitionName:"zoom-big",trigger:"hover",mouseEnterDelay:.1,mouseLeaveDelay:.1,overlayStyle:{}},c);t.default=E,e.exports=t.default},1113:function(e,t,a){var n,r;n=[a(2)],void 0!==(r=function(e){return e.createClass({displayName:"NavLine",getInitialState:function(){return{activeKey:this.props.activeItem?this.props.activeItem:"#1"}},componentWillReceiveProps:function(e){this.setState({activeKey:e.activeItem})},handleClickItem:function(e){this.setState({activeKey:e})},render:function(){var t=[],a=this.props,n=a.height?a.height-35:"",r=this.state.activeKey,i=a.navLineData;if(i){var l=void 0;for(var s in i)l=e.createElement("li",{className:"ant-timeline-item navLine "+(r==i[s]?"activeNavLineItem":""),onClick:this.handleClickItem.bind(this,i[s]),key:i[s]},e.createElement("div",{className:"ant-timeline-item-head ant-timeline-item-head-blue"}),e.createElement("div",{className:"ant-timeline-item-content"},e.createElement("a",{href:i[s]},s))),t.push(l)}return e.createElement("ul",{className:"ant-timeline",style:{height:n}},e.createElement("li",{className:"ant-timeline-item navLine",style:{paddingBottom:"30px"}},e.createElement("div",{className:"ant-timeline-item-head ant-timeline-item-head-blue  first-dot"}),e.createElement("div",{className:"ant-timeline-item-content"})),t,e.createElement("li",{className:"ant-timeline-item navLine",style:{position:"absolute",bottom:"-3px"}},e.createElement("div",{className:"ant-timeline-item-head ant-timeline-item-head-blue  last-dot"}),e.createElement("div",{className:"ant-timeline-item-content"})))}})}.apply(t,n))&&(e.exports=r)},1163:function(e,t,a){"use strict";var n=a(1164),r=a(1184),i=a(1189),l=a(1194),s=a(1199),o=a(1204),c=a(903),d=a(1209),u=a(1212),p=a(1217),m=a(1222),h=a(1230),f=a(1237),v=a(1245),g=a(1249),y=a(1264),b=a(1267),E=a(1272),S=a(1285),k=a(1290),C=a(1295),w=a(1300),N=a(1305),x=a(1310),P=a(1312),O=a(1317),I=a(1326),D=a(1327),T=a(1336),R=a(1342),V=a(1349),M=a(1352);e.exports={RepaymentPlanList:n,PaymentHistory:r,AlipayPaymentList:i,BankCardPaymentList:l,DeductionsList:s,StayDeductionsList:o,UserBasicInformation:c,UserAuthenticationList:d,UserFeedback:u,UserEducationList:p,BlackCustomerList:m,ScoreRank:h,AdjustCreditLine:f,TableFieldMaintenance:v,AssessScoreCard:g,LineTypeManage:y,BorrowingRulesManagement:b,LoanList:E,OverdueList:S,RepaymentList:k,BadDebtsList:C,ruleEngine:N,SystemConfig:x,sysUserManage:P,sysRoleManage:O,Druid:I,sysMenuManage:D,sysDicManage:T,SystemParameterSettings:R,LoanSchedule:w,NoteMessage:V,NoteMould:M}},1164:function(e,t,a){var n,r;n=[a(2),a(1165),a(1183)],void 0!==(r=function(e,t,a){return e.createClass({displayName:"RepaymentPlanList",getInitialState:function(){return{params:{pageSize:5,current:1}}},passParams:function(e){this.setState({params:e})},render:function(){return e.createElement("div",null,e.createElement("div",{className:"block-panel"},e.createElement(a,{passParams:this.passParams})),e.createElement(t,{params:this.state.params}))}})}.apply(t,n))&&(e.exports=r)},1165:function(e,t,a){var n,r;n=[a(905),a(2),a(1166),a(1167)],void 0!==(r=function(e,t,n,r){var i=a(210);return t.createClass({displayName:"List",getInitialState:function(){return{selectedRowKeys:[],loading:!1,data:[],pagination:{pageSize:10,current:1},canEdit:!0,visible:!1,visible1:!1,visible2:!1,pictureData:[],creditReportData:[],rowRecord:[],record:"",visibleAdd:!1}},componentWillReceiveProps:function(e,t){this.fetch(e.params)},componentDidMount:function(){this.fetch()},fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.setState({loading:!0}),!t.pageSize){var t={};t={pageSize:10,current:1}}Utils.ajaxData({url:"/modules/manage/borrow/repay/list.htm",method:"post",data:t,callback:function(a){var n=e.state.pagination;n.current=t.current,n.pageSize=t.pageSize,n.total=a.page.total,n.current||(n.current=1),e.setState({loading:!1,data:a.data,pagination:n})}})},showModal:function(e,t,a){var n=this;this.setState({visible:!0,canEdit:a,record:t,title:e},function(){n.refs.Lookdetails.setFieldsValue(t)})},addModal:function(e,t,a){this.setState({visibleAdd:!0,title:e})},hideModal:function(){this.setState({visible:!1,visible1:!1,visible2:!1,selectedIndex:"",selectedRowKeys:[],visibleAdd:!1}),this.refreshList()},rowKey:function(e){return e.id},onSelectChange:function(e){this.setState({selectedRowKeys:e})},handleTableChange:function(e,t,a){var n=this.state.pagination;n.current=e.current,this.setState({pagination:n}),this.refreshList()},refreshList:function(){var e=this.state.pagination,t=i({},this.props.params,{current:e.current,pageSize:e.pageSize});this.fetch(t)},onRowClick:function(e){this.setState({selectedRowKeys:[e.id],selectedRow:e,rowRecord:e},function(){})},rowClassName:function(e){var t=this.state.selectedIndex;return e.id==t&&""!==t?"selectRow":""},onSelectAll:function(e,t,a,n){e?this.setState({selectedRowKeys:t}):this.setState({selectedRowKeys:[]})},download:function(){window.open("/modules/manage/borrow/repay/downRepayByFile.htm")},render:function(){var a=this.state,i=(a.loading,a.selectedRowKeys),l=this;i.length>0&&i.indexOf("0");var s=[{title:"真实姓名",dataIndex:"realName"},{title:"手机号码",dataIndex:"phone"},{title:"订单号",dataIndex:"orderNo"},{title:"借款金额(元)",dataIndex:"borrowAmount"},{title:"逾期罚金(元)",dataIndex:"penaltyAmout"},{title:"逾期天数",dataIndex:"penaltyDay"},{title:"应还款金额(元)",dataIndex:"repayAmount"},{title:"应还款总额(元)",dataIndex:"repayTotal"},{title:"应还款日期",dataIndex:"repayTime"},{title:"还款状态",dataIndex:"state",render:function(e,t){return 10==t.state?"已还款":20==t.state?"未还款":"-"}},{title:"操作",dataIndex:"",render:function(e,a){return 10==a.state?"-":t.createElement("div",{style:{textAlign:"left"}},t.createElement("a",{href:"#",onClick:l.showModal.bind(l,"确认还款",a,!1)},"确认还款"))}}],o=this.state;return t.createElement("div",{className:"block-panel"},t.createElement("div",{className:"actionBtns",style:{marginBottom:16}},t.createElement("button",{onClick:l.addModal.bind(l,"批量"),className:"ant-btn"},"批量还款"),t.createElement("button",{onClick:l.download.bind(l,"下载"),className:"ant-btn"},"下载模板")),t.createElement(e,{columns:s,rowKey:this.rowKey,ref:"table",onRowClick:this.onRowClick,dataSource:this.state.data,rowClassName:this.rowClassName,pagination:this.state.pagination,onChange:this.handleTableChange}),t.createElement(n,{ref:"Lookdetails",visible:o.visible,title:o.title,hideModal:l.hideModal,record:o.record,canEdit:o.canEdit}),t.createElement(r,{ref:"AddWin",visible:o.visibleAdd,hideModal:l.hideModal,title:o.title}))}})}.apply(t,n))&&(e.exports=r)},1166:function(e,t,a){var n,r;n=[a(942),a(331),a(335),a(336),a(324),a(913),a(339),a(300),a(363),a(909),a(2)],void 0!==(r=function(e,t,n,r,i,l,s,o,c,d,u){var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},m=(d.Group,c.create),h=c.Item,f=o.confirm,v=s.Option,g=l.Group,y=(a(210),u.createClass({displayName:"Lookdetails",getInitialState:function(){return{value:1,startValue:null}},handleCancel:function(){this.state.value=1,this.state.startValue=null,this.props.form.resetFields(),this.props.hideModal()},componentWillReceiveProps:function(e){this.setState({record:e.record})},disabledStartDate:function(e){var t=new Date,a=new Date(this.props.record.borrowTime);return e.getTime()>t.getTime()||e.getTime()<a.getTime()},handleOk:function(){var e=this,t=this,a=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,n=/^(\d|[1-9]\d+)(\.\d+)?$/;this.props.form.validateFields(function(r,i){if(!r){if(i.amount>e.props.record.repayAmount)return void o.error({title:"还款金额过多"});if(i.amount&&!n.test(i.amount))return void o.error({title:"还款金额必须是大于等于零的数"});if(i.penaltyAmout1&&!n.test(i.penaltyAmout1))return void o.error({title:"逾期罚金必须是大于等于零的数"});if(i.penaltyAmout1>e.props.record.penaltyAmout)return void o.error({title:"逾期罚金过多"});if(a.test(i.repayAccount)&&"30"!=i.repayWay)return void o.error({title:"账号与方式不符,请核对"});f({title:"您是否确定提交",onOk:function(){Utils.ajaxData({url:"/modules/manage/borrow/repay/confirmRepay.htm",data:{id:i.id,repayTime:DateFormat.formatDate(i.repayTimes),repayAccount:i.repayAccount,repayWay:i.repayWay,serialNumber:i.serialNumber,amount:1==t.state.value?t.props.record.repayAmount:i.amount,penaltyAmout:1==t.state.value?t.props.record.penaltyAmout:i.penaltyAmout1,state:1==t.state.value?10:20},callback:function(e){200==e.code&&t.handleCancel();var a=200==e.code?"success":"warning";o[a]({title:e.msg})}})},onCancel:function(){}})}})},onChange1:function(e){this.setState({value:e.target.value})},render:function(){var a=this,d=this.props.form.getFieldProps,m=this.props,f=this.state,y={labelCol:{span:4},wrapperCol:{span:20}},b=[u.createElement(i,{key:"back",className:"ant-btn",onClick:this.handleCancel},"返 回"),u.createElement(i,{key:"button",className:"ant-btn ant-btn-primary",onClick:this.handleOk},"提 交")];return u.createElement(o,{title:m.title,visible:m.visible,onCancel:this.handleCancel,width:"500",footer:b,maskClosable:!1},u.createElement(c,{horizontal:!0,form:this.props.form},u.createElement(r,p({},d("id",{initialValue:""}),{type:"hidden"})),u.createElement(t,null,u.createElement(n,{span:"24"},u.createElement(h,p({},y,{label:"还款选择:"}),u.createElement(g,{onChange:this.onChange1,value:this.state.value},u.createElement(l,{key:"a",value:1},"正常还款"),u.createElement(l,{key:"b",value:2},"金额减免"))))),u.createElement(t,null,u.createElement(n,{span:"24"},u.createElement(h,p({},y,{label:"还款账号:"}),u.createElement(r,p({type:"text",placeholder:"请输入银行卡号或者支付宝账号"},d("repayAccount",{rules:[{required:!0,message:"输入过多或者未输",max:20}]})))))),u.createElement(t,null,u.createElement(n,{span:"24"},u.createElement(h,p({},y,{label:"还款方式:"}),u.createElement(s,p({placeholder:"请选择"},d("repayWay",{rules:[{required:!0,message:"必填",type:"string"}]})),u.createElement(v,{value:"20"},"银行卡转账"),u.createElement(v,{value:"30"},"支付宝转账"))))),u.createElement(t,null,u.createElement(n,{span:"24"},u.createElement(h,p({},y,{label:"流水号:"}),u.createElement(r,p({type:"text",placeholder:"请输入流水号"},d("serialNumber",{rules:[{required:!0,message:"输入过多或者未输",max:50}]})))))),u.createElement(t,null,u.createElement(n,{span:"24"},u.createElement(h,p({},y,{label:"还款时间:"}),u.createElement(e,p({format:"yyyy-MM-dd HH:mm:ss",disabledDate:this.disabledStartDate,value:this.state.startValue},d("repayTimes",{rules:[{required:!0,message:"必填",type:"date"}],onChange:function(e){a.setState({startValue:e})}})))))),1==f.value?"":u.createElement("div",null,u.createElement(t,null,u.createElement(n,{span:"24"},u.createElement(h,p({},y,{label:"还款金额:"}),u.createElement(r,p({type:"text",placeholder:"请输入还款金额"},d("amount",{rules:[{required:!0,message:"必填"}]})))))),this.state.startValue&&DateFormat.formatDate(this.state.startValue).substring(0,10)>this.props.record.repayTime.substring(0,10)?u.createElement(t,null,u.createElement(n,{span:"24"},u.createElement(h,p({},y,{label:"逾期罚金:"}),u.createElement(r,p({type:"text",placeholder:"请输入逾期罚金"},d("penaltyAmout1")))))):"")))}}));return y=m()(y)}.apply(t,n))&&(e.exports=r)},1167:function(e,t,a){var n,r;n=[a(331),a(335),a(324),a(1168),a(300),a(339),a(363),a(909),a(2),a(1181)],void 0!==(r=function(e,t,n,r,i,l,s,o,c){var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=(o.Group,s.create),p=s.Item,m=l.Option,h=i.confirm,f=(a(210),r.Dragger,c.createClass({displayName:"AddWin",getInitialState:function(){return{checked:!0,disabled:!1,data:"",timeString:"",record:"",fileName:""}},handleCancel:function(){this.state.fileName="",this.props.form.resetFields(),this.props.hideModal()},handleOk:function(){var e=this,t="";this.props.form.validateFields(function(a,n){a||(t=e.state.filea,t.append("type",n.type),h({title:"你是否确定上传",onOk:function(){var a=new XMLHttpRequest;a.open("POST","/modules/manage/borrow/repay/fileBatchRepay.htm",!0),a.onload=function(t){var n=JSON.parse(a.responseText);200===a.status?200==n.code?(window.open(n.data),e.handleCancel()):i.error({title:n.msg}):i.error({title:"请求失败"})},a.send(t)},onCancel:function(){}}))})},componentWillReceiveProps:function(e){this.setState({record:e.record})},handleFileChange:function(e){var t=document.getElementById("file").files[0],a=new FormData;a.append("repayFile",t),this.setState({filea:a,fileName:t.name})},render:function(){var a=this.props.form.getFieldProps,r=this.props,o=this.state,u={labelCol:{span:9},wrapperCol:{span:15}},h=[c.createElement(n,{key:"back",className:"ant-btn",onClick:this.handleCancel},"返 回"),c.createElement(n,{key:"button",className:"ant-btn ant-btn-primary",loading:o.loading,onClick:this.handleOk},"提 交")];return c.createElement(i,{title:r.title,visible:r.visible,onCancel:this.handleCancel,width:"500",footer:h,maskClosable:!1},c.createElement(s,{horizontal:!0,form:this.props.form},c.createElement(e,null,c.createElement(t,{span:"20"},c.createElement(p,d({},u,{label:"还款方式:"}),c.createElement(l,d({style:{width:100}},a("type",{initialValue:"alpay"})),c.createElement(m,{value:"bank"},"银行卡账单"),c.createElement(m,{value:"alpay"},"支付宝账单"))))),c.createElement(e,null,c.createElement(t,{span:"20"},c.createElement(p,d({},u,{label:"文件:"}),c.createElement("a",{href:"#",className:"a-upload"},c.createElement("input",{id:"file",onChange:this.handleFileChange,type:"file"}),"点击这里上传文件"),c.createElement("div",{title:o.fileName?o.fileName:"",id:"file1"},o.fileName?o.fileName.length>20?o.fileName.substring(0,20)+"...":o.fileName:""))))))}}));return f=u()(f)}.apply(t,n))&&(e.exports=r)},1168:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){for(var a=Object.getOwnPropertyNames(t),n=0;n<a.length;n++){var r=a[n],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}return e}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):r(e,t))}function c(){}function d(){return!0}function u(e){return{lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.filename||e.name,size:e.size,type:e.type,uid:e.uid,response:e.response,error:e.error,percent:0,originFileObj:e}}function p(){var e=.1;return function(t){var a=t;return a>=.98?a:(a+=e,e-=.01,e<.001&&(e=.001),100*a)}}function m(e){return y.default.createElement(O,v({},e,{type:"drag",style:{height:e.height}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var h,f,v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},g=a(2),y=n(g),b=a(1169),E=n(b),S=a(1175),k=n(S),C=a(1180),w=n(C),N=a(311),x=n(N),P="ant-upload",O=(f=h=function(e){function t(a){l(this,t);var n=s(this,e.call(this,a));return n.onStart=function(e){if(!1!==n.recentUploadStatus){var t=void 0,a=n.state.fileList.concat();e.length>0?(t=e.map(function(e){var t=u(e);return t.status="uploading",t}),a=a.concat(t)):(t=u(e),t.status="uploading",a.push(t)),n.onChange({file:t,fileList:a}),window.FormData||n.autoUpdateProgress(0,t)}},n.onSuccess=function(e,t){n.clearProgressTimer();try{"string"==typeof e&&(e=JSON.parse(e))}catch(e){}var a=n.state.fileList,r=(0,w.default)(t,a);r&&(r.status="done",r.response=e,n.onChange({file:r,fileList:a}))},n.onProgress=function(e,t){var a=n.state.fileList,r=(0,w.default)(t,a);r&&(r.percent=e.percent,n.onChange({event:e,file:r,fileList:n.state.fileList}))},n.onError=function(e,t,a){n.clearProgressTimer();var r=n.state.fileList,i=(0,w.default)(a,r);i.error=e,i.response=t,i.status="error",n.handleRemove(i)},n.beforeUpload=function(e){return n.recentUploadStatus=n.props.beforeUpload(e),n.recentUploadStatus},n.handlePreview=function(e){"onPreview"in n.props&&n.props.onPreview(e)},n.handleManualRemove=function(e){e.status="removed","onRemove"in n.props?n.props.onRemove(e):n.handleRemove(e)},n.onChange=function(e){n.setState({fileList:e.fileList}),n.props.onChange(e)},n.onFileDrop=function(e){n.setState({dragState:e.type})},n.state={fileList:n.props.fileList||n.props.defaultFileList||[],dragState:"drop"},n}return o(t,e),t.prototype.autoUpdateProgress=function(e,t){var a=this,n=p(),r=0;this.progressTimer=setInterval(function(){r=n(r),a.onProgress({percent:r},t)},200)},t.prototype.removeFile=function(e){var t=this.state.fileList,a=(0,w.default)(e,t),n=t.indexOf(a);return-1!==n?(t.splice(n,1),t):null},t.prototype.handleRemove=function(e){var t=this.removeFile(e);t&&this.onChange({file:e,fileList:t})},t.prototype.componentWillReceiveProps=function(e){"fileList"in e&&this.setState({fileList:e.fileList||[]})},t.prototype.clearProgressTimer=function(){clearInterval(this.progressTimer)},t.prototype.render=function(){var e,t=this.props.type||"select",a=v({},this.props,{onStart:this.onStart,onError:this.onError,onProgress:this.onProgress,onSuccess:this.onSuccess,beforeUpload:this.beforeUpload}),n=void 0;if(this.props.showUploadList&&(n=y.default.createElement(k.default,{listType:this.props.listType,items:this.state.fileList,onPreview:this.handlePreview,onRemove:this.handleManualRemove})),"drag"===t){var r=this.state.fileList.some(function(e){return"uploading"===e.status})?"ant-upload-drag-uploading":"",l="dragover"===this.state.dragState?"ant-upload-drag-hover":"";return y.default.createElement("span",{className:this.props.className},y.default.createElement("div",{className:"ant-upload ant-upload-drag "+r+" "+l,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,onDragLeave:this.onFileDrop},y.default.createElement(E.default,a,y.default.createElement("div",{className:"ant-upload-drag-container"},this.props.children))),n)}var s=(0,x.default)((e={},i(e,P,!0),i(e,"ant-upload-select",!0),i(e,"ant-upload-select-"+this.props.listType,!0),e)),o=this.props.children?y.default.createElement("div",{className:s},y.default.createElement(E.default,a)):null;return"picture-card"===this.props.listType?y.default.createElement("span",{className:this.props.className},n,o):y.default.createElement("span",{className:this.props.className},o,n)},t}(y.default.Component),h.Dragger=m,h.defaultProps={type:"select",multiple:!1,action:"",data:{},accept:"",onChange:c,beforeUpload:d,showUploadList:!0,listType:"text",className:""},f);t.default=O,e.exports=t.default},1169:function(e,t,a){"use strict";e.exports=a(1170)},1170:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){}Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),l=n(i),s=a(1171),o=n(s),c=a(1174),d=n(c),u=l.default.createClass({displayName:"Upload",propTypes:{action:i.PropTypes.string,name:i.PropTypes.string,multipart:i.PropTypes.bool,onError:i.PropTypes.func,onSuccess:i.PropTypes.func,onProgress:i.PropTypes.func,onStart:i.PropTypes.func,data:i.PropTypes.oneOfType([i.PropTypes.object,i.PropTypes.func]),headers:i.PropTypes.object,accept:i.PropTypes.string,multiple:i.PropTypes.bool,beforeUpload:i.PropTypes.func,onReady:i.PropTypes.func,withCredentials:i.PropTypes.bool,supportServerRender:i.PropTypes.bool},getDefaultProps:function(){return{data:{},headers:{},name:"file",multipart:!1,onProgress:r,onReady:r,onStart:r,onError:r,onSuccess:r,supportServerRender:!1,multiple:!1,beforeUpload:null,withCredentials:!1}},getInitialState:function(){return{Component:null}},componentDidMount:function(){this.props.supportServerRender&&this.setState({Component:this.getComponent()},this.props.onReady)},getComponent:function(){return"undefined"!=typeof FormData?o.default:d.default},render:function(){if(this.props.supportServerRender){var e=this.state.Component;return e?l.default.createElement(e,this.props):null}var t=this.getComponent();return l.default.createElement(t,this.props)}});t.default=u,e.exports=t.default},1171:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(1172),i=n(r),l=a(2),s=n(l),o=a(1173),c=n(o),d=s.default.createClass({displayName:"AjaxUploader",propTypes:{multiple:l.PropTypes.bool,onStart:l.PropTypes.func,data:l.PropTypes.oneOfType([l.PropTypes.object,l.PropTypes.func]),headers:l.PropTypes.object,beforeUpload:l.PropTypes.func,withCredentials:l.PropTypes.bool},onChange:function(e){var t=e.target.files;this.uploadFiles(t)},onClick:function(){var e=this.refs.file;e&&(e.click(),e.value="")},onKeyDown:function(e){"Enter"===e.key&&this.onClick()},onFileDrop:function(e){if("dragover"===e.type)return e.preventDefault();var t=e.dataTransfer.files;this.uploadFiles(t),e.preventDefault()},uploadFiles:function(e){var t=e.length;if(t>0){for(var a=0;a<t;a++){var n=e.item(a);n.uid=(0,c.default)(),this.upload(n)}this.props.multiple?this.props.onStart(Array.prototype.slice.call(e)):this.props.onStart(Array.prototype.slice.call(e)[0])}},upload:function(e){var t=this,a=this.props;if(!a.beforeUpload)return this.post(e);var n=a.beforeUpload(e);n&&n.then?n.then(function(){t.post(e)}):!1!==n&&this.post(e)},post:function(e){var t=this.props,a=t.data;"function"==typeof a&&(a=a(e)),(0,i.default)({action:t.action,filename:t.name,file:e,data:a,headers:t.headers,withCredentials:t.withCredentials,onProgress:function(a){t.onProgress(a,e)},onSuccess:function(a){t.onSuccess(a,e)},onError:function(a,n){t.onError(a,n,e)}})},render:function(){var e={display:"none"},t=this.props;return s.default.createElement("span",{onClick:this.onClick,onKeyDown:this.onKeyDown,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,role:"button",tabIndex:"0"},s.default.createElement("input",{type:"file",ref:"file",style:e,accept:t.accept,multiple:this.props.multiple,onChange:this.onChange}),t.children)}});t.default=d,e.exports=t.default},1172:function(e,t){"use strict";function a(e,t){var a="cannot post "+e.action+" "+t.status+"'",n=new Error(a);return n.status=t.status,n.method="post",n.url=e.action,n}function n(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(e){return t}}function r(e){if("undefined"!=typeof XMLHttpRequest){var t=new XMLHttpRequest;t.upload&&(t.upload.onprogress=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),e.onProgress(t)});var r=new FormData;e.data&&Object.keys(e.data).map(function(t){r.append(t,e.data[t])}),r.append(e.filename,e.file),t.onerror=function(t){e.onError(t)},t.onload=function(){if(t.status<200||t.status>=300)return e.onError(a(e,t),n(t));e.onSuccess(n(t))},t.open("post",e.action,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);var i=e.headers||{};null!==i["X-Requested-With"]&&t.setRequestHeader("X-Requested-With","XMLHttpRequest");for(var l in i)i.hasOwnProperty(l)&&null!==i[l]&&t.setRequestHeader(l,i[l]);t.send(r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,e.exports=t.default},1173:function(e,t){"use strict";function a(){return"rc-upload-"+n+"-"+ ++r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var n=+new Date,r=0;e.exports=t.default},1174:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(2),i=n(r),l=a(159),s=n(l),o=a(1173),c=n(o),d=a(361),u=n(d),p={position:"absolute",top:0,opacity:0,filter:"alpha(opacity=0)",left:0,zIndex:9999},m=i.default.createClass({displayName:"IframeUploader",propTypes:{onStart:r.PropTypes.func,multiple:r.PropTypes.bool,children:r.PropTypes.any,data:r.PropTypes.oneOfType([r.PropTypes.object,r.PropTypes.func]),action:r.PropTypes.string,name:r.PropTypes.string},componentDidMount:function(){this.updateIframeWH(),this.initIframe()},componentDidUpdate:function(){this.updateIframeWH()},onLoad:function(){if(this.loading){var e=this.props,t=void 0,a=this.file;try{var n=this.getIframeDocument(),r=n.getElementsByTagName("script")[0];r&&r.parentNode===n.body&&n.body.removeChild(r),t=n.body.innerHTML,e.onSuccess(t,a)}catch(n){(0,u.default)(!1,"cross domain error for Upload. Maybe server should return document.domain script. see Note from https://github.com/react-component/upload"),t="cross-domain",e.onError(n,null,a)}this.enableIframe(),this.initIframe()}},onChange:function(){var e=this.getFormInputNode(),t=this.file={uid:(0,c.default)(),name:e.value};this.props.onStart(this.getFileForMultiple(t));var a=this.getFormNode(),n=this.getFormDataNode(),r=this.props.data;"function"==typeof r&&(r=r(t));var i=[];for(var l in r)r.hasOwnProperty(l)&&i.push('<input name="'+l+'" value="'+r[l]+'"/>');n.innerHTML=i.join(""),a.submit(),n.innerHTML="",this.disabledIframe()},getIframeNode:function(){return this.refs.iframe},getIframeDocument:function(){return this.getIframeNode().contentDocument},getFormNode:function(){return this.getIframeDocument().getElementById("form")},getFormInputNode:function(){return this.getIframeDocument().getElementById("input")},getFormDataNode:function(){return this.getIframeDocument().getElementById("data")},getFileForMultiple:function(e){return this.props.multiple?[e]:e},getIframeHTML:function(e){var t="",a="";return e&&(t='<script>document.domain="'+e+'";<\/script>',a='<input name="_documentDomain" value="'+e+'" />'),'\n    <!DOCTYPE html>\n    <html>\n    <head>\n    <meta http-equiv="X-UA-Compatible" content="IE=edge" />\n    <style>\n    body,html {padding:0;margin:0;border:0;overflow:hidden;}\n    </style>\n    '+t+'\n    </head>\n    <body>\n    <form method="post"\n    encType="multipart/form-data"\n    action="'+this.props.action+'" id="form" style="display:block;height:9999px;position:relative;overflow:hidden;">\n    <input id="input" type="file"\n     name="'+this.props.name+'"\n     style="position:absolute;top:0;right:0;height:9999px;font-size:9999px;cursor:pointer;"/>\n    '+a+'\n    <span id="data"></span>\n    </form>\n    </body>\n    </html>\n    '},initIframeSrc:function(){this.domain&&(this.getIframeNode().src="javascript:void((function(){\n        var d = document;\n        d.open();\n        d.domain='"+this.domain+"';\n        d.write('');\n        d.close();\n      })())")},initIframe:function(){var e=this.getIframeNode(),t=e.contentWindow,a=void 0;this.domain=this.domain||"",this.initIframeSrc();try{a=t.document}catch(n){this.domain=document.domain,this.initIframeSrc(),t=e.contentWindow,a=t.document}a.open("text/html","replace"),a.write(this.getIframeHTML(this.domain)),a.close(),this.getFormInputNode().onchange=this.onChange},enableIframe:function(){this.loading=!1,this.getIframeNode().style.display=""},disabledIframe:function(){this.loading=!0,this.getIframeNode().style.display="none"},updateIframeWH:function(){var e=s.default.findDOMNode(this),t=this.getIframeNode();t.style.height=e.offsetHeight+"px",t.style.width=e.offsetWidth+"px"},render:function(){return i.default.createElement("span",{style:{position:"relative",zIndex:0}},i.default.createElement("iframe",{ref:"iframe",onLoad:this.onLoad,style:p}),this.props.children)}});t.default=m,e.exports=t.default},1175:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){for(var a=Object.getOwnPropertyNames(t),n=0;n<a.length;n++){var r=a[n],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}return e}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):r(e,t))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,d,u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},p=a(2),m=n(p),h=a(285),f=n(h),v=a(326),g=n(v),y=a(1176),b=n(y),E=a(311),S=n(E),k=function(e,t){var a=new FileReader;a.onloadend=function(){t(a.result)},a.readAsDataURL(e)},C=(d=c=function(e){function t(){var a,n,r;l(this,t);for(var i=arguments.length,o=Array(i),c=0;c<i;c++)o[c]=arguments[c];return a=n=s(this,e.call.apply(e,[this].concat(o))),n.handleClose=function(e){n.props.onRemove(e)},n.handlePreview=function(e,t){return t.preventDefault(),n.props.onPreview(e)},r=a,s(n,r)}return o(t,e),t.prototype.componentDidUpdate=function(){var e=this;"picture"!==this.props.listType&&"picture-card"!==this.props.listType||this.props.items.forEach(function(t){"undefined"!=typeof document&&"undefined"!=typeof window&&window.FileReader&&window.File&&t.originFileObj instanceof File&&void 0===t.thumbUrl&&(t.thumbUrl="",k(t.originFileObj,function(a){t.thumbUrl=a,e.forceUpdate()}))})},t.prototype.render=function(){var e,t=this,a=this.props.items.map(function(e){var a,n=void 0,r=m.default.createElement(g.default,{type:"paper-clip"});"picture"!==t.props.listType&&"picture-card"!==t.props.listType||(r="uploading"===e.status||!e.thumbUrl&&!e.url?"picture-card"===t.props.listType?m.default.createElement("div",{className:"ant-upload-list-item-uploading-text"
},"文件上传中"):m.default.createElement(g.default,{className:"ant-upload-list-item-thumbnail",type:"picture"}):m.default.createElement("a",{className:"ant-upload-list-item-thumbnail",onClick:function(a){return t.handlePreview(e,a)},href:e.url,target:"_blank"},m.default.createElement("img",{src:e.thumbUrl||e.url,alt:e.name}))),"uploading"===e.status&&(n=m.default.createElement("div",{className:"ant-upload-list-item-progress"},m.default.createElement(b.default,u({type:"line"},t.props.progressAttr,{percent:e.percent}))));var l=(0,S.default)((a={},i(a,"ant-upload-list-item",!0),i(a,"ant-upload-list-item-"+e.status,!0),a));return m.default.createElement("div",{className:l,key:e.uid},m.default.createElement("div",{className:"ant-upload-list-item-info"},r,e.url?m.default.createElement("a",{onClick:function(a){return t.handlePreview(e,a)},href:e.url,target:"_blank",className:"ant-upload-list-item-name"},e.name):m.default.createElement("span",{className:"ant-upload-list-item-name"},e.name),"picture-card"===t.props.listType&&"uploading"!==e.status?m.default.createElement("span",null,m.default.createElement("a",{onClick:function(a){return t.handlePreview(e,a)},href:e.url,target:"_blank",style:{pointerEvents:e.url?"":"none"}},m.default.createElement(g.default,{type:"eye-o"})),m.default.createElement(g.default,{type:"delete",onClick:function(){return t.handleClose(e)}})):m.default.createElement(g.default,{type:"cross",onClick:function(){return t.handleClose(e)}})),n)}),n=(0,S.default)((e={},i(e,"ant-upload-list",!0),i(e,"ant-upload-list-"+this.props.listType,!0),e));return m.default.createElement("div",{className:n},m.default.createElement(f.default,{transitionName:"ant-upload-margin-top"},a))},t}(m.default.Component),c.defaultProps={listType:"text",items:[],progressAttr:{strokeWidth:3,showInfo:!1}},d);t.default=C,e.exports=t.default},1176:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i=a(2),l=n(i),s=a(1177),o=n(s),c=a(361),d=n(c),u=o.default;u.Line=function(e){return(0,d.default)(!1,'<Progress.Line /> is deprecated, use <Progress type="line" /> instead.'),l.default.createElement(o.default,r({},e,{type:"line"}))},u.Circle=function(e){return(0,d.default)(!1,'<Progress.Circle /> is deprecated, use <Progress type="circle" /> instead.'),l.default.createElement(o.default,r({},e,{type:"circle"}))},t.default=u,e.exports=t.default},1177:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){for(var a=Object.getOwnPropertyNames(t),n=0;n<a.length;n++){var r=a[n],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}return e}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):r(e,t))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d,u,p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},m=a(2),h=n(m),f=a(326),v=n(f),g=a(1178),y=a(311),b=n(y),E={normal:"#2db7f5",exception:"#ff5500",success:"#87d068"},S=(u=d=function(e){function t(){return s(this,t),o(this,e.apply(this,arguments))}return c(t,e),t.prototype.render=function(){var e,t=this.props,a=t.prefixCls,n=t.status,r=t.format,s=t.percent,o=t.trailColor,c=t.type,d=t.strokeWidth,u=t.width,m=t.className,f=t.showInfo,y=l(t,["prefixCls","status","format","percent","trailColor","type","strokeWidth","width","className","showInfo"]),S=parseInt(s,10)>=100&&!("status"in this.props)?"success":n||"normal",k=void 0,C=void 0,w=r||function(e){return e+"%"};if(f){var N=void 0,x="circle"===c?"":"-circle";N="exception"===S?r?w(s):h.default.createElement(v.default,{type:"cross"+x}):"success"===S?r?w(s):h.default.createElement(v.default,{type:"check"+x}):w(s),k=h.default.createElement("span",{className:a+"-text"},N)}if("line"===c){var P={width:s+"%",height:d||10};C=h.default.createElement("div",null,h.default.createElement("div",{className:a+"-outer"},h.default.createElement("div",{className:a+"-inner"},h.default.createElement("div",{className:a+"-bg",style:P}))),k)}else if("circle"===c){var O=u||132,I={width:O,height:O,fontSize:.16*O+6};C=h.default.createElement("div",{className:a+"-inner",style:I},h.default.createElement(g.Circle,{percent:s,strokeWidth:d||6,strokeColor:E[S],trailColor:o}),k)}var D=(0,b.default)((e={},i(e,""+a,!0),i(e,a+"-"+c,!0),i(e,a+"-status-"+S,!0),i(e,a+"-show-info",f),i(e,m,!!m),e));return h.default.createElement("div",p({},y,{className:D}),C)},t}(h.default.Component),d.defaultProps={type:"line",percent:0,showInfo:!0,trailColor:"#f3f3f3",prefixCls:"ant-progress"},d.propTypes={status:m.PropTypes.oneOf(["normal","exception","active","success"]),type:m.PropTypes.oneOf(["line","circle"]),showInfo:m.PropTypes.bool,percent:m.PropTypes.number,width:m.PropTypes.number,strokeWidth:m.PropTypes.number,trailColor:m.PropTypes.string,format:m.PropTypes.func},u);t.default=S,e.exports=t.default},1178:function(e,t,a){"use strict";e.exports=a(1179)},1179:function(e,t,a){"use strict";var n=a(210),r=a(2),i={strokeWidth:1,strokeColor:"#3FC7FA",trailWidth:1,trailColor:"#D9D9D9"},l=r.createClass({displayName:"Line",render:function(){var e=n({},this.props),t={strokeDasharray:"100px, 100px",strokeDashoffset:100-e.percent+"px",transition:"stroke-dashoffset 0.6s ease 0s, stroke 0.6s linear"};["strokeWidth","strokeColor","trailWidth","trailColor"].forEach(function(t){return"trailWidth"===t&&!e.trailWidth&&e.strokeWidth?void(e.trailWidth=e.strokeWidth):"strokeWidth"===t&&e.strokeWidth&&(!parseFloat(e.strokeWidth)||parseFloat(e.strokeWidth)>100||parseFloat(e.strokeWidth)<0)?void(e[t]=i[t]):void(e[t]||(e[t]=i[t]))});var a=e.strokeWidth,l=a/2,s=100-a/2,o="M "+l+","+l+" L "+s+","+l,c="0 0 100 "+a;return r.createElement("svg",{className:"rc-progress-line",viewBox:c,preserveAspectRatio:"none"},r.createElement("path",{className:"rc-progress-line-trail",d:o,strokeLinecap:"round",stroke:e.trailColor,strokeWidth:e.trailWidth,fillOpacity:"0"}),r.createElement("path",{className:"rc-progress-line-path",d:o,strokeLinecap:"round",stroke:e.strokeColor,strokeWidth:e.strokeWidth,fillOpacity:"0",style:t}))}}),s=r.createClass({displayName:"Circle",render:function(){var e=n({},this.props),t=e.strokeWidth,a=50-t/2,l="M 50,50 m 0,-"+a+"\n     a "+a+","+a+" 0 1 1 0,"+2*a+"\n     a "+a+","+a+" 0 1 1 0,-"+2*a,s=2*Math.PI*a,o={strokeDasharray:s+"px "+s+"px",strokeDashoffset:(100-e.percent)/100*s+"px",transition:"stroke-dashoffset 0.6s ease 0s, stroke 0.6s ease"};return["strokeWidth","strokeColor","trailWidth","trailColor"].forEach(function(t){if("trailWidth"===t&&!e.trailWidth&&e.strokeWidth)return void(e.trailWidth=e.strokeWidth);e[t]||(e[t]=i[t])}),r.createElement("svg",{className:"rc-progress-circle",viewBox:"0 0 100 100"},r.createElement("path",{className:"rc-progress-circle-trail",d:l,stroke:e.trailColor,strokeWidth:e.trailWidth,fillOpacity:"0"}),r.createElement("path",{className:"rc-progress-circle-path",d:l,strokeLinecap:"round",stroke:e.strokeColor,strokeWidth:e.strokeWidth,fillOpacity:"0",style:o}))}});e.exports={Line:l,Circle:s}},1180:function(e,t){"use strict";function a(e,t){var a=e.uid?"byUid":"byName";return t.filter(function(t){return"byName"===a?t.name===e.name:t.uid===e.uid})[0]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a,e.exports=t.default},1181:[1456,1182],1182:function(e,t,a){t=e.exports=a(901)(),t.push([e.id,".a-upload {\r\n    height: 30px;\r\n    line-height: 20px;\r\n    position: relative;\r\n    color: #888;\r\n    background: #fafafa;\r\n    border: 1px solid #ddd;\r\n    border-radius: 4px;\r\n    overflow: hidden;\r\n}\r\n\r\n.a-upload  input {\r\n    position: absolute;\r\n    width: 120px;\r\n    opacity: 0;\r\n}\r\n\r\n.a-upload:hover {\r\n    color: #444;\r\n    background: #eee;\r\n    border-color: #ccc;\r\n    text-decoration: none\r\n}",""])},1183:function(e,t,a){var n,r;n=[a(324),a(336),a(942),a(339),a(363),a(2)],void 0!==(r=function(e,t,a,n,r,i){var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=r.create,o=r.Item,c=n.Option,d=a.RangePicker,u=i.createClass({displayName:"SeachForm",getInitialState:function(){return{roleList:[]}},handleQuery:function(){var e=this.props.form.getFieldsValue(),t={endTime:"",startTime:"",realName:e.realName,phone:e.phone,orderNo:e.orderNo,state:e.state};e.registTime&&(t.startTime=DateFormat.formatDate(e.registTime[0]).substring(0,10),t.endTime=DateFormat.formatDate(e.registTime[1]).substring(0,10)),this.props.passParams({searchParams:JSON.stringify(t),pageSize:10,current:1})},handleReset:function(){this.props.form.resetFields(),this.props.passParams({pageSize:10,current:1})},disabledDate:function(e){var t=new Date;return e.getTime()>t.getTime()},render:function(){var a=this.props.form.getFieldProps;return i.createElement(r,{inline:!0},i.createElement(o,{label:"真实姓名:"},i.createElement(t,a("realName"))),i.createElement(o,{label:"手机号码:"},i.createElement(t,a("phone"))),i.createElement(o,{label:"订单号:"},i.createElement(t,a("orderNo"))),i.createElement(o,{label:"还款状态:"},i.createElement(n,l({style:{width:100}},a("state",{initialValue:""})),i.createElement(c,{value:""},"全部"),i.createElement(c,{value:"10"},"已还款"),i.createElement(c,{value:"20"},"未还款"))),i.createElement(o,{label:"应还日期："},i.createElement(d,l({style:{width:"310"}},a("registTime",{initialValue:""})))),i.createElement(o,null,i.createElement(e,{type:"primary",onClick:this.handleQuery},"查询")),i.createElement(o,null,i.createElement(e,{type:"reset",onClick:this.handleReset},"重置")))}});return u=s()(u)}.apply(t,n))&&(e.exports=r)},1184:function(e,t,a){var n,r;n=[a(2),a(1185),a(1188)],void 0!==(r=function(e,t,a){return e.createClass({displayName:"PaymentHistory",getInitialState:function(){return{params:{}}},passParams:function(e){this.setState({params:e})},render:function(){return e.createElement("div",null,e.createElement("div",{className:"block-panel"},e.createElement(a,{passParams:this.passParams})),e.createElement(t,{params:this.state.params}))}})}.apply(t,n))&&(e.exports=r)},1185:function(e,t,a){var n,r;n=[a(905),a(2),a(1186),a(1187)],void 0!==(r=function(e,t,n,r){var i=a(416),l=a(210);return t.createClass({displayName:"List",getInitialState:function(){return{selectedRowKeys:[],loading:!1,data:[],pagination:{pageSize:10,current:1},canEdit:!0,visible:!1,visible1:!1,visible2:!1,pictureData:[],creditReportData:[],rowRecord:[],record:"",visibleAdd:!1}},componentWillReceiveProps:function(e,t){this.fetch(e.params)},componentDidMount:function(){this.fetch()},fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.setState({loading:!0}),!t.pageSize){var t={};t={pageSize:10,current:1}}i({url:"/modules/manage/borrow/repay/log/list.htm",method:"post",data:t,success:function(a){var n=e.state.pagination;n.current=t.current,n.pageSize=t.pageSize,n.total=a.page.total,n.current||(n.current=1),e.setState({loading:!1,data:a.data,pagination:n})}})},showModal:function(e,t,a){this.setState({visible:!0,canEdit:a,record:t,title:e})},addModal:function(e,t,a){this.setState({visibleAdd:!0,title:e})},hideModal:function(){this.setState({visible:!1,visible1:!1,visible2:!1,selectedIndex:"",selectedRowKeys:[],visibleAdd:!1}),this.refreshList()},rowKey:function(e){return e.id},onSelectChange:function(e){this.setState({selectedRowKeys:e})},handleTableChange:function(e,t,a){var n=this.state.pagination;n.current=e.current,this.setState({pagination:n}),this.refreshList()},refreshList:function(){var e=this.state.pagination,t=l({},this.props.params,{current:e.current,pageSize:e.pageSize});this.fetch(t)},onRowClick:function(e){this.setState({selectedRowKeys:[e.id],selectedRow:e,rowRecord:e},function(){})},rowClassName:function(e){var t=this.state.selectedIndex;return e.id==t&&""!==t?"selectRow":""},onSelectAll:function(e,t,a,n){e?this.setState({selectedRowKeys:t}):this.setState({selectedRowKeys:[]})},render:function(){var a=this.state,i=(a.loading,a.selectedRowKeys),l=(this.onSelectAll,this);i.length>0&&i.indexOf("0");var s=[{title:"真实姓名",dataIndex:"realName"},{title:"手机号码",dataIndex:"phone"},{title:"渠道名称",dataIndex:"channelName"},{title:"订单号",dataIndex:"orderNo"},{title:"借款金额(元)",dataIndex:"borrowAmount"},{title:"综合费用(元)",dataIndex:"fee"},{title:"应还金额(元)",dataIndex:"repayAmount"},{title:"逾期天数",dataIndex:"penaltyDay"},{title:"应还逾期罚金(元)",dataIndex:"repayPenalty"},{title:"应还总额(元)",dataIndex:"repayTotal"},{title:"实还金额(元)",dataIndex:"repayLogAmount"},{title:"实还逾期罚金(元)",dataIndex:"penaltyAmout"},{title:"实还总金额(元)",dataIndex:"repayYesTotal"},{title:"还款账号",dataIndex:"repayAccount"},{title:"流水号",width:150,dataIndex:"serialNumber"},{title:"还款方式",dataIndex:"repayWay",render:function(e,t){return 10==t.repayWay?"代扣":20==t.repayWay?"银行卡转账":30==t.repayWay?"支付宝转账":"-"}},{title:"应还款日期",width:80,dataIndex:"repayPlanTime"},{title:"实还款日期",width:80,dataIndex:"repayTime"},{title:"操作",width:40,dataIndex:"",render:function(e,a){return t.createElement("div",{style:{textAlign:"left"}},t.createElement("a",{href:"#",onClick:l.showModal.bind(l,"补扣",a,!0)},"补扣"),t.createElement("br",null),t.createElement("a",{href:"#",onClick:l.showModal.bind(l,"退还",a,!0)},"退还"))}}],o=this.state;return t.createElement("div",{className:"block-panel"},t.createElement(e,{columns:s,rowKey:this.rowKey,ref:"table",onRowClick:this.onRowClick,dataSource:this.state.data,rowClassName:this.rowClassName,pagination:this.state.pagination,onChange:this.handleTableChange}),t.createElement(n,{ref:"Lookdetails",visible:o.visible,title:o.title,hideModal:l.hideModal,record:o.record,canEdit:o.canEdit}),t.createElement(r,{ref:"AddWin",visible:o.visibleAdd,hideModal:l.hideModal,title:o.title}))}})}.apply(t,n))&&(e.exports=r)},1186:function(e,t,a){var n,r;n=[a(331),a(335),a(336),a(324),a(300),a(339),a(363),a(909),a(2)],void 0!==(r=function(e,t,n,r,i,l,s,o,c){var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=(o.Group,s.create),p=s.Item,m=(l.Option,a(210),c.createClass({displayName:"Lookdetails",getInitialState:function(){return{}},handleCancel:function(){this.props.form.resetFields(),this.props.hideModal()},componentWillReceiveProps:function(e){this.setState({record:e.record})},handleOk:function(){var e=this,t=this,a=/^(\d|[1-9]\d+)(\.\d+)?$/;this.props.form.validateFields(function(n,r){if(!n){if(!a.test(r.amount))return void i.error({title:"请输入正确的金额"});var l="补扣"==e.props.title?"/modules/manage/borrow/repayLog/deduction.htm":"/modules/manage/borrow/repayLog/refund.htm";Utils.ajaxData({url:l,data:{id:t.props.record.id,amount:r.amount},callback:function(e){200==e.code&&t.handleCancel();var a=200==e.code?"success":"warning";i[a]({title:e.msg})}})}})},render:function(){var a=this.props.form.getFieldProps,l=this.props,o=(this.state,{labelCol:{span:9},wrapperCol:{span:15}}),u=[c.createElement(r,{key:"back",className:"ant-btn",onClick:this.handleCancel},"返 回"),c.createElement(r,{key:"button",className:"ant-btn ant-btn-primary",onClick:this.handleOk},"提 交")];return c.createElement(i,{title:l.title,visible:l.visible,onCancel:this.handleCancel,width:"400",footer:u,maskClosable:!1},c.createElement(s,{horizontal:!0,form:this.props.form},c.createElement(n,d({},a("id",{initialValue:""}),{type:"hidden"})),c.createElement(e,null,c.createElement(t,{span:"15"},c.createElement(p,d({},o,{label:"补扣"==l.title?"补扣金额:":"退还金额:"}),c.createElement(n,d({type:"text"},a("amount",{initialValue:"",rules:[{required:!0,message:"必填"}]}))))))))}}));return m=u()(m)}.apply(t,n))&&(e.exports=r)},1187:function(e,t,a){var n,r;n=[a(331),a(335),a(336),a(324),a(300),a(339),a(363),a(909),a(2)],void 0!==(r=function(e,t,n,r,i,l,s,o,c){var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=(o.Group,s.create),p=s.Item,m=l.Option,h=(a(210),c.createClass({displayName:"AddWin",getInitialState:function(){return{checked:!0,disabled:!1,data:"",timeString:"",record:""}},handleCancel:function(){this.props.form.resetFields(),this.props.hideModal()},handleOk:function(){var e=this;this.props.form.validateFields(function(t,a){t||Utils.ajaxData({url:"/test/api/borrow/apply.htm",data:a,callback:function(t){200==t.code&&e.handleCancel();t.code;i.success({title:"添加成功"})}})})},componentWillReceiveProps:function(e){this.setState({record:e.record})},render:function(){var a=this.props.form.getFieldProps,o=this.props,u=this.state,h={labelCol:{span:9},wrapperCol:{span:15}},f=[c.createElement(r,{key:"back",className:"ant-btn",onClick:this.handleCancel},"返 回"),c.createElement(r,{key:"button",className:"ant-btn ant-btn-primary",loading:u.loading,onClick:this.handleOk},"提 交")];return c.createElement(i,{title:o.title,visible:o.visible,onCancel:this.handleCancel,width:"900",footer:f,maskClosable:!1},c.createElement(s,{horizontal:!0,form:this.props.form},c.createElement(n,d({},a("id",{initialValue:""}),{type:"hidden"})),c.createElement(e,null,c.createElement(t,{span:"12"},c.createElement(p,d({},h,{label:"借款金额:"}),c.createElement(n,d({type:"text"},a("amount",{initialValue:"1000.00",rules:[{required:!0,message:"必填"}]}))))),c.createElement(t,{span:"12"},c.createElement(p,d({},h,{label:"利率:"}),c.createElement(n,d({type:"text"},a("apr",{initialValue:"10",rules:[{required:!0,message:"必填"}]})))))),c.createElement(e,null,c.createElement(t,{span:"12"},c.createElement(p,d({},h,{label:"银行卡号:"}),c.createElement(n,d({type:"text"},a("bankCard",{initialValue:"62258858667454",rules:[{required:!0,message:"必填"}]}))))),c.createElement(t,{span:"12"},c.createElement(p,d({},h,{label:"银行编码:"}),c.createElement(n,d({type:"text"},a("bankCode",{initialValue:"102",rules:[{required:!0,message:"必填"}]})))))),c.createElement(e,null,c.createElement(t,{span:"12"},c.createElement(p,d({},h,{label:"标的标识:"}),c.createElement(n,d({type:"text"},a("borrowNo",{initialValue:"",rules:[{required:!0,message:"必填"}]}))))),c.createElement(t,{span:"12"},c.createElement(p,d({},h,{label:"渠道名称:"}),c.createElement(n,d({type:"text"},a("channelName",{initialValue:"51返呗",rules:[{required:!0,message:"必填"}]})))))),c.createElement(e,null,c.createElement(t,{span:"12"},c.createElement(p,d({},h,{label:"渠道标识:"}),c.createElement(n,d({type:"text"},a("channelNo",{initialValue:"10",rules:[{required:!0,message:"必填"}]}))))),c.createElement(t,{span:"12"},c.createElement(p,d({},h,{label:"商品名称:"}),c.createElement(n,d({type:"text"},a("goodsName",{initialValue:"Nokia",rules:[{required:!0,message:"必填"}]})))))),c.createElement(e,null,c.createElement(t,{span:"12"},c.createElement(p,d({},h,{label:"身份证号码:"}),c.createElement(n,d({type:"text"},a("certNo",{initialValue:"411328189401015564",rules:[{required:!0,message:"必填"}]}))))),c.createElement(t,{span:"12"},c.createElement(p,d({},h,{label:"订单号:"}),c.createElement(n,d({type:"text"},a("orderNo",{initialValue:"",rules:[{required:!0,message:"必填"}]})))))),c.createElement(e,null,c.createElement(t,{span:"12"},c.createElement(p,d({},h,{label:"期数:"}),c.createElement(n,d({type:"text"},a("period",{initialValue:"1",rules:[{required:!0,message:"必填"}]}))))),c.createElement(t,{span:"12"},c.createElement(p,d({},h,{label:"手机号码:"}),c.createElement(n,d({type:"text"},a("phone",{initialValue:"18064215865",rules:[{required:!0,message:"必填"}]})))))),c.createElement(e,null,c.createElement(t,{span:"12"},c.createElement(p,d({},h,{label:"真实姓名:"}),c.createElement(n,d({type:"text"},a("realName",{initialValue:"张三",rules:[{required:!0,message:"必填"}]}))))),c.createElement(t,{span:"12"},c.createElement(p,d({},h,{label:"放款时收款方银行卡号:"}),c.createElement(n,d({type:"text"},a("recvBankCard",{initialValue:"6225885822334455",rules:[{required:!0,message:"必填"}]})))))),c.createElement(e,null,c.createElement(t,{span:"12"},c.createElement(p,d({},h,{label:"放款时收款方户名:"}),c.createElement(n,d({type:"text"},a("recvRealName",{initialValue:"李四",rules:[{required:!0,message:"必填"}]}))))),c.createElement(t,{span:"12"},c.createElement(p,d({},h,{label:"还款方式:"}),c.createElement(n,d({type:"text"},a("repaymentType",{initialValue:"01",rules:[{required:!0,message:"必填"}]})))))),c.createElement(e,null,c.createElement(t,{span:"12"},c.createElement(p,d({},h,{label:"借款类型:"}),c.createElement(n,d({type:"text"},a("borrowType",{initialValue:"01",rules:[{required:!0,message:"必填"}]}))))),c.createElement(t,{span:"12"},c.createElement(p,d({},h,{label:"用户名:"}),c.createElement(n,d({type:"text"},a("userName",{initialValue:"test1",rules:[{required:!0,message:"必填"}]})))))),c.createElement(e,null,c.createElement(t,{span:"12"},c.createElement(p,d({},h,{label:"标的期限:"}),c.createElement(n,d({},a("timeLimit",{initialValue:"30",rules:[{required:!0,message:"必填"}]}),{type:"text",autoComplete:"off"})))),c.createElement(t,{span:"12"},c.createElement(p,d({},h,{label:"标的期限类型:"}),c.createElement(l,a("timeLimitType",{initialValue:"10",rules:[{required:!0,message:"必填"}]}),c.createElement(m,{value:"10"},"天"),c.createElement(m,{value:"20"},"月"),c.createElement(m,{value:"30"},"年"))))),c.createElement(e,null,c.createElement(t,{span:"12"},c.createElement(p,d({},h,{label:"用户标识:"}),c.createElement(n,d({type:"text"},a("consumerNo",{initialValue:"",rules:[{required:!0,message:"必填"}]}))))),c.createElement(t,{span:"12"},c.createElement(p,d({},h,{label:"域名:"}),c.createElement(n,d({type:"text"},a("url",{initialValue:"http://arc.edushi.erongyun.net",rules:[{required:!0,message:"必填"}]}))))))))}}));return h=u()(h)}.apply(t,n))&&(e.exports=r)},1188:function(e,t,a){var n,r;n=[a(324),a(336),a(300),a(339),a(942),a(363),a(2)],void 0!==(r=function(e,t,a,n,r,i,l){var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=i.create,c=i.Item,d=r.RangePicker,u=n.Option,p=(a.confirm,l.createClass({displayName:"SeachForm",getInitialState:function(){return{roleList:[]}},handleQuery:function(){var e=this.props.form.getFieldsValue(),t={startDate:"",endDate:"",orderNo:e.orderNo,serialNumber:e.serialNumber,repayAccount:e.repayAccount,type:e.type};e.time&&(t.endDate=DateFormat.formatDate(e.time[1]).substring(0,10),t.startDate=DateFormat.formatDate(e.time[0]).substring(0,10)),this.props.passParams({searchParams:JSON.stringify(t),pageSize:10,current:1})},handleReset:function(){this.props.form.resetFields(),this.props.passParams({pageSize:10,current:1})},handleOut:function(){var e=this.props.form.getFieldsValue(),t={startDate:"",endDate:"",orderNo:e.orderNo,serialNumber:e.serialNumber,repayAccount:e.repayAccount,type:e.type};e.time&&(t.endDate=DateFormat.formatDate(e.time[1]).substring(0,10),t.startDate=DateFormat.formatDate(e.time[0]).substring(0,10));var t=JSON.stringify(t);window.open("/modules/manage/borrowRepayLog/export.htm?searchParams="+t)},disabledDate:function(e){var t=new Date;return e.getTime()>t.getTime()},render:function(){var a=this.props.form.getFieldProps;return l.createElement(i,{inline:!0},l.createElement(c,{label:"还款时间:"},l.createElement(d,s({disabledDate:this.disabledDate},a("time",{initialValue:""})))),l.createElement(c,{label:"订单号:"},l.createElement(t,a("orderNo",{initialValue:""}))),l.createElement(c,{label:"流水号:"},l.createElement(t,a("serialNumber",{initialValue:""}))),l.createElement(c,{label:"还款账号:"},l.createElement(t,a("repayAccount",{initialValue:""}))),l.createElement(c,{label:"是否金额减免:"},l.createElement(n,s({style:{width:100}},a("type",{initialValue:""})),l.createElement(u,{value:""},"全部"),l.createElement(u,{value:"10"},"是"),l.createElement(u,{value:"20"},"不是"))),l.createElement(c,null,l.createElement(e,{type:"primary",onClick:this.handleQuery},"查询")),l.createElement(c,null,l.createElement(e,{type:"reset",onClick:this.handleReset},"重置")),l.createElement(c,null,l.createElement(e,{onClick:this.handleOut},"导出")))}}));return p=o()(p)}.apply(t,n))&&(e.exports=r)},1189:function(e,t,a){var n,r;n=[a(2),a(1190),a(1193)],void 0!==(r=function(e,t,a){return e.createClass({displayName:"AlipayPaymentList",getInitialState:function(){return{params:{}}},passParams:function(e){this.setState({params:e})},render:function(){return e.createElement("div",null,e.createElement("div",{className:"block-panel"},e.createElement(a,{passParams:this.passParams})),e.createElement(t,{params:this.state.params}))}})}.apply(t,n))&&(e.exports=r)},1190:function(e,t,a){var n,r;n=[a(905),a(2),a(1191),a(1192)],void 0!==(r=function(e,t,n,r){var i=a(210);return t.createClass({displayName:"List",getInitialState:function(){return{selectedRowKeys:[],loading:!1,data:[],pagination:{pageSize:10,current:1},canEdit:!0,visible:!1,visible1:!1,visible2:!1,pictureData:[],creditReportData:[],rowRecord:[],record:"",visibleAdd:!1}},componentWillReceiveProps:function(e,t){this.fetch(e.params)},componentDidMount:function(){this.fetch()},fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.setState({loading:!0}),!t.pageSize){var t={};t={pageSize:10,current:1,searchParams:JSON.stringify({repayWay:"30"})}}t.searchParams||(t.searchParams=JSON.stringify({repayWay:"30"})),Utils.ajaxData({url:"/modules/manage/borrow/repay/log/list.htm",method:"post",data:t,callback:function(a){var n=e.state.pagination;n.current=t.current,n.pageSize=t.pageSize,n.total=a.page.total,n.current||(n.current=1),e.setState({loading:!1,data:a.data,pagination:n})}})},showModal:function(e,t,a){var n=this;this.setState({visible:!0,canEdit:a,record:t,title:e},function(){n.refs.Lookdetails.setFieldsValue(t)})},addModal:function(e,t,a){this.setState({visibleAdd:!0,title:e})},hideModal:function(){this.setState({visible:!1,visible1:!1,visible2:!1,selectedIndex:"",selectedRowKeys:[],visibleAdd:!1}),this.refreshList()},rowKey:function(e){return e.id},onSelectChange:function(e){this.setState({selectedRowKeys:e})},handleTableChange:function(e,t,a){var n=this.state.pagination;n.current=e.current,this.setState({pagination:n}),this.refreshList()},refreshList:function(){var e=this.state.pagination,t=i({},this.props.params,{current:e.current,pageSize:e.pageSize});this.fetch(t)},onRowClick:function(e){this.setState({selectedRowKeys:[e.id],selectedRow:e,rowRecord:e},function(){})},rowClassName:function(e){var t=this.state.selectedIndex;return e.id==t&&""!==t?"selectRow":""},onSelectAll:function(e,t,a,n){e?this.setState({selectedRowKeys:t}):this.setState({selectedRowKeys:[]})},render:function(){var a=this.state,i=(a.loading,a.selectedRowKeys),l=(this.onSelectAll,this);i.length>0&&i.indexOf("0");var s=[{title:"真实姓名",dataIndex:"realName"},{title:"手机号码",dataIndex:"phone"},{title:"订单号",dataIndex:"orderNo"},{title:"借款金额(元)",dataIndex:"borrowAmount"},{title:"综合费用(元)",dataIndex:"fee"},{title:"应还金额(元)",dataIndex:"repayAmount"},{title:"逾期天数",dataIndex:"penaltyDay"},{title:"应还逾期罚金(元)",dataIndex:"repayPenalty"},{title:"应还总额(元)",dataIndex:"repayTotal"},{title:"实还金额(元)",dataIndex:"repayLogAmount"},{title:"实还逾期罚金(元)",dataIndex:"penaltyAmout"},{title:"实还总金额(元)",dataIndex:"repayYesTotal"},{title:"还款账号",width:150,dataIndex:"repayAccount"},{title:"流水号",width:150,dataIndex:"serialNumber"},{title:"应还款日期",width:80,dataIndex:"repayPlanTime"},{title:"实还款日期",width:80,dataIndex:"repayTime"}],o=this.state;return t.createElement("div",{className:"block-panel"},t.createElement(e,{columns:s,rowKey:this.rowKey,ref:"table",onRowClick:this.onRowClick,dataSource:this.state.data,rowClassName:this.rowClassName,pagination:this.state.pagination,onChange:this.handleTableChange}),t.createElement(n,{ref:"Lookdetails",visible:o.visible,title:o.title,hideModal:l.hideModal,record:o.record,canEdit:o.canEdit}),t.createElement(r,{ref:"AddWin",visible:o.visibleAdd,hideModal:l.hideModal,title:o.title}))}})}.apply(t,n))&&(e.exports=r)},1191:function(e,t,a){var n,r;n=[a(331),a(335),a(942),a(336),a(324),a(300),a(339),a(363),a(909),a(2)],void 0!==(r=function(e,t,n,r,i,l,s,o,c,d){var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},p=(c.Group,o.create),m=o.Item,h=(s.Option,a(210),d.createClass({displayName:"Lookdetails",getInitialState:function(){return{}},handleCancel:function(){this.props.form.resetFields(),this.props.hideModal()},componentWillReceiveProps:function(e){this.setState({record:e.record})},handleOk:function(){var e=this;this.props.form.validateFields(function(t,a){t||Utils.ajaxData({url:"/modules/manage/borrow/repay/confirmRepay.htm",data:{id:a.id,repayTime:DateFormat.formatDate(a.repayTimes)},callback:function(t){200==t.code?l.success({title:t.msg,onOk:function(){e.handleCancel()}}):l.error({title:t.msg})}})})},render:function(){var a=this.props.form.getFieldProps,s=this.props,c=(this.state,{labelCol:{span:9},wrapperCol:{span:15}}),p=[d.createElement(i,{key:"back",className:"ant-btn",onClick:this.handleCancel},"返 回"),d.createElement(i,{key:"button",className:"ant-btn ant-btn-primary",onClick:this.handleOk},"提 交")];return d.createElement(l,{title:s.title,visible:s.visible,onCancel:this.handleCancel,width:"900",footer:p,maskClosable:!1},d.createElement(o,{horizontal:!0,form:this.props.form},d.createElement(r,u({},a("id",{initialValue:""}),{type:"hidden"})),d.createElement(e,null,d.createElement(t,{span:"12"},d.createElement(m,u({},c,{label:"还款时间:"}),d.createElement(n,a("repayTimes",{initialValue:"",rules:[{required:!0,message:"必填",type:"date"}]})))))))}}));return h=p()(h)}.apply(t,n))&&(e.exports=r)},1192:1187,1193:function(e,t,a){var n,r;n=[a(324),a(336),a(339),a(363),a(2)],void 0!==(r=function(e,t,a,n,r){var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=n.create,s=n.Item,o=(a.Option,r.createClass({displayName:"SeachForm",getInitialState:function(){return{roleList:[]}},handleQuery:function(){var e=this.props.form.getFieldsValue();this.props.passParams({searchParams:JSON.stringify(e),pageSize:10,current:1})},handleReset:function(){this.props.form.resetFields(),this.props.passParams({pageSize:10,current:1,searchParams:JSON.stringify({repayWay:"30"})})},render:function(){var a=this.props.form.getFieldProps;return r.createElement(n,{inline:!0},r.createElement(t,i({type:"hidden"},a("repayWay",{initialValue:"30"}))),r.createElement(s,{label:"订单号:"},r.createElement(t,a("orderNo"))),r.createElement(s,{label:"还款账号:"},r.createElement(t,a("repayAccount"))),r.createElement(s,null,r.createElement(e,{type:"primary",onClick:this.handleQuery},"查询")),r.createElement(s,null,r.createElement(e,{type:"reset",onClick:this.handleReset},"重置")))}}));return o=l()(o)}.apply(t,n))&&(e.exports=r)},1194:function(e,t,a){var n,r;n=[a(2),a(1195),a(1198)],void 0!==(r=function(e,t,a){return e.createClass({displayName:"BankCardPaymentList",getInitialState:function(){return{params:{}}},passParams:function(e){this.setState({params:e})},render:function(){return e.createElement("div",null,e.createElement("div",{
className:"block-panel"},e.createElement(a,{passParams:this.passParams})),e.createElement(t,{params:this.state.params}))}})}.apply(t,n))&&(e.exports=r)},1195:function(e,t,a){var n,r;n=[a(905),a(300),a(2),a(1196),a(1197)],void 0!==(r=function(e,t,n,r,i){var l=a(210),s=t.confirm;return n.createClass({displayName:"List",getInitialState:function(){return{selectedRowKeys:[],loading:!1,data:[],pagination:{pageSize:10,current:1},canEdit:!0,visible:!1,visible1:!1,visible2:!1,pictureData:[],creditReportData:[],rowRecord:[],record:"",visibleAdd:!1}},componentWillReceiveProps:function(e,t){this.fetch(e.params)},componentDidMount:function(){this.fetch()},fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.setState({loading:!0}),!t.pageSize){var t={};t={pageSize:10,current:1,searchParams:JSON.stringify({repayWay:"20"})}}t.searchParams||(t.searchParams=JSON.stringify({repayWay:"20"})),Utils.ajaxData({url:"/modules/manage/borrow/repay/log/list.htm",method:"post",data:t,callback:function(a){var n=e.state.pagination;n.current=t.current,n.pageSize=t.pageSize,n.total=a.page.total,n.current||(n.current=1),e.setState({loading:!1,data:a.data,pagination:n})}})},showModal:function(e,t,a){var n=this;this.setState({visible:!0,canEdit:a,record:t,title:e},function(){n.refs.Lookdetails.setFieldsValue(t)})},addModal:function(e,t,a){this.setState({visibleAdd:!0,title:e})},hideModal:function(){this.setState({visible:!1,visible1:!1,visible2:!1,selectedIndex:"",selectedRowKeys:[],visibleAdd:!1}),this.refreshList()},rowKey:function(e){return e.id},onSelectChange:function(e){this.setState({selectedRowKeys:e})},handleTableChange:function(e,t,a){var n=this.state.pagination;n.current=e.current,this.setState({pagination:n}),this.refreshList()},refreshList:function(){var e=this.state.pagination,t=l({},this.props.params,{current:e.current,pageSize:e.pageSize});this.fetch(t)},onRowClick:function(e){this.setState({selectedRowKeys:[e.id],selectedRow:e,rowRecord:e},function(){})},rowClassName:function(e){var t=this.state.selectedIndex;return e.id==t&&""!==t?"selectRow":""},onSelectAll:function(e,t,a,n){e?this.setState({selectedRowKeys:t}):this.setState({selectedRowKeys:[]})},again:function(e,a){var a=a,n=this;s({title:"你是否确定",onOk:function(){Utils.ajaxData({url:"/modules/manage/borrow/payAgain.htm",data:{borrowId:a.id},method:"post",callback:function(e){200==e.code?(t.success({title:e.msg}),n.refreshList()):t.error({title:e.msg})}})},onCancel:function(){}})},render:function(){var t=this.state,a=(t.loading,t.selectedRowKeys),l=(this.onSelectAll,this);a.length>0&&a.indexOf("0");var s=[{title:"真实姓名",dataIndex:"realName"},{title:"手机号码",dataIndex:"phone"},{title:"订单号",dataIndex:"orderNo"},{title:"借款金额(元)",dataIndex:"borrowAmount"},{title:"综合费用(元)",dataIndex:"fee"},{title:"应还金额(元)",dataIndex:"repayAmount"},{title:"逾期天数",dataIndex:"penaltyDay"},{title:"应还逾期罚金(元)",dataIndex:"repayPenalty"},{title:"应还总额(元)",dataIndex:"repayTotal"},{title:"实还金额(元)",dataIndex:"repayLogAmount"},{title:"实还逾期罚金(元)",dataIndex:"penaltyAmout"},{title:"实还总金额(元)",dataIndex:"repayYesTotal"},{title:"还款账号",width:150,dataIndex:"repayAccount"},{title:"流水号",width:150,dataIndex:"serialNumber"},{title:"应还款日期",width:80,dataIndex:"repayPlanTime"},{title:"实还款日期",width:80,dataIndex:"repayTime"},{title:"操作",dataIndex:"",render:function(e,t){return n.createElement("div",{style:{textAlign:"left"}},n.createElement("a",{href:"#",onClick:l.again.bind(l,"取消贷款",t)},"取消贷款"))}}],o=this.state;return n.createElement("div",{className:"block-panel"},n.createElement(e,{columns:s,rowKey:this.rowKey,ref:"table",onRowClick:this.onRowClick,dataSource:this.state.data,rowClassName:this.rowClassName,pagination:this.state.pagination,onChange:this.handleTableChange}),n.createElement(r,{ref:"Lookdetails",visible:o.visible,title:o.title,hideModal:l.hideModal,record:o.record,canEdit:o.canEdit}),n.createElement(i,{ref:"AddWin",visible:o.visibleAdd,hideModal:l.hideModal,title:o.title}))}})}.apply(t,n))&&(e.exports=r)},1196:1191,1197:1187,1198:function(e,t,a){var n,r;n=[a(324),a(336),a(339),a(363),a(2)],void 0!==(r=function(e,t,a,n,r){var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=n.create,s=n.Item,o=(a.Option,r.createClass({displayName:"SeachForm",getInitialState:function(){return{roleList:[]}},handleQuery:function(){var e=this.props.form.getFieldsValue();this.props.passParams({searchParams:JSON.stringify(e),pageSize:10,current:1})},handleReset:function(){this.props.form.resetFields(),this.props.passParams({pageSize:10,current:1,searchParams:JSON.stringify({repayWay:"20"})})},render:function(){var a=this.props.form.getFieldProps;return r.createElement(n,{inline:!0},r.createElement(t,i({type:"hidden"},a("repayWay",{initialValue:"20"}))),r.createElement(s,{label:"订单号:"},r.createElement(t,a("orderNo"))),r.createElement(s,{label:"还款账号:"},r.createElement(t,a("repayAccount"))),r.createElement(s,null,r.createElement(e,{type:"primary",onClick:this.handleQuery},"查询")),r.createElement(s,null,r.createElement(e,{type:"reset",onClick:this.handleReset},"重置")))}}));return o=l()(o)}.apply(t,n))&&(e.exports=r)},1199:function(e,t,a){var n,r;n=[a(2),a(1200),a(1203)],void 0!==(r=function(e,t,a){return e.createClass({displayName:"DeductionsList",getInitialState:function(){return{params:{}}},passParams:function(e){this.setState({params:e})},render:function(){return e.createElement("div",null,e.createElement("div",{className:"block-panel"},e.createElement(a,{passParams:this.passParams})),e.createElement(t,{params:this.state.params}))}})}.apply(t,n))&&(e.exports=r)},1200:function(e,t,a){var n,r;n=[a(905),a(2),a(1201),a(1202)],void 0!==(r=function(e,t,n,r){var i=a(210);return t.createClass({displayName:"List",getInitialState:function(){return{selectedRowKeys:[],loading:!1,data:[],pagination:{pageSize:10,current:1},canEdit:!0,visible:!1,visible1:!1,visible2:!1,pictureData:[],creditReportData:[],rowRecord:[],record:"",visibleAdd:!1}},componentWillReceiveProps:function(e,t){this.fetch(e.params)},componentDidMount:function(){this.fetch()},fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.setState({loading:!0}),!t.pageSize){var t={};t={pageSize:10,current:1,search:JSON.stringify({type:"20,40"})}}t.search||(t.search=JSON.stringify({type:"20,40"})),Utils.ajaxData({url:"/modules/manage/pay/log/page.htm",method:"post",data:t,callback:function(a){var n=e.state.pagination;n.current=t.current,n.pageSize=t.pageSize,n.total=a.page.total,n.current||(n.current=1),e.setState({loading:!1,data:a.data,pagination:n})}})},showModal:function(e,t,a){var n=this;this.setState({visible:!0,canEdit:a,record:t,title:e},function(){n.refs.Lookdetails.setFieldsValue(t)})},addModal:function(e,t,a){this.setState({visibleAdd:!0,title:e})},hideModal:function(){this.setState({visible:!1,visible1:!1,visible2:!1,selectedIndex:"",selectedRowKeys:[],visibleAdd:!1}),this.refreshList()},rowKey:function(e){return e.id},onSelectChange:function(e){this.setState({selectedRowKeys:e})},handleTableChange:function(e,t,a){var n=this.state.pagination;n.current=e.current,this.setState({pagination:n}),this.refreshList()},refreshList:function(){var e=this.state.pagination,t=i({},this.props.params,{current:e.current,pageSize:e.pageSize});this.fetch(t)},onRowClick:function(e){this.setState({selectedRowKeys:[e.id],selectedRow:e,rowRecord:e},function(){})},rowClassName:function(e){var t=this.state.selectedIndex;return e.id==t&&""!==t?"selectRow":""},onSelectAll:function(e,t,a,n){e?this.setState({selectedRowKeys:t}):this.setState({selectedRowKeys:[]})},render:function(){var a=this.state,i=(a.loading,a.selectedRowKeys),l=(this.onSelectAll,this);i.length>0&&i.indexOf("0");var s=[{title:"付款人姓名",dataIndex:"realName"},{title:"手机号码",dataIndex:"phone"},{title:"流水订单号",dataIndex:"orderNo"},{title:"订单号",dataIndex:"borrowOrderNo"},{title:"金额",dataIndex:"amount"},{title:"扣款银行卡",dataIndex:"cardNo"},{title:"借款时间",dataIndex:"loanTime"},{title:"扣款时间",dataIndex:"updateTime"},{title:"状态",dataIndex:"stateStr"}],o=this.state;return t.createElement("div",{className:"block-panel"},t.createElement(e,{columns:s,rowKey:this.rowKey,ref:"table",onRowClick:this.onRowClick,dataSource:this.state.data,rowClassName:this.rowClassName,pagination:this.state.pagination,onChange:this.handleTableChange}),t.createElement(n,{ref:"Lookdetails",visible:o.visible,title:o.title,hideModal:l.hideModal,record:o.record,canEdit:o.canEdit}),t.createElement(r,{ref:"AddWin",visible:o.visibleAdd,hideModal:l.hideModal,title:o.title}))}})}.apply(t,n))&&(e.exports=r)},1201:function(e,t,a){var n,r;n=[a(300),a(331),a(335),a(336),a(339),a(363),a(909),a(2)],void 0!==(r=function(e,t,n,r,i,l,s,o){var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=(s.Group,l.create),u=l.Item,p=(i.Option,a(210),o.createClass({displayName:"Lookdetails",getInitialState:function(){return{checked:!0,disabled:!1,data:"",timeString:"",record:""}},handleCancel:function(){this.props.form.resetFields(),this.props.hideModal()},componentWillReceiveProps:function(e){this.setState({record:e.record})},onChange:function(e,t){this.setState({timeString:t})},render:function(){var a=this.props.form.getFieldProps,i=this.props,s=(this.state,{labelCol:{span:9},wrapperCol:{span:15}});return o.createElement(e,{title:i.title,visible:i.visible,onCancel:this.handleCancel,width:"900",footer:[o.createElement("button",{key:"back",className:"ant-btn",onClick:this.handleCancel},"关闭")],maskClosable:!1},o.createElement(l,{horizontal:!0,form:this.props.form},o.createElement(r,c({},a("id",{initialValue:""}),{type:"hidden"})),o.createElement(t,null,o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"商品名称:"}),o.createElement("p",{style:{width:"500px"}},this.state.record.goodsName)))),o.createElement(t,null,o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"订单号:"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("orderNo",{initialValue:""}))))),o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"用户名:"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("userName",{initialValue:""})))))),o.createElement(t,null,o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"手机号码:"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("phone",{initialValue:""}))))),o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"分期金额(元):"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("amount",{initialValue:""})))))),o.createElement(t,null,o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"利率(%):"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("apr",{initialValue:""}))))),o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"期数:"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("period",{initialValue:""})))))),o.createElement(t,null,o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"还款方式:"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("repaymentTypeStr",{initialValue:""}))))),o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"渠道:"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("channelName",{initialValue:""})))))),o.createElement(t,null,o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"当前状态:"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("stateStr",{initialValue:""}))))))))}}));return p=d()(p)}.apply(t,n))&&(e.exports=r)},1202:1187,1203:function(e,t,a){var n,r;n=[a(324),a(336),a(339),a(363),a(942),a(2)],void 0!==(r=function(e,t,a,n,r,i){var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=r.RangePicker,o=n.create,c=n.Item,d=a.Option,u=i.createClass({displayName:"SeachForm",getInitialState:function(){return{roleList:[]}},handleQuery:function(){var e=this.props.form.getFieldsValue(),t={startTime:"",endTime:"",type:"20,40",state:e.state,realName:e.realName,phone:e.phone};e.time&&(t.endTime=DateFormat.formatDate(e.time[1]).substring(0,10),t.startTime=DateFormat.formatDate(e.time[0]).substring(0,10)),this.props.passParams({search:JSON.stringify(t),pageSize:10,current:1})},handleReset:function(){this.props.form.resetFields(),this.props.passParams({search:JSON.stringify({type:"20,40"}),pageSize:10,current:1})},disabledDate:function(e){var t=new Date;return e.getTime()>t.getTime()},render:function(){var r=this.props.form.getFieldProps;return i.createElement(n,{inline:!0},i.createElement("input",l({type:"hidden"},r("type",{initialValue:"20,40"}))),i.createElement(c,{label:"扣款时间:"},i.createElement(s,l({disabledDate:this.disabledDate},r("time",{initialValue:""})))),i.createElement(c,{label:"收款人姓名:"},i.createElement(t,r("realName",{initialValue:""}))),i.createElement(c,{label:"手机号码:"},i.createElement(t,r("phone",{initialValue:""}))),i.createElement(c,{label:"状态:"},i.createElement(a,l({style:{width:100}},r("state",{initialValue:""}),{placeholder:"请选择..."}),i.createElement(d,{value:""},"全部"),i.createElement(d,{value:"10"},"待支付"),i.createElement(d,{value:"40"},"支付成功"),i.createElement(d,{value:"50"},"支付失败"))),i.createElement(c,null,i.createElement(e,{type:"primary",onClick:this.handleQuery},"查询")),i.createElement(c,null,i.createElement(e,{type:"reset",onClick:this.handleReset},"重置")))}});return u=o()(u)}.apply(t,n))&&(e.exports=r)},1204:function(e,t,a){var n,r;n=[a(2),a(1205),a(1208)],void 0!==(r=function(e,t,a){return e.createClass({displayName:"StayDeductionsList",getInitialState:function(){return{params:{}}},passParams:function(e){this.setState({params:e})},render:function(){return e.createElement("div",null,e.createElement("div",{className:"block-panel"},e.createElement(a,{passParams:this.passParams})),e.createElement(t,{params:this.state.params}))}})}.apply(t,n))&&(e.exports=r)},1205:function(e,t,a){var n,r;n=[a(905),a(2),a(1206),a(1207)],void 0!==(r=function(e,t,n,r){var i=a(210);return t.createClass({displayName:"List",getInitialState:function(){return{selectedRowKeys:[],loading:!1,data:[],pagination:{pageSize:10,current:1},canEdit:!0,visible:!1,visible1:!1,visible2:!1,pictureData:[],creditReportData:[],rowRecord:[],record:"",visibleAdd:!1}},componentWillReceiveProps:function(e,t){this.fetch(e.params)},componentDidMount:function(){this.fetch()},fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.setState({loading:!0}),!t.pageSize){var t={};t={pageSize:10,current:1,search:JSON.stringify({state:"10",type:"20,40"})}}t.search||(t.search=JSON.stringify({state:"10",type:"20,40"})),Utils.ajaxData({url:"/modules/manage/pay/log/page.htm",method:"post",data:t,callback:function(a){var n=e.state.pagination;n.current=t.current,n.pageSize=t.pageSize,n.total=a.page.total,n.current||(n.current=1),e.setState({loading:!1,data:a.data,pagination:n})}})},showModal:function(e,t,a){var n=this;this.setState({visible:!0,canEdit:a,record:t,title:e},function(){n.refs.Lookdetails.setFieldsValue(t)})},addModal:function(e,t,a){this.setState({visibleAdd:!0,title:e})},hideModal:function(){this.setState({visible:!1,visible1:!1,visible2:!1,selectedIndex:"",selectedRowKeys:[],visibleAdd:!1}),this.refreshList()},rowKey:function(e){return e.id},onSelectChange:function(e){this.setState({selectedRowKeys:e})},handleTableChange:function(e,t,a){var n=this.state.pagination;n.current=e.current,this.setState({pagination:n}),this.refreshList()},refreshList:function(){var e=this.state.pagination,t=i({},this.props.params,{current:e.current,pageSize:e.pageSize});this.fetch(t)},onRowClick:function(e){this.setState({selectedRowKeys:[e.id],selectedRow:e,rowRecord:e},function(){})},rowClassName:function(e){var t=this.state.selectedIndex;return e.id==t&&""!==t?"selectRow":""},onSelectAll:function(e,t,a,n){e?this.setState({selectedRowKeys:t}):this.setState({selectedRowKeys:[]})},render:function(){var a=this.state,i=(a.loading,a.selectedRowKeys),l=(this.onSelectAll,this);i.length>0&&i.indexOf("0");var s=[{title:"付款人姓名",dataIndex:"realName"},{title:"手机号码",dataIndex:"phone"},{title:"金额",dataIndex:"amount"},{title:"扣款银行卡",dataIndex:"cardNo"},{title:"借款时间",dataIndex:"loanTime"}],o=this.state;return t.createElement("div",{className:"block-panel"},t.createElement(e,{columns:s,rowKey:this.rowKey,ref:"table",onRowClick:this.onRowClick,dataSource:this.state.data,rowClassName:this.rowClassName,pagination:this.state.pagination,onChange:this.handleTableChange}),t.createElement(n,{ref:"Lookdetails",visible:o.visible,title:o.title,hideModal:l.hideModal,record:o.record,canEdit:o.canEdit}),t.createElement(r,{ref:"AddWin",visible:o.visibleAdd,hideModal:l.hideModal,title:o.title}))}})}.apply(t,n))&&(e.exports=r)},1206:1201,1207:1187,1208:function(e,t,a){var n,r;n=[a(324),a(336),a(339),a(363),a(942),a(2)],void 0!==(r=function(e,t,a,n,r,i){var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=r.RangePicker,o=n.create,c=n.Item,d=(a.Option,i.createClass({displayName:"SeachForm",getInitialState:function(){return{roleList:[]}},handleQuery:function(){var e=this.props.form.getFieldsValue(),t={startTime:"",endTime:"",type:"20,40",state:"10",realName:e.realName,phone:e.phone};e.time&&(t.endTime=DateFormat.formatDate(e.time[1]).substring(0,10),t.startTime=DateFormat.formatDate(e.time[0]).substring(0,10)),this.props.passParams({search:JSON.stringify(t),pageSize:10,current:1})},handleReset:function(){this.props.form.resetFields(),this.props.passParams({search:JSON.stringify({state:"10",type:"20,40"}),pageSize:10,current:1})},disabledDate:function(e){var t=new Date;return e.getTime()>t.getTime()},render:function(){var a=this.props.form.getFieldProps;return i.createElement(n,{inline:!0},i.createElement("input",l({type:"hidden"},a("type",{initialValue:"20,40"}))),i.createElement("input",l({type:"hidden"},a("state",{initialValue:"10"}))),i.createElement(c,{label:"扣款时间:"},i.createElement(s,l({disabledDate:this.disabledDate},a("time",{initialValue:""})))),i.createElement(c,{label:"收款人姓名:"},i.createElement(t,a("realName",{initialValue:""}))),i.createElement(c,{label:"手机号码:"},i.createElement(t,a("phone",{initialValue:""}))),i.createElement(c,null,i.createElement(e,{type:"primary",onClick:this.handleQuery},"查询")),i.createElement(c,null,i.createElement(e,{type:"reset",onClick:this.handleReset},"重置")))}}));return d=o()(d)}.apply(t,n))&&(e.exports=r)},1209:function(e,t,a){var n,r;n=[a(2),a(1210),a(1211)],void 0!==(r=function(e,t,a){return e.createClass({displayName:"UserAuthenticationList",getInitialState:function(){return{params:{}}},passParams:function(e){this.setState({params:e})},render:function(){return e.createElement("div",null,e.createElement("div",{className:"block-panel"},e.createElement(a,{passParams:this.passParams})),e.createElement(t,{params:this.state.params}))}})}.apply(t,n))&&(e.exports=r)},1210:function(e,t,a){var n,r;n=[a(905),a(300),a(2)],void 0!==(r=function(e,t,n){var r=t.confirm,i=a(210);return n.createClass({displayName:"List",getInitialState:function(){return{selectedRowKeys:[],loading:!1,data:[],pagination:{},canEdit:!0,visible:!1,visibleAdd:!1}},componentWillReceiveProps:function(e,t){this.clearSelectedList(),this.fetch(e.params)},hideModal:function(){this.setState({visible:!1,visibleAdd:!1}),this.refreshList()},showModal:function(e,t,a){var n=this,t=t;this.setState({canEdit:a,visible:!0,title:e,record:t},function(){n.refs.CustomerWin.setFieldsValue(t)})},addModal:function(e,t,a){this.setState({visibleAdd:!0,title:e})},rowKey:function(e){return e.userId},handleTableChange:function(e,t,a){var n=this.state.pagination;n.current=e.current,this.setState({pagination:n}),this.refreshList()},fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.setState({loading:!0}),!t.pageSize){var t={};t={pageSize:10,current:1}}Utils.ajaxData({url:"/modules/manage/cl/cluser/authlist.htm",data:t,callback:function(a){var n=e.state.pagination;n.current=t.current,n.pageSize=t.pageSize,n.total=a.page.total,n.current||(n.current=1),e.setState({loading:!1,data:a.data,pagination:n})}})},clearSelectedList:function(){this.setState({selectedRowKeys:[]})},refreshList:function(){var e=this.state.pagination,t=i({},this.props.params,{current:e.current,pageSize:e.pageSize});this.fetch(t)},changeStatus:function(e,a){var n,i=this,l=(i.state.selectedRowKeys,a.id),s="",o="";"加入黑名单"==e?("加入黑名单",n="20",s="您是否确定加入黑名单",o="/modules/manage/user/updateState.htm"):"解除黑名单"==e&&("解除黑名单成功",n="10",s="您是否确定解除黑名单",o="/modules/manage/user/updateState.htm"),r({title:s,onOk:function(){Utils.ajaxData({url:o,data:{id:l,state:n},method:"post",callback:function(e){200==e.code?t.success({title:e.msg}):t.error({title:e.msg}),i.refreshList()}})},onCancel:function(){}})},componentDidMount:function(){this.fetch()},onRowClick:function(e){this.setState({selectedRowKeys:[e.id],selectedrecord:e})},render:function(){var t=this.state,a=(t.loading,t.selectedRowKeys),r=(a.length,[{title:"真实姓名",dataIndex:"realName"},{title:"手机号码",dataIndex:"phone"},{title:"银行卡状态",dataIndex:"bankCardState",render:function(e,t){return 10==t.bankCardState?"未认证":20==t.bankCardState?"认证中":30==t.bankCardState?"已认证":"-"}},{title:"紧急联系人状态",dataIndex:"contactState",render:function(e,t){return 10==t.contactState?"未完善":20==t.contactState?"完善中":30==t.contactState?"已完善":"-"}},{title:"身份认证状态",dataIndex:"idState",render:function(e,t){return 10==t.idState?"未认证":20==t.idState?"认证中":30==t.idState?"已认证":"-"}},{title:"手机运营商认证状态",dataIndex:"phoneState",render:function(e,t){return 10==t.phoneState?"未认证":20==t.phoneState?"认证中":30==t.phoneState?"已认证":"-"}},{title:"芝麻授信状态",dataIndex:"zhimaState",render:function(e,t){return 10==t.zhimaState?"未授信":20==t.zhimaState?"授信中":30==t.zhimaState?"已授信":"-"}}]);this.state;return n.createElement("div",{className:"block-panel"},n.createElement(e,{columns:r,rowKey:this.rowKey,onRowClick:this.onRowClick,dataSource:this.state.data,pagination:this.state.pagination,loading:this.state.loading,onChange:this.handleTableChange}))}})}.apply(t,n))&&(e.exports=r)},1211:function(e,t,a){var n,r;n=[a(324),a(336),a(339),a(363),a(2)],void 0!==(r=function(e,t,a,n,r){var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=n.create,s=n.Item,o=a.Option,c=r.createClass({displayName:"SeachForm",getInitialState:function(){return{}},handleQuery:function(){var e=this.props.form.getFieldsValue();e.realName&&(e.realName=e.realName.replace(/\s+/g,"")),this.props.passParams({searchParams:JSON.stringify(e),pageSize:10,current:1})},handleReset:function(){this.props.form.resetFields(),this.props.passParams({pageSize:10,current:1})},render:function(){var l=this.props.form.getFieldProps;return r.createElement(n,{inline:!0},r.createElement(s,{label:"真实姓名："},r.createElement(t,l("realName"))),r.createElement(s,{label:"手机号码："},r.createElement(t,l("phone"))),r.createElement(s,{label:"银行卡状态:"},r.createElement(a,i({style:{width:100}},l("bankCardState",{initialValue:""}),{placeholder:"请选择..."}),r.createElement(o,{value:"10"},"未认证"),r.createElement(o,{value:"20"},"认证中"),r.createElement(o,{value:"30"},"已认证"))),r.createElement(s,{label:"紧急联系人状态:"},r.createElement(a,i({style:{width:100}},l("contactState",{initialValue:""}),{placeholder:"请选择..."}),r.createElement(o,{value:"10"},"未完善"),r.createElement(o,{value:"20"},"完善中"),r.createElement(o,{value:"30"},"已完善"))),r.createElement(s,{label:"身份证认证状态:"},r.createElement(a,i({style:{width:100}},l("idState",{initialValue:""}),{placeholder:"请选择..."}),r.createElement(o,{value:"10"},"未认证"),r.createElement(o,{value:"20"},"认证中"),r.createElement(o,{value:"30"},"已认证"))),r.createElement(s,{label:"手机运营商认证状态:"},r.createElement(a,i({style:{width:100}},l("phoneState",{initialValue:""}),{placeholder:"请选择..."}),r.createElement(o,{value:"10"},"未认证"),r.createElement(o,{value:"20"},"认证中"),r.createElement(o,{value:"30"},"已认证"))),r.createElement(s,{label:"芝麻授信状态:"},r.createElement(a,i({style:{width:100}},l("zhimaState",{initialValue:""}),{placeholder:"请选择..."}),r.createElement(o,{value:"10"},"未授信"),r.createElement(o,{value:"20"},"授信中"),r.createElement(o,{value:"30"},"已授信"))),r.createElement(s,null,r.createElement(e,{type:"primary",onClick:this.handleQuery},"查询")),r.createElement(s,null,r.createElement(e,{type:"reset",onClick:this.handleReset},"重置")))}});return c=l()(c)}.apply(t,n))&&(e.exports=r)},1212:function(e,t,a){var n,r;n=[a(2),a(1213),a(1216)],void 0!==(r=function(e,t,a){return e.createClass({displayName:"UserFeedback",getInitialState:function(){return{params:{}}},passParams:function(e){this.setState({params:e})},render:function(){return e.createElement("div",null,e.createElement("div",{className:"block-panel"},e.createElement(a,{passParams:this.passParams})),e.createElement(t,{params:this.state.params}))}})}.apply(t,n))&&(e.exports=r)},1213:function(e,t,a){var n,r;n=[a(905),a(1041),a(300),a(2),a(1214),a(1215)],void 0!==(r=function(e,t,n,r,i,l){var s=(n.confirm,a(210));return r.createClass({displayName:"List",getInitialState:function(){return{selectedRowKeys:[],loading:!1,data:[],pagination:{},canEdit:!0,visible:!1,visibleAdd:!1,dataRecord:""}},componentWillReceiveProps:function(e,t){this.clearSelectedList(),this.fetch(e.params)},hideModal:function(){this.setState({visible:!1,visibleAdd:!1}),this.refreshList()},showModal:function(e,t,a){var n=this,t=t;this.setState({canEdit:a,visible:!0,title:e,record:t},function(){Utils.ajaxData({url:"/modules/manage/mine/opinion/view.htm",data:{id:t.id},callback:function(e){e.data.state=20==e.data.state?"已确认":"待确认",n.refs.Lookdetails.setFieldsValue(e.data)}})})},addModal:function(e,t,a){this.setState({visibleAdd:!0,title:e,dataRecord:t})},rowKey:function(e){return e.id},handleTableChange:function(e,t,a){var n=this.state.pagination;n.current=e.current,this.setState({pagination:n}),this.refreshList()},fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.setState({loading:!0}),!t.pageSize){var t={};t={pageSize:10,current:1}}Utils.ajaxData({url:"/modules/manage/mine/opinion/page.htm",data:t,callback:function(a){var n=e.state.pagination;n.current=t.current,n.pageSize=t.pageSize,n.total=a.page.total,n.current||(n.current=1),e.setState({loading:!1,data:a.data.list,pagination:n})}})},clearSelectedList:function(){this.setState({selectedRowKeys:[]})},refreshList:function(){var e=this.state.pagination,t=s({},this.props.params,{current:e.current,pageSize:e.pageSize});this.fetch(t)},componentDidMount:function(){this.fetch()},onRowClick:function(e){this.setState({selectedRowKeys:[e.id],selectedrecord:e})},render:function(){var a=this,n=this.state,s=(n.loading,n.selectedRowKeys),o=(s.length,[{title:"真实姓名",dataIndex:"userRealName"},{title:"手机号码",dataIndex:"phone"},{title:"意见",dataIndex:"opinion",render:function(e,a){return e&&e.length>=15?r.createElement(t,{content:e,overlayStyle:{width:"200px"}},r.createElement("span",null,e.substring(0,15),"...")):r.createElement("span",null,e)}},{title:"意见提交时间",dataIndex:"createTime"},{title:"状态",dataIndex:"stateStr"},{title:"管理员",dataIndex:"sysUserRealName"},{title:"反馈",dataIndex:"feedback",render:function(e,a){return e&&e.length>=15?r.createElement(t,{content:e,overlayStyle:{width:"200px"}},r.createElement("span",null,e.substring(0,15),"...")):r.createElement("span",null,e)}},{title:"反馈时间",dataIndex:"confirmTime"},{title:"操作",dataIndex:"",render:function(e,t){return"已确认"==t.stateStr?"-":r.createElement("div",null,r.createElement("a",{href:"#",onClick:a.addModal.bind(a,"处理",t,!0)},"处理"))}}]),c=this.state;return r.createElement("div",{className:"block-panel"},r.createElement(e,{columns:o,rowKey:this.rowKey,onRowClick:this.onRowClick,dataSource:this.state.data,pagination:this.state.pagination,loading:this.state.loading,onChange:this.handleTableChange}),r.createElement(i,{ref:"Lookdetails",visible:c.visible,title:c.title,hideModal:a.hideModal,record:c.record,canEdit:c.canEdit}),r.createElement(l,{ref:"AddWin",dataRecord:c.dataRecord,visible:c.visibleAdd,hideModal:a.hideModal,title:c.title}))}})}.apply(t,n))&&(e.exports=r)},1214:function(e,t,a){var n,r;n=[a(300),a(331),a(335),a(336),a(339),a(363),a(909),a(2)],void 0!==(r=function(e,t,n,r,i,l,s,o){var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=(s.Group,l.create),u=l.Item,p=(i.Option,a(210),o.createClass({displayName:"Lookdetails",getInitialState:function(){return{checked:!0,disabled:!1,data:"",timeString:"",record:""}},handleCancel:function(){this.props.form.resetFields(),this.props.hideModal()},componentWillReceiveProps:function(e){this.setState({record:e.record})},onChange:function(e,t){this.setState({timeString:t})},render:function(){var a=this.props.form.getFieldProps,i=this.props,s=(this.state,{labelCol:{span:9},wrapperCol:{span:15}});return o.createElement(e,{title:i.title,visible:i.visible,onCancel:this.handleCancel,width:"900",footer:[o.createElement("button",{key:"back",className:"ant-btn",onClick:this.handleCancel},"关闭")],maskClosable:!1},o.createElement(l,{horizontal:!0,form:this.props.form},o.createElement(r,c({},a("id",{initialValue:""}),{type:"hidden"})),o.createElement(t,null,o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"用户id:"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("userId",{initialValue:""}))))),o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"新增时间:"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("createTime",{initialValue:""})))))),o.createElement(t,null,o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"用户意见:"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("feedback",{initialValue:""}))))),o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"系统用户:"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("sys_user",{initialValue:""})))))),o.createElement(t,null,o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"审核时间:"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("confirmTime",{initialValue:""}))))),o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"备注:"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("remark",{initialValue:""})))))),o.createElement(t,null,o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"确认状态:"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("state",{initialValue:""}))))))))}}));return p=d()(p)}.apply(t,n))&&(e.exports=r)},1215:function(e,t,a){var n,r;n=[a(331),a(335),a(336),a(324),a(339),a(300),a(363),a(909),a(2)],void 0!==(r=function(e,t,n,r,i,l,s,o,c){var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=(o.Group,s.create),p=s.Item,m=(l.confirm,i.Option,a(210),c.createClass({displayName:"AddWin",getInitialState:function(){return{checked:!0,disabled:!1,data:"",timeString:"",record:""}},handleCancel:function(){this.props.form.resetFields(),this.props.hideModal()},handleOk:function(){var e=this;this.props.form.validateFields(function(t,a){if(!t){if(/^\s*$/.test(a.feedback))return void l.error({title:"输入内容不能全为空格"});Utils.ajaxData({url:"/modules/manage/mine/opinion/confirm.htm",data:{id:e.props.dataRecord.id,feedback:a.feedback},method:"post",callback:function(t){200==t.code&&e.handleCancel();var a=200==t.code?"success":"warning";l[a]({title:t.msg})}})}})},componentWillReceiveProps:function(e){this.setState({record:e.record})},render:function(){var a=this.props.form.getFieldProps,i=this.props,o=this.state,u={labelCol:{span:4},wrapperCol:{span:16}},m=[c.createElement(r,{key:"back",
className:"ant-btn",onClick:this.handleCancel},"返 回"),c.createElement(r,{key:"button",className:"ant-btn ant-btn-primary",loading:o.loading,onClick:this.handleOk},"提 交")];return c.createElement(l,{title:i.title,visible:i.visible,onCancel:this.handleCancel,width:"400",footer:m,maskClosable:!1},c.createElement(s,{horizontal:!0,form:this.props.form},c.createElement(e,null,c.createElement(t,{span:"24"},c.createElement(p,d({},u,{label:"反馈:"}),c.createElement(n,d({type:"textarea",disabled:!1},a("feedback",{initialValue:"",rules:[{required:!0,message:"不能为空且不能超过400",max:400}]}))))))))}}));return m=u()(m)}.apply(t,n))&&(e.exports=r)},1216:function(e,t,a){var n,r;n=[a(324),a(336),a(942),a(339),a(363),a(2)],void 0!==(r=function(e,t,a,n,r,i){var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=r.create,o=r.Item,c=n.Option,d=a.RangePicker,u=i.createClass({displayName:"SeachForm",getInitialState:function(){return{}},handleQuery:function(){var e=this.props.form.getFieldsValue(),t={endTime:"",startTime:"",phone:e.phone,state:e.state};e.registTime[0]&&(t.startTime=DateFormat.formatDate(e.registTime[0]).substring(0,10),t.endTime=DateFormat.formatDate(e.registTime[1]).substring(0,10)),this.props.passParams({searchParams:JSON.stringify(t),pageSize:10,current:1})},handleReset:function(){this.props.form.resetFields(),this.props.passParams({pageSize:10,current:1})},disabledDate:function(e){var t=new Date;return e.getTime()>t.getTime()},render:function(){var a=this.props.form.getFieldProps;return i.createElement(r,{inline:!0},i.createElement(o,{label:"手机号码："},i.createElement(t,l({type:"text"},a("phone",{initialValue:""})))),i.createElement(o,{label:"意见提交时间："},i.createElement(d,l({disabledDate:this.disabledDate,style:{width:"310"}},a("registTime",{initialValue:""})))),i.createElement(o,{label:"状态："},i.createElement(n,l({style:{width:100,textAlign:"center"}},a("state",{initialValue:""})),i.createElement(c,{value:""},"全部"),i.createElement(c,{value:"10"},"待确认"),i.createElement(c,{value:"20"},"已确认"))),i.createElement(o,null,i.createElement(e,{type:"primary",onClick:this.handleQuery},"查询")),i.createElement(o,null,i.createElement(e,{type:"reset",onClick:this.handleReset},"重置")))}});return u=s()(u)}.apply(t,n))&&(e.exports=r)},1217:function(e,t,a){var n,r;n=[a(2),a(1218),a(1221)],void 0!==(r=function(e,t,a){return e.createClass({displayName:"UserEducationList",getInitialState:function(){return{params:{}}},passParams:function(e){this.setState({params:e})},render:function(){return e.createElement("div",null,e.createElement("div",{className:"block-panel"},e.createElement(a,{passParams:this.passParams})),e.createElement(t,{params:this.state.params}))}})}.apply(t,n))&&(e.exports=r)},1218:function(e,t,a){var n,r;n=[a(905),a(300),a(2),a(1219),a(1220)],void 0!==(r=function(e,t,n,r,i){var l=(t.confirm,a(210));return n.createClass({displayName:"List",getInitialState:function(){return{selectedRowKeys:[],loading:!1,data:[],pagination:{},canEdit:!0,visible:!1,visibleAdd:!1,dataRecord:""}},componentWillReceiveProps:function(e,t){this.clearSelectedList(),this.fetch(e.params)},hideModal:function(){this.setState({visible:!1,visibleAdd:!1}),this.refreshList()},showModal:function(e,t,a){var n=this,t=t;this.setState({canEdit:a,visible:!0,title:e,record:t},function(){t.matriculationTime=t.matriculationTime+"a",t.graduationTime=t.graduationTime+"b",n.refs.Lookdetails.setFieldsValue(t)})},addModal:function(e,t,a){this.setState({visibleAdd:!0,title:e,dataRecord:t})},rowKey:function(e){return e.id},handleTableChange:function(e,t,a){var n=this.state.pagination;n.current=e.current,this.setState({pagination:n}),this.refreshList()},fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.setState({loading:!0}),!t.pageSize){var t={};t={pageSize:10,current:1}}Utils.ajaxData({url:"/modules/manage/user/educationList.htm",data:t,callback:function(a){var n=e.state.pagination;n.current=t.current,n.pageSize=t.pageSize,n.total=a.page.total,n.current||(n.current=1),e.setState({loading:!1,data:a.data.list,pagination:n})}})},clearSelectedList:function(){this.setState({selectedRowKeys:[]})},refreshList:function(){var e=this.state.pagination,t=l({},this.props.params,{current:e.current,pageSize:e.pageSize});this.fetch(t)},componentDidMount:function(){this.fetch()},onRowClick:function(e){this.setState({selectedRowKeys:[e.id],selectedrecord:e})},render:function(){var t=this,a=this.state,l=(a.loading,a.selectedRowKeys),s=(l.length,[{title:"手机号码",dataIndex:"phone"},{title:"学位",dataIndex:"educationBackground"},{title:"教育类别",dataIndex:"educationType"},{title:"教育情况",dataIndex:"graduationConclusion"},{title:"就读院校",dataIndex:"graduateSchool"},{title:"就读专业",dataIndex:"profession"},{title:"入学时间",dataIndex:"matriculationTime"},{title:"毕业时间",dataIndex:"graduationTime"},{title:"匹配状态",dataIndex:"stateStr"},{title:"操作",dataIndex:"",render:function(e,a){return n.createElement("a",{href:"#",onClick:t.showModal.bind(t,"编辑",a,!0)},"编辑")}}]),o=this.state;return n.createElement("div",{className:"block-panel"},n.createElement(e,{columns:s,rowKey:this.rowKey,onRowClick:this.onRowClick,dataSource:this.state.data,pagination:this.state.pagination,loading:this.state.loading,onChange:this.handleTableChange}),n.createElement(r,{ref:"Lookdetails",visible:o.visible,title:o.title,hideModal:t.hideModal,record:o.record,canEdit:o.canEdit}),n.createElement(i,{ref:"AddWin",dataRecord:o.dataRecord,visible:o.visibleAdd,hideModal:t.hideModal,title:o.title}))}})}.apply(t,n))&&(e.exports=r)},1219:function(e,t,a){var n,r;n=[a(331),a(335),a(336),a(324),a(300),a(339),a(363),a(909),a(2)],void 0!==(r=function(e,t,n,r,i,l,s,o,c){var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=(o.Group,s.create),p=s.Item,m=l.Option,h=(a(210),c.createClass({displayName:"Lookdetails",getInitialState:function(){return{checked:!0,disabled:!1,data:"",timeString:"",record:""}},handleCancel:function(){this.props.form.resetFields(),this.props.hideModal()},handleOk:function(){var e=this;this.props.form.validateFields(function(t,a){if(!t){if(a.matriculationTime=parseInt(a.matriculationTime),a.graduationTime=parseInt(a.graduationTime),a.matriculationTime>=a.graduationTime)return void i.error({title:"选择的毕业年份或入学年份有误"});Utils.ajaxData({url:"/modules/manage/user/updateEducation.htm",data:a,method:"post",callback:function(t){200==t.code&&e.handleCancel();var a=200==t.code?"success":"warning";i[a]({title:t.msg})}})}})},render:function(){for(var a=this.props.form.getFieldProps,o=this.props,u=this.state,h={labelCol:{span:9},wrapperCol:{span:15}},f=[c.createElement(r,{key:"back",className:"ant-btn",onClick:this.handleCancel},"返 回"),c.createElement(r,{key:"button",className:"ant-btn ant-btn-primary",loading:u.loading,onClick:this.handleOk},"提 交")],v=[],g=[],y=new Date,b=y.getFullYear(),E=1980;E<b+1;E++)v.push(c.createElement(m,{key:E+"a"},E)),g.push(c.createElement(m,{key:E+"b"},E));return c.createElement(i,{title:o.title,visible:o.visible,onCancel:this.handleCancel,width:"900",footer:f,maskClosable:!1},c.createElement(s,{horizontal:!0,form:this.props.form},c.createElement(n,d({},a("id"),{type:"hidden"})),c.createElement(n,d({},a("userId"),{type:"hidden"})),c.createElement(e,null,c.createElement(t,{span:"12"},c.createElement(p,d({},h,{label:"学位:"}),c.createElement(n,d({disabled:!o.canEdit,type:"text"},a("educationBackground",{rules:[{required:!0,message:"必填"}]}))))),c.createElement(t,{span:"12"},c.createElement(p,d({},h,{label:"教育类别:"}),c.createElement(n,d({disabled:!o.canEdit,type:"text"},a("educationType",{rules:[{required:!0,message:"必填"}]})))))),c.createElement(e,null,c.createElement(t,{span:"12"},c.createElement(p,d({},h,{label:"就读学校:"}),c.createElement(n,d({disabled:!o.canEdit,type:"text"},a("graduateSchool",{rules:[{required:!0,message:"必填"}]}))))),c.createElement(t,{span:"12"},c.createElement(p,d({},h,{label:"教育情况:"}),c.createElement(l,a("graduationConclusion",{rules:[{required:!0,message:"必填"}]}),c.createElement(m,{key:"毕业"},"毕业"),c.createElement(m,{key:"结业"},"结业"))))),c.createElement(e,null,c.createElement(t,{span:"12"},c.createElement(p,d({},h,{label:"入学时间:"}),c.createElement(l,a("matriculationTime",{rules:[{required:!0,message:"必填"}]}),v))),c.createElement(t,{span:"12"},c.createElement(p,d({},h,{label:"毕业时间:"}),c.createElement(l,a("graduationTime",{rules:[{required:!0,message:"必填"}]}),g)))),c.createElement(e,null,c.createElement(t,{span:"12"},c.createElement(p,d({},h,{label:"状态:"}),c.createElement(l,a("state",{rules:[{required:!0,message:"必填"}]}),c.createElement(m,{key:"10"},"匹配"),c.createElement(m,{key:"20"},"不匹配")))))))}}));return h=u()(h)}.apply(t,n))&&(e.exports=r)},1220:function(e,t,a){var n,r;n=[a(331),a(335),a(336),a(324),a(339),a(300),a(363),a(909),a(2)],void 0!==(r=function(e,t,n,r,i,l,s,o,c){var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=(o.Group,s.create),p=s.Item,m=(l.confirm,i.Option,a(210),c.createClass({displayName:"AddWin",getInitialState:function(){return{checked:!0,disabled:!1,data:"",timeString:"",record:""}},handleCancel:function(){this.props.form.resetFields(),this.props.hideModal()},handleOk:function(){var e=this;this.props.form.validateFields(function(t,a){t||Utils.ajaxData({url:"/modules/manage/mine/opinion/confirm.htm",data:{id:e.props.dataRecord.id,feedback:a.feedback},method:"post",callback:function(t){200==t.code&&e.handleCancel();var a=200==t.code?"success":"warning";l[a]({title:t.msg})}})})},componentWillReceiveProps:function(e){this.setState({record:e.record})},render:function(){var a=this.props.form.getFieldProps,i=this.props,o=this.state,u={labelCol:{span:4},wrapperCol:{span:16}},m=[c.createElement(r,{key:"back",className:"ant-btn",onClick:this.handleCancel},"返 回"),c.createElement(r,{key:"button",className:"ant-btn ant-btn-primary",loading:o.loading,onClick:this.handleOk},"提 交")];return c.createElement(l,{title:i.title,visible:i.visible,onCancel:this.handleCancel,width:"400",footer:m,maskClosable:!1},c.createElement(s,{horizontal:!0,form:this.props.form},c.createElement(e,null,c.createElement(t,{span:"24"},c.createElement(p,d({},u,{label:"反馈:"}),c.createElement(n,d({type:"textarea",disabled:!1},a("feedback",{initialValue:"",rules:[{require:!0,message:"必填"}]}))))))))}}));return m=u()(m)}.apply(t,n))&&(e.exports=r)},1221:function(e,t,a){var n,r;n=[a(324),a(336),a(942),a(339),a(363),a(2)],void 0!==(r=function(e,t,a,n,r,i){var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=r.create,o=r.Item,c=(n.Option,a.RangePicker,i.createClass({displayName:"SeachForm",getInitialState:function(){return{}},handleQuery:function(){var e=this.props.form.getFieldsValue();this.props.passParams({searchParams:JSON.stringify(e),pageSize:10,current:1})},handleReset:function(){this.props.form.resetFields(),this.props.passParams({pageSize:10,current:1})},render:function(){var a=this.props.form.getFieldProps;return i.createElement(r,{inline:!0},i.createElement(o,{label:"手机号码："},i.createElement(t,l({type:"text"},a("phone",{initialValue:""})))),i.createElement(o,null,i.createElement(e,{type:"primary",onClick:this.handleQuery},"查询")),i.createElement(o,null,i.createElement(e,{type:"reset",onClick:this.handleReset},"重置")))}}));return c=s()(c)}.apply(t,n))&&(e.exports=r)},1222:function(e,t,a){var n,r;n=[a(2),a(1223),a(1227),a(1228)],void 0!==(r=function(e,t,a){return e.createClass({displayName:"BlackCustomerList",getInitialState:function(){return{params:{}}},passParams:function(e){this.setState({params:e})},render:function(){return e.createElement("div",null,e.createElement("div",{className:"block-panel"},e.createElement(a,{passParams:this.passParams})),e.createElement(t,{params:this.state.params}))}})}.apply(t,n))&&(e.exports=r)},1223:function(e,t,a){var n,r;n=[a(905),a(324),a(300),a(2),a(1224)],void 0!==(r=function(e,t,n,r,i){var l=n.confirm,s=a(210);return r.createClass({displayName:"List",getInitialState:function(){return{selectedRowKeys:[],loading:!1,data:[],pagination:{pageSize:10,current:1},canEdit:!0,visible:!1}},componentWillReceiveProps:function(e,t){this.clearSelectedList(),this.fetch(e.params)},hideModal:function(){this.setState({visible:!1})},showModal:function(e){this.setState({visible:!0,title:e})},rowKey:function(e){return e.id},handleTableChange:function(e,t,a){var n=this.state.pagination;n.current=e.current,this.setState({pagination:n}),this.refreshList()},fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.setState({loading:!0}),!t.pageSize){var t={};t={pageSize:10,current:1,searchParams:JSON.stringify({idNo:"",realName:""})}}t.searchParams||(t.searchParams=JSON.stringify({idNo:"",realName:""})),Utils.ajaxData({url:"/modules/manage/userBlack/listInfo.htm",data:t,callback:function(a){var n=e.state.pagination;n.current=t.current,n.pageSize=t.pageSize,n.total=a.page.total,n.current||(n.current=1),e.setState({loading:!1,data:a.data,pagination:n})}})},clearSelectedList:function(){this.setState({selectedRowKeys:[]})},refresh:function(e){this.refreshList()},refreshList:function(){var e=this.state.pagination,t=s({},this.props.params,{current:e.current,pageSize:e.pageSize});this.fetch(t)},componentDidMount:function(){this.fetch()},onRowClick:function(e){this.setState({selectedRowKeys:[e.id],selectedrecord:e})},download:function(e){window.open("/modules/manage/userBlack/downTemplete.htm")},delt:function(e,t){var a=this;l({title:"是否确定删除",content:r.createElement("div",null,r.createElement("p",{style:{color:"red"}},"删除后用户将恢复为常规用户！！！")),onOk:function(){Utils.ajaxData({url:"/modules/manage/userBlack/deleteBlack.htm",data:{id:t.id},method:"post",callback:function(e){200==e.code?(n.success({title:e.msg}),a.refreshList()):n.error({title:e.msg})}})},onCancel:function(){}})},render:function(){var a=this,n=this.state,l=(n.loading,n.selectedRowKeys),s=(l.length,[{title:"真实姓名",dataIndex:"realName"},{title:"身份证号码",dataIndex:"idNo"},{title:"手机号码",dataIndex:"phone"},{title:"类型",dataIndex:"typeStr"},{title:"导入时间",dataIndex:"createTime"},{title:"操作",render:function(e,t){return r.createElement("div",{style:{textAlign:"left"}},"黑名单"==t.typeStr?r.createElement("a",{href:"#",onClick:a.delt.bind(a,"删除",t)},"删除"):"-")}}]),o=this.state;return r.createElement("div",{className:"block-panel"},r.createElement("div",{className:"actionBtns",style:{marginBottom:16}},r.createElement(t,{onClick:a.showModal.bind(a,"导入")},"批量导入"),r.createElement(t,{onClick:a.download.bind(a,"下载")},"下载模板"),r.createElement(t,{onClick:a.refresh.bind(a,"刷新")},"手动刷新")),r.createElement(e,{columns:s,rowKey:this.rowKey,onRowClick:this.onRowClick,dataSource:this.state.data,pagination:this.state.pagination,loading:this.state.loading,onChange:this.handleTableChange}),r.createElement(i,{ref:"CustomerWin",visible:o.visible,title:o.title,hideModal:a.hideModal}))}})}.apply(t,n))&&(e.exports=r)},1224:function(e,t,a){var n,r;n=[a(331),a(335),a(324),a(300),a(339),a(363),a(2),a(1225)],void 0!==(r=function(e,t,n,r,i,l,s){var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c=l.create,d=l.Item,u=i.Option,p=r.confirm,m=(a(210),s.createClass({displayName:"CustomerWin",getInitialState:function(){return{checked:!0,disabled:!1,data:"",timeString:"",record:"",fileName:""}},handleCancel:function(){this.state.fileName="",document.getElementById("file").value=null,this.state.filea=void 0,this.props.form.resetFields(),this.props.hideModal()},handleOk:function(){var e=this,t="";this.props.form.validateFields(function(a,n){a||(t=e.state.filea,void 0===t&&r.warning({title:"请选择上传文件"}),t.append("type",n.type),p({title:"你是否确定上传",onOk:function(){var a=new XMLHttpRequest;a.open("POST","/modules/manage/userBlack/importUserBlack.htm",!0),a.onload=function(t){var n=JSON.parse(a.responseText);200===a.status?200==n.code?p({title:"导入处理完成，点击确定下载导入结果。",onOk:function(){window.open(n.data)},onCancel:function(){e.handleCancel()}}):r.error({title:n.msg}):r.error({title:"请求失败"})},a.send(t)},onCancel:function(){}}))})},handleFileChange:function(e){var t=document.getElementById("file").files[0],a=new FormData;a.append("userInfoFile",t),this.setState({filea:a,fileName:t.name})},render:function(){var a=this.props.form.getFieldProps,c=this.props,p=this.state,m={labelCol:{span:9},wrapperCol:{span:15}},h=[s.createElement(n,{key:"back",className:"ant-btn",onClick:this.handleCancel},"返 回"),s.createElement(n,{key:"button",className:"ant-btn ant-btn-primary",loading:p.loading,onClick:this.handleOk},"提 交")];return s.createElement(r,{title:c.title,visible:c.visible,onCancel:this.handleCancel,width:"500",footer:h,maskClosable:!1},s.createElement(l,{horizontal:!0,form:this.props.form},s.createElement(e,null,s.createElement(t,{span:"20"},s.createElement(d,o({},m,{label:"类型:"}),s.createElement(i,o({style:{width:100}},a("type",{initialValue:"10"})),s.createElement(u,{value:"10"},"黑名单"),s.createElement(u,{value:"20"},"白名单"))))),s.createElement(e,null,s.createElement(t,{span:"20"},s.createElement(d,o({},m,{label:"文件:"}),s.createElement("a",{href:"#",className:"a-upload"},s.createElement("input",{id:"file",onChange:this.handleFileChange,type:"file"}),"点击这里上传文件"),s.createElement("div",{title:p.fileName?p.fileName:"",id:"file1"},p.fileName?p.fileName.length>20?p.fileName.substring(0,20)+"...":p.fileName:""))))))}}));return m=c()(m)}.apply(t,n))&&(e.exports=r)},1225:[1456,1226],1226:1182,1227:function(e,t,a){var n,r;n=[a(324),a(336),a(339),a(363),a(2)],void 0!==(r=function(e,t,a,n,r){var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=n.create,s=n.Item,o=a.Option,c=r.createClass({displayName:"SeachForm",getInitialState:function(){return{}},handleQuery:function(){var e=this.props.form.getFieldsValue();this.props.passParams({searchParams:JSON.stringify(e),pageSize:10,current:1})},handleReset:function(){this.props.form.resetFields(),this.props.passParams({pageSize:10,current:1})},render:function(){var l=this.props.form.getFieldProps;return r.createElement(n,{inline:!0},r.createElement(s,{label:"真实姓名："},r.createElement(t,l("realName"))),r.createElement(s,{label:"身份证号码："},r.createElement(t,l("idNo"))),r.createElement(s,{label:"手机号："},r.createElement(t,l("phone"))),r.createElement(s,{label:"类型："},r.createElement(a,i({size:"large",style:{width:160}},l("type")),r.createElement(o,{value:""},"全部"),r.createElement(o,{value:"10"},"黑名单"),r.createElement(o,{value:"20"},"白名单"))),r.createElement(s,null,r.createElement(e,{type:"primary",onClick:this.handleQuery},"查询")),r.createElement(s,null,r.createElement(e,{type:"reset",onClick:this.handleReset},"重置")))}});return c=l()(c)}.apply(t,n))&&(e.exports=r)},1228:function(e,t,a){var n=a(1229);"string"==typeof n&&(n=[[e.id,n,""]]);a(902)(n,{});n.locals&&(e.exports=n.locals)},1229:function(e,t,a){t=e.exports=a(901)(),t.push([e.id,'.markdown {\r\n    color: #666;\r\n    font-size: 14px;\r\n    line-height: 1.8;\r\n}\r\n.markdown table {\r\n    font-size: 13px;\r\n}\r\n.markdown > table {\r\n    border-collapse: collapse;\r\n    border-spacing: 0px;\r\n    empty-cells: show;\r\n    border: 1px solid #e9e9e9;\r\n    width: 100%;\r\n    margin: 16px 0;\r\n}\r\n\r\n.markdown > table th, .markdown > table td {\r\n    border: 1px solid #e9e9e9;\r\n    padding: 8px 16px;\r\n    text-align: left;\r\n}\r\n.markdown > table th {\r\n    background: #F7F7F7;\r\n    text-align: center;\r\n    white-space: nowrap;\r\n    color: #5C6B77;\r\n    font-weight: 600;\r\n}\r\n.markdown table td:first-child {\r\n    background: #fcfcfc;\r\n    font-weight: 500;\r\n    width: 27%;\r\n    font-family: "Lucida Console", Consolas, Menlo, Courier, monospace;\r\n}',""])},1230:function(e,t,a){var n,r;n=[a(2),a(1231),a(1236)],void 0!==(r=function(e,t,a){return e.createClass({displayName:"ScoreRank",getInitialState:function(){return{params:{pageSize:5,current:1}}},passParams:function(e){this.setState({params:e})},render:function(){return e.createElement("div",null,e.createElement("div",{className:"block-panel"},e.createElement(a,{passParams:this.passParams})),e.createElement(t,{params:this.state.params}))}})}.apply(t,n))&&(e.exports=r)},1231:function(e,t,a){var n,r;n=[a(905),a(300),a(2),a(1232)],void 0!==(r=function(e,t,n,r){var i=(t.confirm,a(210));return n.createClass({displayName:"List",getInitialState:function(){return{selectedRowKeys:[],loading:!1,data:[],pagination:{pageSize:10,current:1},canEdit:!0,idData:""}},componentWillReceiveProps:function(e,t){this.fetch(e.params)},componentDidMount:function(){this.fetch()},fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.setState({loading:!0}),!t.pageSize){var t={};t={pageSize:10,current:1}}Utils.ajaxData({url:"/modules/manage/cr/rank/getRankList.htm",data:t,callback:function(a){var n=e.state.pagination;n.current=t.current,n.pageSize=t.pageSize,n.total=a.page.total,n.current||(n.current=1);a.data;e.setState({loading:!1,data:a.data,pagination:n})}})},showModal:function(e,t,a){var n=this;if("新增评分等级"==e)this.setState({visible:!0,title:e,canEdit:a});else{var r={pageSize:10,current:1};r.search=JSON.stringify({rankId:t.id}),Utils.ajaxData({url:"/modules/manage/cr/rankDetail/page.htm",data:r,callback:function(r){var i=r.data;n.refs.AddRole.setFieldsValue(t),n.setState({rankData:i,canEdit:a,visible:!0,title:e,idData:t.id})}})}},hideModal:function(){this.setState({visible:!1,selectedIndex:"",selectedRowKeys:[]}),this.refreshList()},rowKey:function(e){return e.id},onSelectChange:function(e){this.setState({selectedRowKeys:e})},handleTableChange:function(e,t,a){var n=this.state.pagination;n.current=e.current,this.setState({pagination:n}),this.refreshList()},refreshList:function(){var e=this.state.pagination,t=i({},this.props.params,{current:e.current,pageSize:e.pageSize});this.fetch(t)},onRowClick:function(e){this.setState({selectedRowKeys:[e.id],visibleDetail:!0,record:e})},rowClassName:function(e){var t=this.state.selectedIndex;return e.id==t&&""!==t?"selectRow":""},render:function(){var t=this.state,a=(t.loading,t.selectedRowKeys),i=(this.onSelectAll,a.length,this),l=this.state,s=(this.props,[{title:"评分等级名称",dataIndex:"rankName"},{title:"区间数量",dataIndex:"num"},{title:"操作",dataIndex:"",render:function(e,t){return n.createElement("div",null,n.createElement("a",{onClick:i.showModal.bind(i,"额度维护",t,!0)},"额度维护"),n.createElement("span",{className:"ant-divider"}),n.createElement("a",{onClick:i.showModal.bind(i,"查看",t,!1)},"查看"))}}]);return n.createElement("div",{className:"block-panel"},n.createElement("div",{className:"actionBtns",style:{marginBottom:16}},n.createElement("button",{className:"ant-btn",onClick:i.showModal.bind(i,"新增评分等级",!0)},"新增评分等级")),n.createElement(e,{columns:s,rowKey:this.rowKey,ref:"table",dataSource:this.state.data,rowClassName:this.rowClassName,pagination:this.state.pagination,onChange:this.handleTableChange,loading:this.state.loading,onRowClick:this.onRowClick}),n.createElement(r,{ref:"AddRole",visible:l.visible,title:l.title,hideModal:i.hideModal,rankData:l.rankData,idData:l.idData,canEdit:l.canEdit}))}})}.apply(t,n))&&(e.exports=r)},1232:function(e,t,a){var n,r;n=[a(331),a(335),a(336),a(1233),a(300),a(339),a(363),a(2)],void 0!==(r=function(e,t,a,n,r,i,l,s){function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=l.create,u=l.Item,p=i.Option,m=s.createClass({displayName:"AddRole",getInitialState:function(){return{keys:[],selectVlaue:1,tableInfo:[],childInfo:[],realItem:[],num:1,rank:[],itemValue:"",rankArray:[]}},componentDidMount:function(){var e=this,t={pageSize:10,current:1,code:"RANK_TYPE"};Utils.ajaxData({url:"/modules/manage/system/dict/findByTypeCode.htm",data:t,callback:function(t){var a=t.data,n=[];a.forEach(function(e){n.push(s.createElement(p,{key:e.id,value:e.itemValue},e.itemValue))}),e.setState({data:t.data,rankArray:n})}})},handleCancel:function(){this.props.hideModal(),this.setState({num:1,keys:[],selectVlaue:1}),this.formData={}},handleOk:function(e){var t=this;e.preventDefault();var a=this,n=a.props;n.record,n.title;this.props.form.validateFields(function(e,a){if(!e){if("额度维护"==t.props.title){var n=a,i={},l=[],s="";i.name=n.name,0!=n.keys.length&&n.keys.forEach(function(e){var a={};"10"==t.state[e+"rtype"]?(a.amountMax=n[e+"amountMax"],a.amountMin=n[e+"amountMin"]):(a.amountMax=n[e+"amount"],a.amountMin=n[e+"amount"]),a.id=n[e+"id"],a.rank=n[e+"rank"],a.rtype=n[e+"rtype"],a.scoreMax=n[e+"scoreMax"],a.scoreMin=n[e+"scoreMin"],a.state=n[e+"state"],l.push(a)}),i.search=l,s="/modules/manage/cr/rank/save.htm";var o={id:t.props.idData,rankName:n.rankName,search:JSON.stringify(i.search)}}else{var n=a,i={},l=[],s="";i.name=n.name;0!=n.keys.length&&n.keys.forEach(function(e){var a={};"10"==t.state[e+"rtype"]?(a.amountMax=n[e+"amountMax"],a.amountMin=n[e+"amountMin"]):(a.amountMax=n[e+"amount"],a.amountMin=n[e+"amount"]),a.rank=n[e+"rank"],a.rtype=n[e+"rtype"],a.id=0,a.scoreMax=n[e+"scoreMax"],a.scoreMin=n[e+"scoreMin"],a.state=n[e+"state"],l.push(a)}),i.search=l,s="/modules/manage/cr/rank/save.htm";var o={id:"0",rankName:n.rankName,search:JSON.stringify(i.search)}}console.log(o),Utils.ajaxData({url:s,data:o,callback:function(e){200==e.code&&t.handleCancel();e.code;r.success({title:"成功"})}})}})},remove:function(e){var t=this.props.form,a=t.getFieldValue("keys");a=a.filter(function(t){return t!==e}),console.log(a),this.state.keys=a,t.setFieldsValue({keys:a})},add:function(){var e=this.props.form,t=e.getFieldValue("keys");t=t.concat("a"+this.selectVlaue++),e.setFieldsValue({keys:t})},selectVlaue:0,handleTableChange:function(e){this.setState({realItem:this.state.childInfo[e]})},formData:{},transformeData:function(e){var t=this,a={},n=[];return e.forEach(function(e,r){var i=r+1;n.push(i),a[i+"scoreMin"]=e.scoreMin,a[i+"scoreMax"]=e.scoreMax,a[i+"amountMin"]=e.amountMin,a[i+"amountMax"]=e.amountMax,a[i+"amount"]=e.amountMin,a[i+"amount"]=e.amountMax,a[i+"id"]=e.id,a[i+"rtype"]=e.rtype,a[i+"rank"]=e.rank,a[i+"state"]=e.state,t.setState(o({},i+"rtype",e.rtype))}),a.keys=n,a},componentWillReceiveProps:function(e){if(e.visible)if("额度维护"==e.title&&1==this.state.num){var t=e.rankData;this.formData=this.transformeData(t),this.props.form.setFieldsValue({keys:this.formData.keys}),this.state.num=2,this.setState({rank:e.rank})}else if("新增评分等级"==e.title)this.formData={},this.setState({rank:e.rank,itemValue:e.itemValue});else if("查看"==e.title&&1==this.state.num){var t=e.rankData;this.formData=this.transformeData(t),this.props.form.setFieldsValue({keys:this.formData.keys}),this.setState({selectVlaue:this.formData.keys.length+1,keys:this.formData.keys}),this.state.num=2,this.setState({rank:e.rank})}},change:function(e,t){this.setState(o({},e+"rtype",t))},render:function(){var o=this,d=this.props.form,m=d.getFieldProps,h=d.getFieldValue;m("keys",{initialValue:[1]});var f={labelCol:{span:8},wrapperCol:{span:15}},v=this.props,g=(this.state,!!v.canEdit),y=[s.createElement("button",{key:"back",className:"ant-btn",onClick:this.handleCancel},"返 回"),s.createElement("button",{key:"button",className:"ant-btn ant-btn-primary",onClick:this.handleOk},"提 交")],b=h("keys").map(function(e){return s.createElement("tr",{key:e},s.createElement("td",{key:"k1"},s.createElement(u,null,s.createElement(n,c({type:"number"},m(e+"scoreMin",{initialValue:o.formData?o.formData[e+"scoreMin"]:""}),{disabled:!v.canEdit})),"至 ",s.createElement(n,c({type:"number"},m(e+"scoreMax",{initialValue:o.formData?o.formData[e+"scoreMax"]:""}),{disabled:!v.canEdit})))),s.createElement("td",{key:"k2"},s.createElement(u,null,s.createElement(i,c({style:{width:80,border:"1px solid #D9D9D9",borderRadius:"3px"},placeholder:"是否可用"},m(e+"state",{initialValue:o.formData?o.formData[e+"state"]:""}),{disabled:!v.canEdit}),s.createElement(p,{value:"10"},"是"),s.createElement(p,{value:"20"},"否")))),s.createElement("td",{key:"k3"},s.createElement(u,null,s.createElement(i,c({style:{width:80,border:"1px solid #D9D9D9",borderRadius:"3px"},placeholder:"额度类别"},m(e+"rtype",{initialValue:o.formData?o.formData[e+"rtype"]:"",onChange:o.change.bind(o,e)}),{disabled:!v.canEdit}),s.createElement(p,{value:"10"},"区间"),s.createElement(p,{value:"20"},"固定值")))),s.createElement("td",{key:"k4"},"10"==o.state[e+"rtype"]?s.createElement(u,null,s.createElement(n,c({type:"number",disabled:!v.canEdit},m(e+"amountMin",{initialValue:o.formData?o.formData[e+"amountMin"]:""}))),"至 ",s.createElement(n,c({type:"number",disabled:!v.canEdit},m(e+"amountMax",{initialValue:o.formData?o.formData[e+"amountMax"]:""}))),s.createElement(n,c({type:"hidden",disabled:!v.canEdit},m(e+"id",{initialValue:o.formData?o.formData[e+"id"]:""}),{style:{width:"0px",diaplay:"none",border:"none"}}))):s.createElement(u,null,s.createElement(n,c({type:"number",disabled:!v.canEdit},m(e+"amount",{initialValue:o.formData?o.formData[e+"amount"]:""}),{style:{width:"120px",textAlign:"center"}})),s.createElement(n,c({type:"hidden",disabled:!v.canEdit},m(e+"id",{initialValue:o.formData?o.formData[e+"id"]:""}),{style:{width:"0px",diaplay:"none",border:"none"}})))),s.createElement("td",{key:"k5"},s.createElement(u,null,s.createElement(i,c({style:{width:80,border:"1px solid #D9D9D9",borderRadius:"3px"},placeholder:"授信等级",disabled:!v.canEdit},m(e+"rank",{initialValue:o.formData?o.formData[e+"rank"]:""})),o.state.rankArray))),"查看"==o.props.title?"":s.createElement("td",{key:"k6"},s.createElement("a",{onClick:function(){return o.add()}},"增加"),s.createElement("span",{className:"ant-divider"}),s.createElement("a",{onClick:function(){return o.remove(e)}},"删除")))});return s.createElement(r,{maskClosable:!1,title:v.title,visible:v.visible,onCancel:this.handleCancel,width:1050,footer:"查看"==this.props.title?[s.createElement("button",{key:"back",className:"ant-btn",onClick:this.handleCancel},"返 回")]:y},s.createElement(l,{horizontal:!0,form:this.props.form},s.createElement(a,c({},m("id",{initialValue:""}),{type:"hidden"})),s.createElement(e,null,s.createElement(t,{span:"8"},s.createElement(u,c({},f,{label:"评分等级名称:"}),s.createElement(a,c({style:{width:"100%"},placeholder:"请输入评分等级名称"},m("rankName",{initialValue:this.formData?this.formData.rankName:"",rules:[{required:g,message:"必填"}]}),{disabled:!v.canEdit}))))),s.createElement("table",{style:{width:960,marginLeft:25},border:"1",className:"addTable"},s.createElement("tbody",null,s.createElement("tr",{style:{width:"16%"}},s.createElement("td",null,"分值区间"),s.createElement("td",null,"是否可用"),s.createElement("td",null,"额度类别"),s.createElement("td",null,"授信额度"),s.createElement("td",null,"授信等级"),"查看"==this.props.title?"":s.createElement("td",null,"操作")),h("keys").length?b:s.createElement("tr",{className:"noData"},s.createElement("td",{colSpan:"6"},"暂无数据"))))))}});return m=d()(m)}.apply(t,n))&&(e.exports=r)},1233:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){for(var a=Object.getOwnPropertyNames(t),n=0;n<a.length;n++){var r=a[n],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}return e}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function s(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):r(e,t))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d,u,p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},m=a(2),h=n(m),f=a(311),v=n(f),g=a(1234),y=n(g),b=(u=d=function(e){function t(){return s(this,t),o(this,e.apply(this,arguments))}return c(t,e),t.prototype.render=function(){var e,t=this.props,a=t.className,n=t.size,r=l(t,["className","size"]),s=(0,v.default)((e={},i(e,this.props.prefixCls+"-lg","large"===n),i(e,this.props.prefixCls+"-sm","small"===n),i(e,a,!!a),e));return h.default.createElement(y.default,p({className:s},r))},t}(h.default.Component),d.defaultProps={prefixCls:"ant-input-number",step:1},u);t.default=b,e.exports=t.default},1234:function(e,t,a){"use strict";e.exports=a(1235)},1235:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(){}function l(e){e.preventDefault()}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=a(2),c=n(o),d=a(311),u=n(d),p=c.default.createClass({displayName:"InputNumber",propTypes:{onChange:c.default.PropTypes.func,onKeyDown:c.default.PropTypes.func,onFocus:c.default.PropTypes.func,onBlur:c.default.PropTypes.func,max:c.default.PropTypes.number,min:c.default.PropTypes.number,step:c.default.PropTypes.oneOfType([c.default.PropTypes.number,c.default.PropTypes.string])},getDefaultProps:function(){return{prefixCls:"rc-input-number",max:1/0,min:-1/0,step:1,style:{},defaultValue:"",onChange:i,onKeyDown:i,onFocus:i,onBlur:i}},getInitialState:function(){var e=void 0,t=this.props;return e="value"in t?t.value:t.defaultValue,e=this.toPrecisionAsStep(e),{inputValue:e,value:e,focused:t.autoFocus}},componentDidMount:function(){this.componentDidUpdate()},componentWillReceiveProps:function(e){if("value"in e){var t=this.toPrecisionAsStep(e.value);this.setState({inputValue:t,value:t})}},componentDidUpdate:function(){this.state.focused&&document.activeElement!==this.refs.input&&this.refs.input.focus()},onChange:function(e){this.setInputValue(e.target.value.trim())},onKeyDown:function(e){var t;38===e.keyCode?this.up(e):40===e.keyCode&&this.down(e);for(var a=arguments.length,n=Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];(t=this.props).onKeyDown.apply(t,[e].concat(n))},onFocus:function(){var e;this.setState({focused:!0}),(e=this.props).onFocus.apply(e,arguments)},onBlur:function(e){var t;this.setState({focused:!1});var a=this.getCurrentValidValue(e.target.value.trim());this.setValue(a);for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this.props).onBlur.apply(t,[e].concat(r))},onStepMouseDown:function(e){e.preventDefault();var t=this.getCurrentValidValue(this.state.inputValue);this.setState({value:t})},getCurrentValidValue:function(e){var t=e,a=this.props;return""===t?t="":isNaN(t)?t=this.state.value:(t=Number(t),t<a.min&&(t=a.min),t>a.max&&(t=a.max)),this.toPrecisionAsStep(t)},setValue:function(e){"value"in this.props||this.setState({value:e,inputValue:e});var t=isNaN(e)||""===e?void 0:e;t!==this.state.value?this.props.onChange(t):this.setState({inputValue:this.state.value})},setInputValue:function(e){this.setState({inputValue:e})},getPrecision:function(){var e=this.props,t=e.step.toString();if(t.indexOf("e-")>=0)return parseInt(t.slice(t.indexOf("e-")+1),10);var a=0;return t.indexOf(".")>=0&&(a=t.length-t.indexOf(".")-1),a},getPrecisionFactor:function(){var e=this.getPrecision();return Math.pow(10,e)},toPrecisionAsStep:function(e){if(isNaN(e)||""===e)return e;var t=this.getPrecision();return Number(Number(e).toFixed(Math.abs(t)))},upStep:function(e){var t=this.props,a=t.step,n=t.min,r=this.getPrecisionFactor(),i=void 0;return i="number"==typeof e?(r*e+r*a)/r:n===-1/0?a:n,this.toPrecisionAsStep(i)},downStep:function(e){var t=this.props,a=t.step,n=t.min,r=this.getPrecisionFactor(),i=void 0;return i="number"==typeof e?(r*e-r*a)/r:n===-1/0?-a:n,this.toPrecisionAsStep(i)},step:function(e,t){t&&t.preventDefault();var a=this.props;if(!a.disabled){var n=this.state.value;if(!isNaN(n)){var r=this[e+"Step"](n);r>a.max||r<a.min||(this.setValue(r),this.setState({focused:!0}))}}},down:function(e){this.step("down",e)},up:function(e){this.step("up",e)},focus:function(){this.refs.input.focus()},render:function(){var e,t=s({},this.props),a=t.prefixCls,n=(0,u.default)((e={},r(e,a,!0),r(e,t.className,!!t.className),r(e,a+"-disabled",t.disabled),r(e,a+"-focused",this.state.focused),e)),o="",d="",p=this.state.value;if(isNaN(p))o=a+"-handler-up-disabled",d=a+"-handler-down-disabled";else{var m=Number(p);m>=t.max&&(o=a+"-handler-up-disabled"),m<=t.min&&(d=a+"-handler-down-disabled")}var h=void 0;return h=this.state.focused?this.state.inputValue:this.state.value,void 0===h&&(h=""),delete t.defaultValue,delete t.prefixCls,c.default.createElement("div",{className:n,style:t.style},c.default.createElement("div",{className:a+"-handler-wrap"},c.default.createElement("a",{unselectable:"unselectable",ref:"up",onClick:o?i:this.up,onMouseDown:this.onStepMouseDown,className:a+"-handler "+a+"-handler-up "+o},c.default.createElement("span",{unselectable:"unselectable",className:a+"-handler-up-inner",onClick:l})),c.default.createElement("a",{unselectable:"unselectable",ref:"down",onMouseDown:this.onStepMouseDown,onClick:d?i:this.down,className:a+"-handler "+a+"-handler-down "+d},c.default.createElement("span",{unselectable:"unselectable",className:a+"-handler-down-inner",onClick:l}))),c.default.createElement("div",{className:a+"-input-wrap"},c.default.createElement("input",s({},t,{style:null,className:a+"-input",autoComplete:"off",onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,autoFocus:t.autoFocus,readOnly:t.readOnly,disabled:t.disabled,max:t.max,min:t.min,name:t.name,onChange:this.onChange,ref:"input",value:h}))))}});e.exports=p},1236:function(e,t,a){var n,r;n=[a(324),a(336),a(339),a(363),a(2)],void 0!==(r=function(e,t,a,n,r){var i=n.create,l=n.Item,s=(a.Option,r.createClass({displayName:"SeachForm",getInitialState:function(){return{roleList:[]}},handleQuery:function(){var e=this.props.form.getFieldsValue();this.props.passParams({search:JSON.stringify(e),pageSize:10,current:1})},handleReset:function(){this.props.form.resetFields(),this.props.passParams({pageSize:10,current:1})},render:function(){var a=this.props.form.getFieldProps;return r.createElement(n,{inline:!0},r.createElement(l,{label:"评分等级名称:"},r.createElement(t,a("rankName",{initialValue:""}))),r.createElement(l,null,r.createElement(e,{type:"primary",onClick:this.handleQuery},"查询")),r.createElement(l,null,r.createElement(e,{type:"reset",onClick:this.handleReset},"重置")))}}));return s=i()(s)}.apply(t,n))&&(e.exports=r)},1237:function(e,t,a){var n,r;n=[a(2),a(1238),a(1242),a(1243)],void 0!==(r=function(e,t,a){return e.createClass({displayName:"AdjustCreditLine",getInitialState:function(){return{params:{}}},passParams:function(e){this.setState({params:e})},render:function(){return e.createElement("div",null,e.createElement("div",{className:"block-panel"},e.createElement(a,{passParams:this.passParams})),e.createElement(t,{params:this.state.params}))}})}.apply(t,n))&&(e.exports=r)},1238:function(e,t,a){var n,r;n=[a(905),a(300),a(2),a(1239)],void 0!==(r=function(e,t,n,r){var i=(t.confirm,a(210));return n.createClass({displayName:"List",getInitialState:function(){return{selectedRowKeys:[],loading:!1,data:[],pagination:{},canEdit:!0,visible:!1,visibleAc:!1,visibleRecord:!1}},componentWillReceiveProps:function(e,t){this.clearSelectedList(),this.fetch(e.params)},hideModal:function(){var e=this;e.setState({visible:!1,visibleAc:!1,visibleRecord:!1}),e.refreshList()},showModal:function(e,t,a){var t=t;this.setState({canEdit:a,visible:!0,title:e,record:t})},showModalAc:function(e,t,a){this.setState({canEdit:a,visibleAc:!0,title:e,record:t})},showModalRecord:function(e,t,a){this.setState({canEdit:a,visibleRecord:!0,title:e,record:t})},rowKey:function(e){return e.id},handleTableChange:function(e,t,a){var n=this.state.pagination;n.current=e.current,this.setState({pagination:n}),this.refreshList()},fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.setState({loading:!0}),!t.pageSize){var t={};t={pageSize:10,current:1}}Utils.ajaxData({url:"/modules/manage/user/credit/page.htm",data:t,callback:function(a){var n=e.state.pagination;n.current=t.current,n.pageSize=t.pageSize,n.total=a.page.total,n.current||(n.current=1),e.setState({loading:!1,data:a.data,pagination:n})}})},clearSelectedList:function(){this.setState({selectedRowKeys:[]})},refreshList:function(){var e=this.state.pagination,t=i({},this.props.params,{current:e.current,pageSize:e.pageSize});this.fetch(t)},componentDidMount:function(){this.fetch()},onRowClick:function(e){this.setState({selectedRowKeys:[e.id]})},render:function(){var t=this,a=this.state,i=(a.loading,a.selectedRowKeys),l=(i.length,[{title:"姓名",dataIndex:"realName"},{title:"手机号码",dataIndex:"phone"},{title:"身份证号码",dataIndex:"idNo"},{title:"授信总额度(元)",dataIndex:"total",render:function(e,t){return Utils.number(e)}},{title:"已使用额度(元)",dataIndex:"totalUnuse",render:function(e,t){return Utils.number(t.total-t.unuse)}},{title:"剩余额度(元)",dataIndex:"unuse",render:function(e,t){return Utils.number(e)}},{title:"操作",dataIndex:"",render:function(e,a){return n.createElement("div",null,n.createElement("a",{href:"javascript:;",onClick:t.showModalAc.bind(t,"查看详情",a,!0)},"查看详情"))}}]),s=this.state;return n.createElement("div",{className:"block-panel"},n.createElement(e,{columns:l,rowKey:this.rowKey,onRowClick:this.onRowClick,params:this.props.params,dataSource:this.state.data,pagination:this.state.pagination,loading:this.state.loading,onChange:this.handleTableChange}),n.createElement(r,{ref:"AdjustRecord",visible:s.visibleAc,title:s.title,hideModal:t.hideModal,record:s.record,canEdit:s.canEdit}))}})}.apply(t,n))&&(e.exports=r)},1239:function(e,t,a){var n,r;n=[a(905),a(363),a(300),a(2),a(1240),a(1241)],void 0!==(r=function(e,t,n,r,i,l){var s=n.confirm,o=t.create,c=(t.Item,a(210)),d=r.createClass({displayName:"AdjustRecord",getInitialState:function(){return{selectedRowKeys:[],loading:!1,data:[],pagination:{},canEdit:!0,visible:!1,visibleAc:!1,manualUnuse:""}},componentWillReceiveProps:function(e,t){this.clearSelectedList(),this.fetch()},hideModal:function(){var e=this;e.setState({visible:!1,visibleAc:!1}),e.refreshList()},handleCancel:function(){this.props.hideModal()},rowKey:function(e){return e.id},showModal:function(e,t,a){var n=this,t=t,r={consumerNo:t.consumerNo},i="";i={current:1,pageSize:10,search:JSON.stringify(r)},Utils.ajaxData({url:"/modules/manage/user/creditLog/page.htm",data:i,callback:function(e){n.refs.AdjustCreditDetial.setFieldsValue(e.data[0])}}),this.setState({canEdit:a,visible:!0,title:e,record:t})},showModalAc:function(e,t,a){var t=t;this.setState({canEdit:a,visibleAc:!0,title:e,record:t,manualUnuse:t.unuse})},handleTableChange:function(e,t,a){var n=this.state.pagination;n.current=e.current,this.setState({pagination:n}),this.refreshList()},fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=this.props.record;if(this.setState({loading:!0}),!t.pageSize&&a){var n={};n={consumerNo:a.consumerNo};var t={};t={search:JSON.stringify(n),pageSize:5,current:1}}a&&Utils.ajaxData({url:"/modules/manage/user/credit/findByConsumerNo.htm",data:t,callback:function(a){var n=e.state.pagination;n.current=t.current,n.pageSize=t.pageSize,n.total=a.page.total,n.current||(n.current=1),e.setState({loading:!1,data:a.data,pagination:n})}})},clearSelectedList:function(){this.setState({selectedRowKeys:[]})},refreshList:function(){var e=this.props.record,t={};t={consumerNo:e.consumerNo};var a=this.state.pagination,n=c({},this.props.params,{current:a.current,pageSize:a.pageSize,search:JSON.stringify(t)});this.fetch(n)},changeStatus:function(e,t){var a,e=e,r=this,i="",l="";"解冻"==t?("解冻成功",a="10",i="您是否解冻",l="/modules/manage/user/credit/updateState.htm"):"冻结"==t&&("冻结成功",a="20",i="您是否冻结",l="/modules/manage/user/credit/updateState.htm"),s({title:i,onOk:function(){Utils.ajaxData({url:l,data:{id:e.id,state:a},method:"post",callback:function(e){200==e.code?(n.success({title:e.msg}),r.refreshList()):n.error({title:e.msg})}})},onCancel:function(){}})},render:function(){var t=this,a=(t.props.form.getFieldProps,t.props,t.state),s=(a.loading,a.selectedRowKeys),o=(s.length,[{title:"额度类型",dataIndex:"creditName"},{title:"评分",dataIndex:"grade"},{title:"授信额度(元)",dataIndex:"total"},{title:"当前可用",dataIndex:"unuse"},{title:"额度状态",dataIndex:"state",render:function(e,t){return 10==e?r.createElement("span",null,"正常"):20==e?r.createElement("span",null,"冻结"):void 0}},{title:"操作",dataIndex:"",render:function(e,a){return r.createElement("div",null,r.createElement("a",{href:"javascript:;",onClick:t.showModalAc.bind(t,"手工调整额度",a,!0)},"手工调整"),r.createElement("span",{className:"ant-divider"}),r.createElement("a",{href:"javascript:;",onClick:t.showModal.bind(t,"查看额度历史",a,!0)},"查看额度历史"),r.createElement("span",{className:"ant-divider"}),"20"==a.state?r.createElement("a",{href:"#",onClick:t.changeStatus.bind(t,a,"解冻")},"解冻"):r.createElement("a",{href:"#",onClick:t.changeStatus.bind(t,a,"冻结")},"冻结"))}}]),c=[r.createElement("button",{key:"back",className:"ant-btn",onClick:this.handleCancel},"关闭")];return r.createElement(n,{title:this.props.title,visible:this.props.visible,onCancel:this.handleCancel,width:"900",footer:c},r.createElement("div",null,r.createElement(e,{columns:o,rowKey:this.rowKey,size:"middle",dataSource:this.state.data,pagination:this.state.pagination,loading:this.state.loading,onChange:this.handleTableChange}),r.createElement(i,{ref:"AdjustCreditLine",visible:a.visibleAc,canEdit:a.canEdit,title:a.title,hideModal:t.hideModal,record:a.record,manualUnuse:a.manualUnuse}),r.createElement(l,{ref:"AdjustCreditDetial",visible:a.visible,title:a.title,hideModal:t.hideModal,record:a.record,canEdit:a.canEdit})))}});return d=o()(d)}.apply(t,n))&&(e.exports=r)},1240:function(e,t,a){var n,r;n=[a(331),a(335),a(336),a(300),a(363),a(2)],void 0!==(r=function(e,t,n,r,i,l){var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=i.create,c=i.Item,d=(a(210),l.createClass({displayName:"AdjustCreditLine",getInitialState:function(){return{status:{},formData:{}}},handleCancel:function(){this.props.form.resetFields(),this.props.hideModal()},handleOk:function(e){e.preventDefault();var t=this,a=t.props,n=a.record;a.title;this.props.form.validateFields(function(e,t){e||Utils.ajaxData({url:"/modules/manage/user/credit/updateTotal.htm",data:{unuse:t.total,id:n.id,remark:"手工调整"},callback:function(e){200==e.code?r.success({title:e.msg,onOk:function(){a.form.resetFields(),a.hideModal()}}):r.error({title:e.msg})}})})},render:function(){var a=this.props.form.getFieldProps,o=this.props,d=(this.state,[l.createElement("button",{key:"button",className:"ant-btn ant-btn-primary",onClick:this.handleOk},"确定"),l.createElement("button",{key:"back",className:"ant-btn",onClick:this.handleCancel},"取消")]),u={labelCol:{span:8},wrapperCol:{span:12}};return l.createElement(r,{title:o.title,visible:o.visible,onCancel:this.handleCancel,width:"600",footer:d},l.createElement(i,{horizontal:!0,form:this.props.form},l.createElement(e,null,l.createElement(t,{span:"24"},l.createElement(c,s({},u,{label:"当前可用额度(元)："}),l.createElement(n,s({disabled:!0},a("unuse",{initialValue:this.props.manualUnuse}),{type:"text"}))))),l.createElement(e,null,l.createElement(t,{span:"24"},l.createElement(c,s({},u,{label:"调整当前可用额度(元)："}),l.createElement(n,s({disabled:!o.canEdit},a("total",{rules:[{required:!0,message:"必填"}]}),{type:"text"})))))))}}));return d=o()(d)}.apply(t,n))&&(e.exports=r)},1241:function(e,t,a){var n,r;n=[a(300),a(905),a(331),a(335),a(336),a(363),a(2)],void 0!==(r=function(e,t,n,r,i,l,s){var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c=l.create,d=l.Item,u=a(210),p=s.createClass({displayName:"AdjustRecord",getInitialState:function(){return{selectedRowKeys:[],loading:!1,data:[],pagination:{},canEdit:!0,visible:!1}},componentWillReceiveProps:function(e,t){this.clearSelectedList(),this.fetch()},hideModal:function(){this.setState({visible:!1})},handleCancel:function(){this.props.hideModal()},rowKey:function(e){return e.id},handleTableChange:function(e,t,a){var n=this.state.pagination;n.current=e.current,this.setState({pagination:n}),this.refreshList()},fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=this.props.record;if(this.setState({loading:!0}),!t.pageSize&&a){var n={};n={consumerNo:a.consumerNo};var t={};t={search:JSON.stringify(n),pageSize:5,current:1}}a&&Utils.ajaxData({url:"/modules/manage/user/creditLog/page.htm",data:t,callback:function(a){var n=e.state.pagination;n.current=t.current,n.pageSize=t.pageSize,n.total=a.page.total,n.current||(n.current=1),e.setState({loading:!1,data:a.data,pagination:n})}})},clearSelectedList:function(){this.setState({selectedRowKeys:[]})},refreshList:function(){var e=this.props.record,t={};t={consumerNo:e.consumerNo};var a=this.state.pagination,n=u({},this.props.params,{current:a.current,pageSize:a.pageSize,search:JSON.stringify(t)});this.fetch(n)},render:function(){var a=this,c=a.props.form.getFieldProps,u=a.props,p=a.state,m=(p.loading,p.selectedRowKeys),h=(m.length,[{title:"变更时间",dataIndex:"modifyTime"},{title:"变更类型",dataIndex:"type"},{title:"变更额度(元)",dataIndex:"modifyTotal"},{title:"变更内容",dataIndex:"remark"},{title:"变更后可用额度(元)",dataIndex:"now"}]),f={labelCol:{span:8},wrapperCol:{span:12}},v=[s.createElement("button",{key:"back",className:"ant-btn",onClick:this.handleCancel},"关闭")];return s.createElement(e,{title:this.props.title,visible:this.props.visible,onCancel:this.handleCancel,width:"900",footer:v},s.createElement(l,{horizontal:!0,form:this.props.form},s.createElement(n,null,s.createElement(r,{span:"11"},s.createElement(d,o({},f,{label:"客户姓名："}),s.createElement(i,o({disabled:!0},c("realName"),{type:"text"})))),s.createElement(r,{span:"11"},s.createElement(d,o({},f,{label:"身份证号码："}),s.createElement(i,o({disabled:!0},c("idNo"),{type:"text"}))))),s.createElement(n,null,s.createElement(r,{span:"11"},s.createElement(d,o({},f,{label:"额度类型："}),s.createElement(i,o({disabled:!u.canEdit},c("creditName",{rules:[{required:!0,message:"必填"}]}),{type:"text"})))),s.createElement(r,{span:"11"},s.createElement(d,o({},f,{label:"当前可用额度(元)："}),s.createElement(i,o({disabled:!0},c("unuse"),{type:"text"})))))),s.createElement(t,{columns:h,rowKey:this.rowKey,size:"middle",dataSource:this.state.data,pagination:this.state.pagination,loading:this.state.loading,onChange:this.handleTableChange}))}});return p=c()(p)}.apply(t,n))&&(e.exports=r)},1242:function(e,t,a){var n,r;n=[a(324),a(336),a(339),a(363),a(2)],void 0!==(r=function(e,t,a,n,r){var i=n.create,l=n.Item,s=(a.Option,r.createClass({displayName:"SeachForm",getInitialState:function(){return{roleList:[]}},handleQuery:function(){var e=this.props.form.getFieldsValue();this.props.passParams({search:JSON.stringify(e),pageSize:10,current:1})},handleReset:function(){this.props.form.resetFields()},render:function(){var a=this.props.form.getFieldProps;return r.createElement(n,{inline:!0},r.createElement(l,{label:"客户姓名："},r.createElement(t,a("realName",{initialValue:""}))),r.createElement(l,{label:"身份证号码："},r.createElement(t,a("idNo",{initialValue:""}))),r.createElement(l,null,r.createElement(e,{type:"primary",onClick:this.handleQuery},"查询")),r.createElement(l,null,r.createElement(e,{type:"reset",onClick:this.handleReset},"重置")))}}));return s=i()(s)}.apply(t,n))&&(e.exports=r)},1243:function(e,t,a){var n=a(1244);"string"==typeof n&&(n=[[e.id,n,""]]);a(902)(n,{});n.locals&&(e.exports=n.locals)},1244:function(e,t,a){t=e.exports=a(901)(),t.push([e.id,'.markdown {\r\n    color: #666;\r\n    font-size: 14px;\r\n    line-height: 1.8;\r\n}\r\n.markdown table {\r\n    font-size: 13px;\r\n}\r\n.markdown > table {\r\n    border-collapse: collapse;\r\n    border-spacing: 0px;\r\n    empty-cells: show;\r\n    border: 1px solid #e9e9e9;\r\n    width: 100%;\r\n    margin: 16px 0;\r\n}\r\n.markdown > table th {\r\n    background: #F7F7F7;\r\n}\r\n.markdown > table th, .markdown > table td {\r\n    border: 1px solid #e9e9e9;\r\n    padding: 8px 16px;\r\n    text-align: left;\r\n}\r\n.markdown > table th {\r\n    white-space: nowrap;\r\n    color: #5C6B77;\r\n    font-weight: 600;\r\n    text-align: center;\r\n}\r\n.markdown table td:first-child {\r\n    background: #fcfcfc;\r\n    font-weight: 500;\r\n    width: 20%;\r\n    font-family: "Lucida Console", Consolas, Menlo, Courier, monospace;\r\n}',""])},1245:function(e,t,a){var n,r;n=[a(2),a(1246),a(1248)],void 0!==(r=function(e,t,a){return e.createClass({displayName:"TableFieldMaintenance",getInitialState:function(){return{params:{pageSize:10,current:1}}},passParams:function(e){this.setState({params:e})},render:function(){return e.createElement("div",null,e.createElement("div",{className:"block-panel"},e.createElement(a,{passParams:this.passParams})),e.createElement(t,{params:this.state.params}))}})}.apply(t,n))&&(e.exports=r)},1246:function(e,t,a){var n,r;n=[a(905),a(300),a(2),a(1247)],void 0!==(r=function(e,t,n,r){var i=t.confirm,l=a(210);return n.createClass({displayName:"List",getInitialState:function(){return{selectedRowKeys:[],loading:!1,data:[],pagination:{},canEdit:!0,visible:!1,record:"",dataRecord:"",dataName:[],title:""}},componentWillReceiveProps:function(e,t){this.clearSelectedList(),this.fetch(e.params)},hideModal:function(){this.setState({visible:!1,visibleDetails:!1,title:"",dataName:[],dataRecord:"",record:""}),this.refreshList()},showModal:function(e,t,a){var n=this,r={id:t.id};this.setState({canEdit:a,visible:!0,title:e,record:t},function(){"编辑"==e&&Utils.ajaxData({url:"/modules/manage/cr/info/infoPage.htm",data:{pageSize:10,current:1,secreditrankh:JSON.stringify(r)},callback:function(e){e.data.detail=JSON.parse(e.data[0].detail);var t=[];e.data.detail.forEach(function(e){t.push(e.name)}),n.setState({dataRecord:e.data[0],dataName:t})}})})},rowKey:function(e){return e.id},handleTableChange:function(e,t,a){var n=this.state.pagination;n.current=e.current,this.setState({pagination:n}),this.refreshList()},fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.setState({loading:!0}),!t.pageSize){var t={};t={pageSize:10,current:1}}Utils.ajaxData({url:"/modules/manage/cr/info/infoPage.htm",data:t,callback:function(a){var n=e.state.pagination;n.current=t.current,n.pageSize=t.pageSize,n.total=a.page.total,n.current||(n.current=1),e.setState({loading:!1,data:a.data,pagination:n})}})},clearSelectedList:function(){this.setState({selectedRowKeys:[]})},refreshList:function(){var e=this.state.pagination,t=l({},this.props.params,{current:e.current,pageSize:e.pageSize});this.fetch(t)},componentDidMount:function(){this.fetch()},onRowClick:function(e){var t=e.id;this.setState({selectedRowKeys:[t],record:e})},changeStatus:function(e,a){var n,e=e,r=this,l="",s="";"启用"==a?("启用成功",n="10",l="您是否启用",s="/modules/manage/cr/info/updateState.htm"):"禁用"==a&&("禁用成功",n="20",l="您是否禁用",s="/modules/manage/cr/info/updateState.htm"),i({title:l,onOk:function(){Utils.ajaxData({url:s,data:{id:e.id,state:n},method:"post",callback:function(e){200==e.code?(t.success({title:e.msg}),r.refreshList()):t.error({title:e.msg})}})},onCancel:function(){}})},render:function(){var t=this,a=this.state,i=(a.loading,a.selectedRowKeys),l=(i.length,[{title:"表名",width:200,dataIndex:"tbNid"},{title:"表注释",width:200,dataIndex:"tbName"},{title:"字段详情",dataIndex:"detail",render:function(e,t){var t=JSON.parse(t.detail);return t.map(function(e,a){return e.name+(a<t.length-1?",":"")})}},{title:"状态",dataIndex:"state",render:function(e,t){return 10==e?n.createElement("span",null,"启用"):n.createElement("span",null,"禁用")}},{title:"操作",width:100,dataIndex:"",render:function(e,a){return n.createElement("div",{style:{textAlign:"left"}},n.createElement("a",{href:"#",onClick:t.showModal.bind(t,"编辑",a,!1)},"编辑"),n.createElement("span",{className:"ant-divider"}),"20"==a.state?n.createElement("a",{href:"#",onClick:t.changeStatus.bind(t,a,"启用")},"启用"):n.createElement("a",{href:"#",onClick:t.changeStatus.bind(t,a,"禁用")},"禁用"))}}]),s=this.state,o=s.record;return n.createElement("div",{className:"block-panel"},n.createElement("div",{className:"actionBtns",style:{marginBottom:16}},n.createElement("button",{className:"ant-btn",onClick:this.showModal.bind(this,"新增",o,!0)},"新增")),n.createElement(e,{columns:l,rowKey:this.rowKey,size:"middle",onRowClick:this.onRowClick,dataSource:this.state.data,pagination:this.state.pagination,loading:this.state.loading,onChange:this.handleTableChange}),n.createElement(r,{ref:"AddWin",visible:s.visible,title:s.title,hideModal:t.hideModal,record:s.record,canEdit:s.canEdit,dataRecord:s.dataRecord,dataName:s.dataName}))}})}.apply(t,n))&&(e.exports=r)},1247:function(e,t,a){var n,r;n=[a(331),a(335),a(336),a(324),a(300),a(339),a(363),a(2)],void 0!==(r=function(e,t,n,r,i,l,s,o){var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=s.create,u=s.Item,p=l.Option,m=(a(210),o.createClass({displayName:"AddWin",getInitialState:function(){return{status:{},loading:!1,formData:{},record:"",tableNameList:"",tableCommentList:"",data:"",dataArray:[],tableName:"",canEdit:!0,dataArr:[],dataRecord:"",dataName:[],values:"",tableComment:""}},handleCancel:function(){this.props.form.resetFields(),this.props.hideModal(),this.setState({tableName:"",canEdit:!0,dataArr:[],dataRecord:"",dataName:[]})},componentWillReceiveProps:function(e,t){if("编辑"==e.title){var a=[];this.state.data&&this.state.data.forEach(function(t){t.tableName==e.dataRecord.tbNid&&t.children.forEach(function(e,t){a.push(o.createElement(p,{key:t,value:e.columnComment,disabled:e.checked},e.columnComment))})}),this.setState({dataRecord:e.dataRecord,dataName:e.dataName,dataArray:a})}},handleOk:function(){var e=this,t=this.state.dataArr;this.props.form.validateFields;this.props.form.validateFields(function(a,n){if(!a){if(n.tbName=e.state.tableComment,"新增"==e.props.title){var r=[];t.forEach(function(e){var t={};t.name=e.columnComment,t.nid=e.columnName,t.type=e.type,r.push(t)}),n.detail=r,n.detail=JSON.stringify(n.detail);var l="/modules/manage/cr/info/save.htm",s=n}if("编辑"==e.props.title){var o=e.props.form.getFieldsValue(),c=[],d=[];o.detail.forEach(function(t){e.state.data.forEach(function(a){a.tableName==e.state.dataRecord.tbNid&&a.children.forEach(function(e){t==e.columnComment&&c.push(e)})})}),c.forEach(function(e){var t={};t.name=e.columnComment,t.nid=e.columnName,t.type=e.type,d.push(t)}),o.detail=d,o.detail=JSON.stringify(o.detail);var l="/modules/manage/cr/info/update.htm",s=o}Utils.ajaxData({url:l,data:s,callback:function(t){"200"==t.code?i.success({title:t.msg,onOk:function(){e.handleCancel()}}):i.error({title:t.msg,onOk:function(){e.handleCancel()}})}})}})},componentDidMount:function(){var e=this;Utils.ajaxData({url:"/modules/manage/cr/info/findAllDataTable.htm",callback:function(t){var a=t.data.map(function(e){return o.createElement(p,{key:e.tableName,value:String(e.tableName),disabled:e.checked},e.tableComment)});e.setState({tableCommentList:a,data:t.data})}})},change:function(e){var t=this,a=[];this.props.form.resetFields(),this.state.data.forEach(function(n){n.tableName==e&&(t.setState({tableName:n.tableName,tableComment:n.tableComment}),n.children.forEach(function(e,t){a.push(o.createElement(p,{key:t,value:e.columnName,disabled:e.checked},e.columnComment))}))}),this.setState({dataArray:a,canEdit:!1,values:e})},select:function(e){var t=this;this.state.data.forEach(function(a){a.tableName==t.state.values&&a.children.forEach(function(a){a.columnName==e&&t.state.dataArr.push(a)})})},render:function(){var a=this.props.form.getFieldProps,d=this.props,p=this.state,m=[o.createElement(r,{key:"back",className:"ant-btn",onClick:this.handleCancel},"返 回"),o.createElement(r,{key:"button",className:"ant-btn ant-btn-primary",loading:p.loading,onClick:this.handleOk},"提 交")],h={labelCol:{span:4},wrapperCol:{span:20}},f={labelCol:{span:8},wrapperCol:{span:16}};this.state.data;return o.createElement(i,{title:d.title,visible:d.visible,onCancel:this.handleCancel,width:"900",footer:m,maskClosable:!1},o.createElement("div",{style:{position:"relative"}},o.createElement(s,{horizontal:!0,form:this.props.form,style:{marginTop:"20px"}},o.createElement(n,c({},a("id",{initialValue:this.state.dataRecord.id}),{type:"hidden"})),o.createElement(e,null,o.createElement(t,{span:"10"},o.createElement(u,c({},h,{label:"表:"}),"编辑"==this.props.title?o.createElement(n,c({type:"text",disabled:!0},a("tbName",{initialValue:this.state.dataRecord.tbName}))):o.createElement(l,c({style:{width:100},placeholder:"请选择"},a("tbName",{initialValue:"",onChange:this.change}),{style:{width:"200px"}}),this.state.tableCommentList))),o.createElement(n,c({disabled:!0,type:"hidden"},a("tbNid",{initialValue:""==this.state.tableName?this.state.dataRecord.tbNid:this.state.tableName}))),o.createElement(t,{span:"12"},o.createElement(u,c({},f,{label:"字段:"}),o.createElement(l,c({disabled:"编辑"==d.title?d.canEdit:this.state.canEdit,multiple:!0,onSelect:this.select},a("detail",{initialValue:this.state.dataName,rules:[{required:!0,message:"必填",type:"array"}]})),p.dataArray)))))))}}));return m=d()(m)}.apply(t,n))&&(e.exports=r)},1248:function(e,t,a){var n,r;n=[a(324),a(336),a(339),a(363),a(2)],void 0!==(r=function(e,t,a,n,r){var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=n.create,s=n.Item,o=a.Option,c=r.createClass({displayName:"SeachForm",getInitialState:function(){return{roleList:[]}},handleQuery:function(){var e=this.props.form.getFieldsValue();this.props.passParams({search:JSON.stringify(e),pageSize:10,current:1})},handleReset:function(){this.props.form.resetFields()},render:function(){var l=this.props.form.getFieldProps;return r.createElement(n,{inline:!0},r.createElement(s,{label:"表名:"},r.createElement(t,i({type:"text"},l("tbName")))),r.createElement(s,{label:"状态:"},r.createElement(a,i({style:{width:100},placeholder:"请选择"},l("state",{initialValue:""})),r.createElement(o,{value:""},"全部"),r.createElement(o,{value:"20"},"启用"),r.createElement(o,{value:"10"},"禁用"))),r.createElement(s,null,r.createElement(e,{type:"primary",onClick:this.handleQuery},"查询")),r.createElement(s,null,r.createElement(e,{type:"reset",onClick:this.handleReset},"重置")))}});return c=l()(c)}.apply(t,n))&&(e.exports=r)},1249:function(e,t,a){var n,r;n=[a(425),a(2),a(1250),a(1259),a(1262),a(1263)],void 0!==(r=function(e,t,a,n,r,i){var l=e.TabPane;return t.createClass({displayName:"AssessScoreCard",getInitialState:function(){return{params:{pageSize:5,current:1},activekey:"1"}},passParams:function(e){this.setState({params:e})},
handleTabClick:function(e){this.setState({activekey:e})},render:function(){return t.createElement("div",null,t.createElement(e,{defaultActiveKey:"1",onTabClick:this.handleTabClick,activeKey:this.state.activekey,animation:null},t.createElement(l,{tab:"评分卡",key:"1"},t.createElement(i,{passParams:this.passParams}),t.createElement(a,{setTabClick:this.handleTabClick,activekey:"1",params:this.state.params})),t.createElement(l,{tab:"评分项目",key:"2",disabled:!0},t.createElement(n,{setTabClick:this.handleTabClick,activekey:"2"}))))}})}.apply(t,n))&&(e.exports=r)},1250:function(e,t,a){var n,r;n=[a(905),a(300),a(2),a(1251),a(1258),a(1259)],void 0!==(r=function(e,t,n,r,i,l){var s=(t.confirm,a(210));return n.createClass({displayName:"List",getInitialState:function(){return{selectedRowKeys:[],loading:!1,data:[],pagination:{pageSize:10,current:1},canEdit:!0,visible:!1,visibleScorecard:!1,visibleProjName:!1,visibleDetail:!1,pictureData:[],creditReportData:[]}},componentWillReceiveProps:function(e,t){this.fetch(e.params)},componentDidMount:function(){this.fetch()},fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.setState({loading:!0}),!t.pageSize){var t={};t={pageSize:10,current:1}}Utils.ajaxData({url:"/modules/manage/cr/card/page.htm",data:t,callback:function(a){var n=e.state.pagination;n.current=t.current,n.pageSize=t.pageSize,n.total=a.page.total,n.current||(n.current=1),e.setState({loading:!1,data:a.data,pagination:n})}})},showModal:function(e,t,a){this.setState({visible:!0,title:e,canEdit:a})},showModalScorecard:function(e,t){var a=this,n={id:t.id};"编辑"==e&&Utils.ajaxData({url:"/modules/manage/cr/card/page.htm",data:{pageSize:10,current:1,search:JSON.stringify(n)},callback:function(e){a.refs.AddScorecard.setFieldsValue(e.data[0])}}),this.setState({visibleScorecard:!0,title:e})},hideModal:function(){this.setState({visible:!1,visibleScorecard:!1,visibleProjName:!1,visibleDetail:!1,selectedIndex:"",selectedRowKeys:[]}),this.refreshList()},rowKey:function(e){return e.id},onSelectChange:function(e){this.setState({selectedRowKeys:e})},handleTableChange:function(e,t,a){var n=this.state.pagination;n.current=e.current,this.setState({pagination:n}),this.refreshList()},refreshList:function(){var e=this.state.pagination,t=s({},this.props.params,{current:e.current,pageSize:e.pageSize});this.fetch(t)},onRowClick:function(e){this.setState({selectedRowKeys:[e.id],visibleDetail:!0,record:e})},goNextTab:function(e){localStorage.record=JSON.stringify(e),this.props.setTabClick("2")},rowClassName:function(e){var t=this.state.selectedIndex;return e.id==t&&""!==t?"selectRow":""},changeStaus:function(e,a){var n=this;if("删除"!=e){var r={id:a.id};r.state="禁用"==e?20:10,Utils.ajaxData({url:"/modules/manage/cr/card/updateState.htm",data:r,callback:function(e){e.code;200==e.code?(t.success({title:e.msg}),n.hideModal()):t.error({title:e.msg})}})}},render:function(){var t=this.state,a=(t.loading,t.selectedRowKeys),l=(this.onSelectAll,a.length,this),s=this.state,o=(this.props,[{title:"评分卡名称",dataIndex:"cardName"},{title:"状态",dataIndex:"state"},{title:"分值",dataIndex:"score"},{title:"操作",key:"",render:function(e,t){return n.createElement("div",null,"启用"==t.state?n.createElement("span",null,n.createElement("a",{onClick:l.showModalScorecard.bind(l,"编辑",t,!1)},"编辑"),n.createElement("span",{className:"ant-divider"}),n.createElement("a",{onClick:l.goNextTab.bind(l,t)},"查看评分项目")," ",n.createElement("span",{className:"ant-divider"})," ",n.createElement("a",{onClick:l.changeStaus.bind(l,"禁用",t)},"禁用")):n.createElement("span",null,n.createElement("a",{onClick:l.showModalScorecard.bind(l,"编辑",t,!1)},"编辑"),n.createElement("span",{className:"ant-divider"}),n.createElement("a",{onClick:l.goNextTab.bind(l,t)},"查看评分项目")," ",n.createElement("span",{className:"ant-divider"})," ",n.createElement("a",{onClick:l.changeStaus.bind(l,"启用",t)},"启用")))}}]);return n.createElement("div",{className:"block-panel"},n.createElement("div",{className:"actionBtns",style:{marginBottom:16}},n.createElement("button",{onClick:l.showModalScorecard.bind(l,"新增评分卡",!1),className:"ant-btn"},"新增评分卡")),n.createElement(e,{columns:o,rowKey:this.rowKey,ref:"table",dataSource:this.state.data,rowClassName:this.rowClassName,pagination:this.state.pagination,onChange:this.handleTableChange,loading:this.state.loading,onRowClick:this.onRowClick}),n.createElement(r,{ref:"SetScorParams",visible:s.visible,canEdit:s.canEdit,ruleData:s.ruleData,fetch:l.fetch,title:s.title,hideModal:l.hideModal,record:s.record}),n.createElement(i,{ref:"AddScorecard",visible:s.visibleScorecard,title:s.title,hideModal:l.hideModal,record:s.record}))}})}.apply(t,n))&&(e.exports=r)},1251:function(e,t,a){var n,r;n=[a(1233),a(1252),a(331),a(324),a(336),a(335),a(339),a(300),a(363),a(2),a(1257)],void 0!==(r=function(e,t,n,r,i,l,s,o,c,d,u){var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},m=c.create,h=c.Item,f=o.confirm,v=s.Option,g=(a(210),d.createClass({displayName:"SetScorParams",getInitialState:function(){return{keys:[],selectVlaue:1,tableInfo:[],num:1,itemOne:!0,nnid:20,number:[]}},handleCancel:function(){this.props.hideModal(),this.setState({keys:[],selectVlaue:1,number:[]}),this.formData={},this.state.num=1,this.props.form.resetFields()},hideModal:function(){this.setState({visible:!1})},showModal:function(e){this.setState({visible:!0,title:e})},handleOk:function(e){var t=this;e.preventDefault();var a=this,n=a.props,r=n.record,i=(n.title,this.state.tableInfo,JSON.parse(localStorage.record));this.props.form.validateFields(function(e,a){if(!e){var n=a,l={},s=[],c="",d="";n.table&&(n.ctable=n.table[0],n.ccolumn=n.table[1]);for(var u=t.state.corresData,p=0;p<u.length;p++){u[p].tbNid==n.ctable&&(n.ctableName=u[p].tbName);for(var m=0;m<u[p].children.length;m++)u[p].children[m].nid==n.ccolumn&&(n.ccolumnName=u[p].children[m].name,n.ctype=u[p].children[m].type)}var h=t.props.itemIdData,f="";h.map(function(e,t){if(e.itemName==n.itemName)return f=e.id});var v={};n["01formula"]?(v.formula=n["01formula"],v.cvalue=n["0cvalue"],v.paramScore=n["0paramScore"],v.id=n["0id"],v.paramName=n["0paramName"],v.factorId=n["0factorId"],v.factorName=n["0factorName"],s.push(v),0!=n.keys.length&&n.keys.forEach(function(e){var t={};t.formula=n[e+"1formula"],t.cvalue=n[e+"cvalue"],t.paramScore=n[e+"paramScore"],t.id=n[e+"id"],t.paramName=n[e+"paramName"],t.factorId=n[e+"factorId"],t.factorName=n[e+"factorName"],s.push(t)})):n["0formula"]?(v.formula=n["0formula"],v.cvalue=n["0cvalue"],v.paramScore=n["0paramScore"],v.id=n["0id"],v.paramName=n["0paramName"],v.factorId=n["0factorId"],v.factorName=n["0factorName"],s.push(v),0!=n.keys.length&&n.keys.forEach(function(e){var t={};t.formula=n[e+"formula"],t.cvalue=n[e+"cvalue"],t.paramScore=n[e+"paramScore"],t.id=n[e+"id"],t.paramName=n[e+"paramName"],t.factorId=n[e+"factorId"],t.factorName=n[e+"factorName"],s.push(t)})):0!=n.keys.length&&n.keys.forEach(function(e){var t={};t.formula=n[e+"formula"],t.cvalue=n[e+"cvalue"],t.paramScore=n[e+"paramScore"],t.id=n[e+"id"],t.paramName=n[e+"paramName"],t.factorId=n[e+"factorId"],t.factorName=n[e+"factorName"],s.push(t)}),l.search=s;var g={itemName:n.itemName,factorName:n.factorName,type:n.type,factorScore:n.factorScore,cardId:r.cardId,id:r.id,itemId:f||"",nnid:20,cardName:i.cardName?i.cardName:"",ccolumnName:n.ccolumnName?n.ccolumnName:"",ccolumn:n.ccolumn?n.ccolumn:"",ctable:n.ctable?n.ctable:"",ctableName:n.ctableName?n.ctableName:"",ctype:n.ctype?n.ctype:""};c="/modules/manage/cr/factor/update.htm",d={factorModel:JSON.stringify(g),secreditrankh:JSON.stringify(l.search)},Utils.ajaxData({url:c,data:d,method:"post",callback:function(e){200==e.code&&t.handleCancel();e.code;o.success({title:e.msg})}})}})},remove:function(e){var t=this.props.form,a=t.getFieldValue("keys"),n=this;n.formData[e+"id"]?f({title:"是否确认要删除这项内容",onOk:function(){Utils.ajaxData({url:"/modules/manage/cr/factor/delete.htm",data:{id:n.formData[e+"id"]},method:"post",callback:function(r){o.success({title:r.msg}),a=a.filter(function(t){return t!==e}),n.state.keys=a,t.setFieldsValue({keys:a})}})}}):(a=a.filter(function(t){return t!==e}),n.state.keys=a,t.setFieldsValue({keys:a}));var r=this.state.number.filter(function(a){return a!==t.getFieldValue([e+"paramScore"])});this.setState({number:r});var i=Math.max.apply(Math,r);this.props.form.setFieldsValue({factorScore:i})},removeFirst:function(){var e=this.props.form,t=this;e.getFieldValue("keys").length>0&&f({title:"是否确认要删除这项内容",onOk:function(){Utils.ajaxData({url:"/modules/manage/cr/factorParam/delete.htm",data:{id:t.formData["0id"]},method:"post",callback:function(e){o.success({title:e.msg}),t.setState({itemOne:!1})}})}});var a=this.state.number.filter(function(t){return t!==e.getFieldValue(["0paramScore"])});this.setState({number:a});var n=Math.max.apply(Math,a);this.props.form.setFieldsValue({factorScore:n})},add:function(){var e=this.props.form,t=e.getFieldValue("keys");t=t.concat(this.state.selectVlaue++),this.state.keys=t,e.setFieldsValue({keys:t})},formData:{},transformeData:function(e){var t={},a=[];e["01formula"]?e.forEach(function(e,n){var r=n;a.push(r),t[r+"1formula"]=e.formula,t[r+"cvalue"]=e.cvalue,t[r+"paramScore"]=e.paramScore.toString(),t[r+"id"]=e.id,t[r+"factorId"]=e.factorId,t[r+"factorName"]=e.factorName,t[r+"paramName"]=e.paramName}):e.forEach(function(e,n){var r=n;a.push(r),t[r+"formula"]=e.formula,t[r+"cvalue"]=e.cvalue,t[r+"paramScore"]=e.paramScore.toString(),t[r+"id"]=e.id,t[r+"factorId"]=e.factorId,t[r+"factorName"]=e.factorName,t[r+"paramName"]=e.paramName});a.splice(0,1);return t.keys=a,t},componentWillReceiveProps:function(e){if(e.visible)if("编辑评分因子"==e.title&&1==this.state.num){var t=e.ruleData[0].children,a=e.ruleData;this.formData=this.transformeData(t),this.props.form.setFieldsValue({keys:this.formData.keys}),this.setState({selectVlaue:this.formData.keys.length+1,keys:this.formData.keys,typeResultStatus:a.typeResultStatus,type:a.type}),this.state.num=2}else"新增评分因子"==e.title?this.formData={}:(e.ruleData[0].children,length<0&&(this.formData={}))},componentDidMount:function(){var e=this,t={state:"10"};Utils.ajaxData({url:"/modules/manage/cr/card/findAll.htm",callback:function(t){var a=t.data,n=[];n=a.map(function(e){return d.createElement(v,{key:e.id,value:String(e.id)},e.cardName)}),e.setState({cardName:n})}}),Utils.ajaxData({url:"/modules/manage/cr/info/page.htm",data:{pageSize:10,current:1,search:JSON.stringify(t)},callback:function(t){if(200==t.code){var a=[];t.data.forEach(function(e){var t={};t.label=e.tbName,t.value=e.tbNid,t.children=[],e.children.forEach(function(e){var a={};a.label=e.name,a.value=e.nid,t.children.push(a)}),a.push(t)}),e.setState({tableInfo:a,corresData:t.data})}}})},onChange:function(e){this.setState({nnid:e})},onTypeChange:function(e){this.setState({type:e})},handleFactorScoreBlur:function(e){var t=e.target.value;this.setState({passwordDirty:this.state.passwordDirty||!!t})},checkFactorScore:function(e,t,a){this.props.form,this.state.keys;this.state.number.push(t);var n=Math.max.apply(Math,this.state.number);this.props.form.setFieldsValue({factorScore:n}),a()},checkParamScore:function(e,t,a){var n=this.props.form,r=this.state.keys;if(t&&this.state.passwordDirty)if(0==r.length)n.validateFields(["0paramScore"],{force:!0});else for(var i=0;i<=r.length;i++)n.validateFields([i+"paramScore"],{force:!0});a()},render:function(){var a=this,m=this.props.form.getFieldProps;m("keys",{initialValue:[]});var f=this.props,g=this.state,y=[d.createElement("button",{key:"back",className:"ant-btn",onClick:this.handleCancel},"返 回"),d.createElement("button",{key:"button",className:"ant-btn ant-btn-primary",onClick:this.handleOk},"提 交")],b={labelCol:{span:6},wrapperCol:{span:22}},E=g.keys.map(function(e){return d.createElement("div",{key:e},d.createElement(n,null,d.createElement(l,{span:"3",className:"col_h"}),"20"==a.state.nnid||"20"==a.props.form.getFieldValue("nnid")?d.createElement(l,{span:"5",className:"col_h"},d.createElement(h,b,d.createElement(s,p({style:{width:"100%"},placeholder:"请选择因子参数描述",disabled:f.canEdit},m(e+"1formula",{initialValue:a.formData?a.formData[e+"formula"]:"",rules:[{required:!0,message:"必填"}]})),d.createElement(v,{value:">"},">"),d.createElement(v,{value:"<"},"<"),d.createElement(v,{value:"="},"="),d.createElement(v,{value:">="},">="),d.createElement(v,{value:"<="},"<="),d.createElement(v,{value:"!="},"!="),d.createElement(v,{value:"<and<"},"<and<"),d.createElement(v,{value:"<=and<"},"<=and<"),d.createElement(v,{value:"<=and<="},"<=and<="),d.createElement(v,{value:"<and<="},"<and<="),d.createElement(v,{value:"include"},"包含"),d.createElement(v,{value:"exclude"},"不包含")))):d.createElement(l,{span:"5",className:"col_h"},d.createElement(h,b,d.createElement(i,p({},m(e+"formula",{initialValue:a.formData?a.formData[e+"formula"]:"",rules:[{required:!0,message:"必填"}]}),{type:"text",autoComplete:"off",placeholder:"请输入因子参数描述",disabled:f.canEdit})))),d.createElement(l,{span:"5",className:"col_h"},d.createElement(h,b,d.createElement(i,p({},m(e+"cvalue",{initialValue:a.formData?a.formData[e+"cvalue"]:"",rules:[{required:!0,message:"必填"}]}),{type:"text",disabled:f.canEdit,autoComplete:"off",placeholder:"请输入因子参数数值"})))),d.createElement(l,{span:"5",className:"col_h"},d.createElement(h,b,d.createElement(i,p({type:"text"},m(e+"paramScore",{initialValue:a.formData?a.formData[e+"paramScore"]:"",rules:[{required:!0,message:"必填"},{validator:a.checkFactorScore}]}),{placeholder:"分值"})))),d.createElement(l,{span:"2",className:"col_h"},d.createElement(r,{className:"ant-btn",icon:"plus",onClick:a.add}),d.createElement("span",{style:{padding:"0 5px"}}),d.createElement(r,{className:"ant-btn",shape:"circle",icon:"minus",onClick:a.remove.bind(a,e)}))),d.createElement(i,p({},m(e+"factorId",{initialValue:a.formData[e+"factorId"]?a.formData[e+"factorId"]:localStorage.id}),{type:"hidden"})),d.createElement(i,p({},m(e+"paramName",{initialValue:a.formData[e+"paramName"]?a.formData[e+"paramName"]:localStorage.factorName}),{type:"hidden"})),d.createElement(i,p({},m(e+"factorName",{initialValue:a.formData[e+"factorName"]?a.formData[e+"factorName"]:localStorage.factorName}),{type:"hidden"})),d.createElement(i,p({},m(e+"id",{initialValue:a.formData[e+"id"]?a.formData[e+"id"]:0}),{type:"hidden"})))});return d.createElement(o,{maskClosable:!1,title:f.title,visible:f.visible,onCancel:this.handleCancel,width:900,footer:y},d.createElement(c,{horizontal:!0,form:this.props.form},d.createElement(n,null,d.createElement(l,{span:"12",className:"col_h"},d.createElement(h,p({labelCol:{span:6},wrapperCol:{span:14}},{label:"所属评分项目："}),d.createElement(s,p({style:{width:"100%"}},m("itemName",{initialValue:this.props.record?this.props.record.itemName:"",rules:[{required:!0,message:"请选择所属评分项目"}]}),{placeholder:"请选择所属评分项目"}),this.props.projectList))),d.createElement(l,{span:"12",className:"col_h"},d.createElement(h,p({labelCol:{span:6},wrapperCol:{span:14}},{label:"评分因子名称："}),d.createElement(i,p({},m("factorName",{rules:[{required:!0,message:"请填入因子名称"}]}),{disabled:f.canEdit,type:"text",autoComplete:"off"}))))),d.createElement(n,null,d.createElement(l,{span:"12",className:"col_h"},d.createElement(h,p({labelCol:{span:6},wrapperCol:{span:14}},{label:"维护类型："}),d.createElement(s,p({style:{width:"100%"}},m("type",{onChange:this.onTypeChange,rules:[{required:!0,message:"请选择维护类型"}]}),{disabled:f.canEdit}),d.createElement(v,{value:"10"},"系统读取"),d.createElement(v,{value:"20"},"人工维护"),d.createElement(v,{value:"30"},"关联评分卡")))),d.createElement(i,p({},m("nnid",{initialValue:"20"}),{type:"hidden"}))),d.createElement(n,null,"10"==this.state.type||"10"==this.props.form.getFieldValue("type")?d.createElement(l,{span:"12",className:"col_h"},d.createElement(h,p({labelCol:{span:6},wrapperCol:{span:14}},{label:"系统参数："}),d.createElement(t,p({options:this.state.tableInfo},m("table",{rules:[{required:!0,message:"请选择系统参数",type:"array"}]}),{disabled:f.canEdit})))):null,"30"==this.state.type||"30"==this.props.form.getFieldValue("type")?d.createElement(l,{span:"12",className:"col_h"},d.createElement(h,p({labelCol:{span:6},wrapperCol:{span:14}},{label:"关联评分卡:"}),d.createElement(s,p({},m("cardname",{rules:[{required:!0,message:"请填入评分卡",type:"string"}]}),{placeholder:"请选择评分卡"}),this.state.cardName))):null,d.createElement(l,{span:"12",className:"col_h"},d.createElement(h,p({labelCol:{span:6},wrapperCol:{span:14}},{label:"因子分值："}),d.createElement(e,p({},m("factorScore",{rules:[{required:!0,message:"请填入因子分值",type:"number"},{validator:this.checkParamScore}]}),{style:{width:"253px"},disabled:!0,onBlur:this.handleFactorScoreBlur}))))),d.createElement("div",null,d.createElement("p",{style:{width:"100%",borderBottom:"1px solid #d9d9d9",marginBottom:"15px"}}),d.createElement(n,null,d.createElement(l,{span:"3",className:"col_h"}),d.createElement(l,{span:"5",className:"col_h"},d.createElement(h,p({labelCol:{span:8},wrapperCol:{span:0}},{label:"表达式："}))),d.createElement(l,{span:"5",className:"col_h"},d.createElement(h,p({labelCol:{span:2},wrapperCol:{span:0}},{label:"值："}))),d.createElement(l,{span:"5",className:"col_h"},d.createElement(h,p({labelCol:{span:6},wrapperCol:{span:0}},{label:"分值："})))),this.state.itemOne?d.createElement(n,null,d.createElement(l,{span:"3",className:"col_h"}),"20"==this.state.nnid||"20"==this.props.form.getFieldValue("nnid")?d.createElement(l,{span:"5",className:"col_h"},d.createElement(h,b,d.createElement(s,p({style:{width:"100%"},placeholder:"请选择因子参数描述",disabled:f.canEdit},m("01formula",{initialValue:this.formData?this.formData["0formula"]:"",rules:[{required:!0,message:"必填"}]})),d.createElement(v,{value:">"},">"),d.createElement(v,{value:"<"},"<"),d.createElement(v,{value:"="},"="),d.createElement(v,{value:">="},">="),d.createElement(v,{value:"<="},"<="),d.createElement(v,{value:"!="},"!="),d.createElement(v,{value:"<and<"},"<and<"),d.createElement(v,{value:"<=and<"},"<=and<"),d.createElement(v,{value:"<=and<="},"<=and<="),d.createElement(v,{value:"<and<="},"<and<="),d.createElement(v,{value:"include"},"包含"),d.createElement(v,{value:"exclude"},"不包含")))):d.createElement(l,{span:"5",className:"col_h"},d.createElement(h,b,d.createElement(i,p({},m("0formula",{initialValue:this.formData?this.formData["0formula"]:"",rules:[{required:!0,message:"必填"}]}),{type:"text",autoComplete:"off",placeholder:"请输入因子参数描述",disabled:f.canEdit})))),d.createElement(l,{span:"5",className:"col_h"},d.createElement(h,b,d.createElement(i,p({},m("0cvalue",{initialValue:this.formData?this.formData["0cvalue"]:"",rules:[{required:!0,message:"必填"}]}),{type:"text",autoComplete:"off",placeholder:"请输入因子参数数值",disabled:f.canEdit})))),d.createElement(l,{span:"5",className:"col_h"},d.createElement(h,b,d.createElement(i,p({},m("0paramScore",{initialValue:this.formData?this.formData["0paramScore"]:"",rules:[{required:!0,message:"必填"},{validator:this.checkFactorScore}]}),{type:"text",autoComplete:"off",placeholder:"分值"})))),d.createElement(i,p({},m("0id",{initialValue:this.formData["0id"]?this.formData["0id"]:0}),{type:"hidden"})),d.createElement(i,p({},m("0paramName",{initialValue:this.formData["0paramName"]?this.formData["0paramName"]:localStorage.factorName}),{type:"hidden"})),d.createElement(i,p({},m("0factorId",{initialValue:this.formData["0factorId"]?this.formData["0factorId"]:localStorage.id}),{type:"hidden"})),d.createElement(i,p({},m("0factorName",{initialValue:this.formData["0factorName"]?this.formData["0factorName"]:localStorage.factorName}),{type:"hidden"})),d.createElement(l,{span:"2"},d.createElement(r,{className:"ant-btn",icon:"plus",onClick:this.add}),this.state.keys.length>0?d.createElement(r,{className:"ant-btn",shape:"circle",icon:"minus",style:{marginLeft:"10px"},onClick:this.removeFirst}):null)):null,d.createElement("span",{style:{color:"#2db7f5",position:"absolute",right:"89px",top:"231px",cursor:"pointer"},onClick:this.showModal.bind(this,"因子参数描述区间值填写示例",!1)},"填写示例"),this.state.keys.length?E:null)),d.createElement(u,{ref:"DemoModal",visible:g.visible,title:g.title,hideModal:this.hideModal}))}}));return g=m()(g)}.apply(t,n))&&(e.exports=r)},1252:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){for(var a=Object.getOwnPropertyNames(t),n=0;n<a.length;n++){var r=a[n],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}return e}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):r(e,t))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d,u,p,m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},h=a(2),f=n(h),v=a(1253),g=n(v),y=a(336),b=n(y),E=a(326),S=n(E),k=a(1256),C=n(k),w=a(311),N=n(w),x=(u=d=function(e){function t(a){s(this,t);var n=o(this,e.call(this,a));p.call(n);var r=void 0;return"value"in a?r=a.value:"defaultValue"in a&&(r=a.defaultValue),n.state={value:r||[],popupVisible:!1},n}return c(t,e),t.prototype.componentWillReceiveProps=function(e){"value"in e&&this.setState({value:e.value||[]})},t.prototype.getLabel=function(){var e=this,t=this.props,a=t.options,n=t.displayRender,r=(0,C.default)(a,function(t,a){return t.value===e.state.value[a]});return n(r.map(function(e){return e.label}),r)},t.prototype.render=function(){var e,t,a=this.props,n=a.prefixCls,r=a.children,s=a.placeholder,o=a.size,c=a.disabled,d=a.className,u=a.style,p=a.allowClear,h=l(a,["prefixCls","children","placeholder","size","disabled","className","style","allowClear"]),v=(0,N.default)({"ant-input-lg":"large"===o,"ant-input-sm":"small"===o}),y=p&&!c&&this.state.value.length>0?f.default.createElement(S.default,{type:"cross-circle",className:n+"-picker-clear",onClick:this.clearSelection}):null,E=(0,N.default)((e={},i(e,n+"-picker-arrow",!0),i(e,n+"-picker-arrow-expand",this.state.popupVisible),e)),k=(0,N.default)((t={},i(t,d,!!d),i(t,n+"-picker",!0),i(t,n+"-picker-disabled",c),t));return delete h.onChange,f.default.createElement(g.default,m({},a,{value:this.state.value,popupVisible:this.state.popupVisible,onPopupVisibleChange:this.handlePopupVisibleChange,onChange:this.handleChange}),r||f.default.createElement("span",{style:u,className:k},f.default.createElement(b.default,m({},h,{placeholder:this.state.value&&this.state.value.length>0?null:s,className:n+"-input ant-input "+v,value:null,disabled:c,readOnly:!0})),f.default.createElement("span",{className:n+"-picker-label"},this.getLabel()),y,f.default.createElement(S.default,{type:"down",className:E})))},t}(f.default.Component),d.defaultProps={prefixCls:"ant-cascader",placeholder:"Please select",transitionName:"slide-up",popupPlacement:"bottomLeft",onChange:function(){},options:[],displayRender:function(e){return e.join(" / ")},disabled:!1,allowClear:!0,onPopupVisibleChange:function(){}},p=function(){var e=this;this.handleChange=function(t,a){e.setValue(t,a)},this.handlePopupVisibleChange=function(t){e.setState({popupVisible:t}),e.props.onPopupVisibleChange(t)},this.setValue=function(t){var a=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];"value"in e.props||e.setState({value:t}),e.props.onChange(t,a)},this.clearSelection=function(t){t.preventDefault(),t.stopPropagation(),e.setValue([]),e.setState({popupVisible:!1})}},u);t.default=x,e.exports=t.default},1253:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(1254),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.default=r.default,e.exports=t.default},1254:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){for(var a=Object.getOwnPropertyNames(t),n=0;n<a.length;n++){var r=a[n],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}return e}function i(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):r(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=a(2),u=n(d),p=a(166),m=n(p),h=a(1255),f=n(h),v={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:1,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:1,adjustY:1}}},g=function(e){function t(a){l(this,t);var n=s(this,e.call(this,a));n.setPopupVisible=function(e){"popupVisible"in n.props||n.setState({popupVisible:e}),e&&!n.state.visible&&n.setState({activeValue:n.state.value}),n.props.onPopupVisibleChange(e)},n.handleChange=function(e,t){n.props.onChange(e.map(function(e){return e.value}),e),n.setPopupVisible(t.visible)},n.handlePopupVisibleChange=function(e){n.setPopupVisible(e)},n.handleSelect=function(e){var t=i(e,[]);"value"in n.props&&delete t.value,n.setState(t)};var r=[];return"value"in a?r=a.value||[]:"defaultValue"in a&&(r=a.defaultValue||[]),n.state={popupVisible:a.popupVisible,activeValue:r,value:r},n}return o(t,e),t.prototype.componentWillReceiveProps=function(e){"value"in e&&this.props.value!==e.value&&this.setState({value:e.value||[],activeValue:e.value||[]}),"popupVisible"in e&&this.setState({popupVisible:e.popupVisible})},t.prototype.getPopupDOMNode=function(){return this.refs.trigger.getPopupDomNode()},t.prototype.render=function(){var e=this.props,t=e.prefixCls,a=e.transitionName,n=e.popupClassName,r=e.popupPlacement,l=i(e,["prefixCls","transitionName","popupClassName","popupPlacement"]),s=u.default.createElement("div",null),o="";return e.options&&e.options.length>0?s=u.default.createElement(f.default,c({},e,{value:this.state.value,activeValue:this.state.activeValue,onSelect:this.handleSelect,onChange:this.handleChange,visible:this.state.popupVisible})):o=" "+t+"-menus-empty",u.default.createElement(m.default,c({ref:"trigger"},l,{popupPlacement:r,builtinPlacements:v,popupTransitionName:a,action:e.disabled?[]:["click"],popupVisible:!e.disabled&&this.state.popupVisible,onPopupVisibleChange:this.handlePopupVisibleChange,prefixCls:t+"-menus",popupClassName:n+o,popup:s}),e.children)},t}(u.default.Component);g.defaultProps={options:[],onChange:function(){},onPopupVisibleChange:function(){},disabled:!1,transitionName:"",prefixCls:"rc-cascader",popupClassName:"",popupPlacement:"bottomLeft"},g.propTypes={value:u.default.PropTypes.array,defaultValue:u.default.PropTypes.array,options:u.default.PropTypes.array.isRequired,onChange:u.default.PropTypes.func,onPopupVisibleChange:u.default.PropTypes.func,popupVisible:u.default.PropTypes.bool,disabled:u.default.PropTypes.bool,transitionName:u.default.PropTypes.string,popupClassName:u.default.PropTypes.string,popupPlacement:u.default.PropTypes.string,prefixCls:u.default.PropTypes.string},t.default=g,e.exports=t.default},1255:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){for(var a=Object.getOwnPropertyNames(t),n=0;n<a.length;n++){var r=a[n],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):r(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c=a(2),d=n(c),u=a(1256),p=n(u),m=a(159),h=function(e){function t(){return i(this,t),l(this,e.apply(this,arguments))}return s(t,e),t.prototype.componentDidMount=function(){this.scrollActiveItemToView()},t.prototype.componentDidUpdate=function(e){!e.visible&&this.props.visible&&this.scrollActiveItemToView()},t.prototype.onSelect=function(e,t){if(e&&!e.disabled){var a=this.props.activeValue;a=a.slice(0,t+1),a[t]=e.value;var n=this.getActiveOptions(a);if(!1===e.isLeaf&&!e.children&&this.props.loadData)return this.props.onSelect({activeValue:a}),void this.props.loadData(n);var r={};e.children&&e.children.length?this.props.changeOnSelect&&(this.props.onChange(n,{visible:!0}),r.value=a):(this.props.onChange(n,{visible:!1}),r.value=a),r.activeValue=a,this.props.onSelect(r)}},t.prototype.getOption=function(e,t){var a=this.props,n=a.prefixCls,r=a.expandTrigger,i=this.onSelect.bind(this,e,t),l={onClick:i},s=n+"-menu-item";"hover"===r&&e.children&&e.children.length>0&&(l={onMouseEnter:this.delayOnSelect.bind(this,i),onMouseLeave:this.delayOnSelect.bind(this)},s+=" "+n+"-menu-item-expand"),this.isActiveOption(e)&&(s+=" "+n+"-menu-item-active",l.ref="activeItem"+t),e.disabled&&(s+=" "+n+"-menu-item-disabled"),e.loading&&(s+=" "+n+"-menu-item-loading");var c="";return e.title?c=e.title:"string"==typeof e.label&&(c=e.label),d.default.createElement("li",o({key:e.value,className:s,title:c},l),e.label)},t.prototype.getActiveOptions=function(e){var t=e||this.props.activeValue,a=this.props.options;return(0,p.default)(a,function(e,a){return e.value===t[a]})},t.prototype.getShowOptions=function(){var e=this.props.options,t=this.getActiveOptions().map(function(e){return e.children}).filter(function(e){return!!e});return t.unshift(e),t},t.prototype.delayOnSelect=function(e){var t=this;this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null),"function"==typeof e&&(this.delayTimer=setTimeout(function(){e(),t.delayTimer=null},150))},t.prototype.scrollActiveItemToView=function(){for(var e=this.getShowOptions().length,t=0;t<e;t++){var a=this.refs["activeItem"+t];if(a){var n=(0,m.findDOMNode)(a);n.parentNode.scrollTop=n.offsetTop}}},t.prototype.isActiveOption=function(e){return this.props.activeValue.some(function(t){return t===e.value})},t.prototype.render=function(){var e=this,t=this.props.prefixCls;return d.default.createElement("div",null,this.getShowOptions().map(function(a,n){return d.default.createElement("ul",{className:t+"-menu",key:n},a.map(function(t){return e.getOption(t,n)}))}))},t}(d.default.Component);h.defaultProps={options:[],value:[],
activeValue:[],onChange:function(){},onSelect:function(){},prefixCls:"rc-cascader-menus",visible:!1,expandTrigger:"click",changeOnSelect:!1},h.propTypes={value:d.default.PropTypes.array,activeValue:d.default.PropTypes.array,options:d.default.PropTypes.array.isRequired,prefixCls:d.default.PropTypes.string,expandTrigger:d.default.PropTypes.string,onChange:d.default.PropTypes.func,onSelect:d.default.PropTypes.func,loadData:d.default.PropTypes.func,visible:d.default.PropTypes.bool,changeOnSelect:d.default.PropTypes.bool},t.default=h,e.exports=t.default},1256:function(e,t){function a(e,t,a){a=a||{},a.childrenKeyName=a.childrenKeyName||"children";var n,r=e||[],i=[],l=0;do{var n=r.filter(function(e){return t(e,l)})[0];if(!n)break;i.push(n),r=n[a.childrenKeyName]||[],l+=1}while(r.length>0);return i}e.exports=a},1257:function(e,t,a){var n,r;n=[a(300),a(331),a(336),a(335),a(339),a(363),a(2)],void 0!==(r=function(e,t,n,r,i,l,s){var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c=l.create,d=l.Item,u=i.Option,p=(a(210),s.createClass({displayName:"DemoModal",getInitialState:function(){return{}},handleCancel:function(){this.props.hideModal()},render:function(){var a=this.props.form.getFieldProps;a("keys",{initialValue:[]});var c=this.props,p=(this.state,[s.createElement("button",{key:"back",className:"ant-btn",onClick:this.handleCancel},"关闭")]),m={labelCol:{span:6},wrapperCol:{span:22}};return s.createElement(e,{maskClosable:!1,title:c.title,visible:c.visible,onCancel:this.handleCancel,width:900,footer:p},s.createElement(l,{horizontal:!0,form:this.props.form},s.createElement("div",null,s.createElement(t,null,s.createElement(r,{span:"3",className:"col_h"}),s.createElement(r,{span:"5",className:"col_h"},s.createElement(d,m,s.createElement(i,o({style:{width:"100%"},disabled:!0},a("a",{initialValue:"<and<"})),s.createElement(u,{value:"<and<"},"<and<")))),s.createElement(r,{span:"5",className:"col_h"},s.createElement(d,m,s.createElement(n,o({},a("b",{initialValue:"20,30"}),{disabled:!0})))),s.createElement(r,{span:"5",className:"col_h"},s.createElement(d,m,s.createElement(n,o({},a("c",{initialValue:"7"}),{disabled:!0})))),s.createElement("span",null,"因子参数分值用逗号分割开")),s.createElement(t,null,s.createElement(r,{span:"3",className:"col_h"}),s.createElement(r,{span:"5",className:"col_h"},s.createElement(d,m,s.createElement(i,o({style:{width:"100%"},disabled:!0},a("a",{initialValue:"<=and<"})),s.createElement(u,{value:"<=and<"},"<=and<")))),s.createElement(r,{span:"5",className:"col_h"},s.createElement(d,m,s.createElement(n,o({},a("b",{initialValue:"1000,2000"}),{disabled:!0})))),s.createElement(r,{span:"5",className:"col_h"},s.createElement(d,m,s.createElement(n,o({},a("c",{initialValue:"77"}),{disabled:!0}))))),s.createElement(t,null,s.createElement(r,{span:"3",className:"col_h"}),s.createElement(r,{span:"5",className:"col_h"},s.createElement(d,m,s.createElement(i,o({style:{width:"100%"},disabled:!0},a("a",{initialValue:"<=and<="})),s.createElement(u,{value:"<=and<="},"<=and<=")))),s.createElement(r,{span:"5",className:"col_h"},s.createElement(d,m,s.createElement(n,o({},a("b",{initialValue:"3,7"}),{disabled:!0})))),s.createElement(r,{span:"5",className:"col_h"},s.createElement(d,m,s.createElement(n,o({},a("c",{initialValue:"7"}),{disabled:!0}))))),s.createElement(t,null,s.createElement(r,{span:"3",className:"col_h"}),s.createElement(r,{span:"5",className:"col_h"},s.createElement(d,m,s.createElement(i,o({style:{width:"100%"},disabled:!0},a("a",{initialValue:"<and<="})),s.createElement(u,{value:"<and<="},"<and<=")))),s.createElement(r,{span:"5",className:"col_h"},s.createElement(d,m,s.createElement(n,o({},a("b",{initialValue:"10,100"}),{disabled:!0})))),s.createElement(r,{span:"5",className:"col_h"},s.createElement(d,m,s.createElement(n,o({},a("c",{initialValue:"7"}),{disabled:!0}))))))))}}));return p=c()(p)}.apply(t,n))&&(e.exports=r)},1258:function(e,t,a){var n,r;n=[a(331),a(335),a(336),a(300),a(339),a(363),a(2)],void 0!==(r=function(e,t,n,r,i,l,s){var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c=l.create,d=l.Item,u=(i.Option,a(210),s.createClass({displayName:"AddScorecard",getInitialState:function(){return{status:{},formData:{}}},handleCancel:function(){this.props.form.resetFields(),this.props.hideModal()},handleOk:function(e){e.preventDefault();var t,a=this,n=a.props,i=n.record,l=n.title;this.props.form.validateFields(function(e,n){if(!e){if("编辑"==l){t="/modules/manage/cr/card/update.htm";var s={cardName:n.cardName,id:i.id}}else{t="/modules/manage/cr/card/save.htm";var s={cardName:n.cardName}}Utils.ajaxData({url:t,data:s,callback:function(e){200==e.code?r.success({title:e.msg,onOk:function(){a.handleCancel()}}):r.error({title:e.msg})}})}})},render:function(){var a=this.props.form.getFieldProps,i=this.props,c=(this.state,[s.createElement("button",{key:"button",className:"ant-btn ant-btn-primary",onClick:this.handleOk},"确定"),s.createElement("button",{key:"back",className:"ant-btn",onClick:this.handleCancel},"取消")]),u={labelCol:{span:8},wrapperCol:{span:12}};return s.createElement(r,{title:i.title,visible:i.visible,onCancel:this.handleCancel,width:"500",footer:c},s.createElement(l,{horizontal:!0,form:this.props.form},s.createElement(n,o({},a("ruleId"),{type:"hidden",autoComplete:"off"})),s.createElement(e,null,s.createElement(t,{span:"24"},s.createElement(d,o({},u,{label:"评分卡名称："}),s.createElement(n,o({},a("cardName",{rules:[{required:!0,message:"必填"}]}),{type:"text"})))))))}}));return u=c()(u)}.apply(t,n))&&(e.exports=r)},1259:function(e,t,a){var n,r;n=[a(905),a(300),a(339),a(2),a(1251),a(1260),a(1261)],void 0!==(r=function(e,t,n,r,i,l,s){var o=n.Option,c=t.confirm,d=a(210);return r.createClass({displayName:"ScoretemList",getInitialState:function(){return{selectedRowKeys:[],loading:!1,data:[],pagination:{pageSize:10,current:1},scoreTotal:"",canEdit:!0,visible:!1,visibleScorecard:!1,visibleProjName:!1,visibleScoreFactor:!1,pictureData:[],creditReportData:[],rowRecord:[],expandedRowKeys:[],num:1}},componentWillReceiveProps:function(e,t){var a={};a={cardId:JSON.parse(localStorage.record).id};var n=d({},{pageSize:10,current:1},{search:JSON.stringify(a)});this.fetch(n)},componentDidMount:function(){var e=JSON.parse(localStorage.record),t={};t={cardId:e.id};var a=d({},{pageSize:10,current:1},{search:JSON.stringify(t)});this.fetch(a)},fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=JSON.parse(localStorage.record);this.setState({loading:!0}),a&&Utils.ajaxData({url:"/modules/manage/cr/item/page.htm",data:t,callback:function(a){var n=e.state.pagination;n.current=t.current,n.pageSize=t.pageSize,n.total=a.page.total,n.current||(n.current=1),e.setState({loading:!1,data:a.data,pagination:n},function(){1==e.state.num&&e.expandedAll(),e.setState({num:2})})}})},showModal:function(e,t,a){var n=this,i={id:t.id};Utils.ajaxData({url:"/modules/manage/cr/factor/page.htm",data:{pageSize:10,current:1,secreditrankh:JSON.stringify(i)},callback:function(t){var r=t.data;localStorage.itemId=r[0].itemId;var i=r[0].tab,l=i.split(",");r[0].table=l,r[0].cardname=r[0].cardName,r[0].itemName=r[0].itemName,n.refs.SetScorParams.setFieldsValue(r[0]),localStorage.factorName=r[0].factorName,localStorage.id=r[0].id,n.setState({visible:!0,title:e,canEdit:a,ruleData:r})}});var l=[],s=JSON.parse(localStorage.record);Utils.ajaxData({url:"/modules/manage/cr/item/list.htm",data:{cardId:s.id},callback:function(e){var t=e.data;l=e.data.map(function(e){return r.createElement(o,{key:e.itemName,value:e.itemName},e.itemName)}),n.setState({projectList:l,itemIdData:t})}})},hideModal:function(){this.setState({visible:!1,visibleProjName:!1,visibleScoreFactor:!1,selectedIndex:"",selectedRowKeys:[]}),this.refreshList()},rowKey:function(e){return e.nid},onSelectChange:function(e){this.setState({selectedRowKeys:e})},handleTableChange:function(e,t,a){var n=this.state.pagination;n.current=e.current,this.setState({pagination:n}),this.refreshList()},onRowClick:function(e){this.setState({selectedRowKeys:[e.id],record:e})},goNextTab:function(e){localStorage.record=JSON.stringify(e),this.props.setTabClick("3")},refreshList:function(){var e=this.state.pagination,t=JSON.parse(localStorage.record),a={};a={cardId:t.id};var n=d({},this.props.params,{current:e.current,pageSize:e.pageSize,search:JSON.stringify(a)});this.fetch(n)},showModalProjName:function(e,t){var a=this,n={id:t.id};"修改项目名称"==e&&Utils.ajaxData({url:"/modules/manage/cr/item/page.htm",data:{pageSize:10,current:1,search:JSON.stringify(n)},callback:function(e){a.refs.AddProjName.setFieldsValue(e.data[0])}}),this.setState({visibleProjName:!0,title:e,record:t})},showModalScoreFactor:function(e){var t=this,a=[],n=JSON.parse(localStorage.record);Utils.ajaxData({url:"/modules/manage/cr/item/list.htm",data:{cardId:n.id},callback:function(e){var n=e.data;a=e.data.map(function(e){return r.createElement(o,{key:e.itemName,value:e.itemName},e.itemName)}),t.setState({projectList:a,itemIdData:n})}}),this.setState({visibleScoreFactor:!0,title:e})},deleteProject:function(e){var a=this;c({title:"是否确认要删除这项内容",onOk:function(){Utils.ajaxData({url:"/modules/manage/cr/item/delete.htm",data:{id:e.id},method:"post",callback:function(e){t.success({title:e.msg}),a.refreshList()}})}})},deleteFactor:function(e){var a=this;c({title:"是否确认要删除这项内容",onOk:function(){Utils.ajaxData({url:"/modules/manage/cr/factor/delete.htm",data:{id:e.id},method:"post",callback:function(e){t.success({title:e.msg}),a.refreshList()}})}})},changeStausItem:function(e,a){var n=this;if("删除"!=e){var r={id:a.id};r.state="禁用"==e?20:10,Utils.ajaxData({url:"/modules/manage/cr/item/updateState.htm",data:r,callback:function(e){e.code;200==e.code?(t.success({title:e.msg}),n.refreshList()):t.error({title:e.msg})}})}},changeStausParam:function(e,a){var n=this;if("删除"!=e){var r={id:a.id};r.state="禁用"==e?20:10,Utils.ajaxData({url:"/modules/manage/cr/factorParam/updateState.htm",data:r,callback:function(e){e.code;200==e.code?(t.success({title:e.msg}),n.refreshList()):t.error({title:e.msg})}})}},changeStausFactor:function(e,a){var n=this,r={id:a.id};r.state="禁用"==e?20:10,Utils.ajaxData({url:" /modules/manage/cr/factor/updateState.htm",data:r,callback:function(e){e.code;200==e.code?(t.success({title:e.msg}),n.refreshList()):t.error({title:e.msg})}})},getExpandeRowKeys:function(e){var t=this,a=[];return e.length&&e.forEach(function(e,n){e.children&&(a.push(t.rowKey(e)),a=a.concat(t.getExpandeRowKeys(e.children)))}),a},expandedAll:function(){function e(e,t){return e-t}var t=this.state.data,a=this.getExpandeRowKeys(t);this.setState({expandedRowKeys:a.sort(e).reverse()})},onExpandedRowsChange:function(e){this.setState({expandedRowKeys:e})},render:function(){var t=this,a=this.state,n=(a.loading,a.selectedRowKeys),o=this,c=this.state;n.length>0&&n.indexOf("0");var d=[{title:"项目名称",dataIndex:"itemName",render:function(e,t){return t.score>=0?t.itemName:t.cvalue?t.formula+t.cvalue:t.factorName}},{title:"分值",dataIndex:"score",render:function(e,t){return t.score>=0?t.score:t.factorScore?t.factorScore:t.paramScore}},{title:"权重",dataIndex:"sc5ore",render:function(e,a){if(a.score>=0){var n=0;return t.state.data.forEach(function(e){n+=parseInt(e.score)}),"0"!=n?(100*a.score/n).toFixed(2)+"%":"0%"}if(a.factorScore){var r=0;return t.state.data.forEach(function(e){"items"==e.article&&e.id==a.itemId&&(r=0!=e.score?(100*a.factorScore/e.score).toFixed(2)+"%":"0%")}),r}return a.paramScore}},{title:"操作",key:"",render:function(e,t){return t.score>=0?r.createElement("div",null,r.createElement("span",null,r.createElement("a",{href:"#",onClick:o.deleteProject.bind(o,t)},"删除 "))):t.itemId?r.createElement("div",null,r.createElement("span",null,r.createElement("a",{href:"#",onClick:o.deleteFactor.bind(o,t)},"删除")," ",r.createElement("span",{className:"ant-divider"})," ",r.createElement("a",{onClick:o.showModal.bind(o,"编辑评分因子",t,!1)},"编辑"))):void 0}}];return r.createElement("div",{className:"block-panel"},r.createElement("div",{className:"actionBtns",style:{marginBottom:16}},r.createElement("button",{onClick:o.showModalProjName.bind(o,"新增评分项目",!1),className:"ant-btn"},"新增评分项目"),r.createElement("button",{onClick:o.showModalScoreFactor.bind(o,"新增评分因子",!1),className:"ant-btn"},"新增评分因子")),r.createElement(e,{columns:d,rowKey:this.rowKey,dataSource:this.state.data,rowClassName:this.rowClassName,pagination:this.state.pagination,onChange:this.handleTableChange,loading:this.state.loading,onRowClick:this.onRowClick,expandedRowKeys:this.state.expandedRowKeys,onExpandedRowsChange:this.onExpandedRowsChange}),r.createElement(s,{ref:"AddScoreFactor",visible:c.visibleScoreFactor,title:c.title,projectList:c.projectList,itemIdData:c.itemIdData,hideModal:o.hideModal,record:c.record}),r.createElement(l,{ref:"AddProjName",visible:c.visibleProjName,title:c.title,hideModal:o.hideModal,record:c.record}),r.createElement(i,{ref:"SetScorParams",visible:c.visible,ruleData:c.ruleData,projectList:c.projectList,itemIdData:c.itemIdData,canEdit:c.canEdit,title:c.title,hideModal:o.hideModal,record:c.record}))}})}.apply(t,n))&&(e.exports=r)},1260:function(e,t,a){var n,r;n=[a(331),a(335),a(336),a(300),a(339),a(363),a(2)],void 0!==(r=function(e,t,n,r,i,l,s){var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c=l.create,d=l.Item,u=(i.Option,a(210),s.createClass({displayName:"AddProjName",getInitialState:function(){return{status:{},formData:{}}},handleCancel:function(){this.props.form.resetFields(),this.props.hideModal()},handleOk:function(e){e.preventDefault();var t,a=this,n=a.props,i=n.record,l=JSON.parse(localStorage.record),s=n.title;this.props.form.validateFields(function(e,a){if(!e){if("新增评分项目"==s){t="/modules/manage/cr/item/save.htm";var o={cardId:l.id,cardName:l.cardName,itemName:a.itemName}}else{t="/modules/manage/cr/item/update.htm";var o={cardId:i.cardId,id:i.id,cardName:i.cardName,itemName:a.itemName}}Utils.ajaxData({url:t,data:o,callback:function(e){200==e.code?r.success({title:e.msg,onOk:function(){n.hideModal()}}):r.error({title:e.msg})}})}})},render:function(){var a=this.props.form.getFieldProps,i=this.props,c=(this.state,[s.createElement("button",{key:"button",className:"ant-btn ant-btn-primary",onClick:this.handleOk},"确定"),s.createElement("button",{key:"back",className:"ant-btn",onClick:this.handleCancel},"取消")]),u={labelCol:{span:8},wrapperCol:{span:12}};return s.createElement(r,{title:i.title,visible:i.visible,onCancel:this.handleCancel,width:"500",footer:c},s.createElement(l,{horizontal:!0,form:this.props.form},s.createElement(e,null,s.createElement(t,{span:"24"},s.createElement(d,o({},u,{label:"项目名称："}),s.createElement(n,o({},a("itemName",{rules:[{required:!0,message:"必填"}]}),{type:"text"})))))))}}));return u=c()(u)}.apply(t,n))&&(e.exports=r)},1261:function(e,t,a){var n,r;n=[a(1233),a(1252),a(331),a(324),a(336),a(335),a(300),a(339),a(363),a(913),a(2),a(1257)],void 0!==(r=function(e,t,n,r,i,l,s,o,c,d,u,p){function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},f=(d.Group,c.create),v=c.Item,g=o.Option,y=(a(210),u.createClass({displayName:"AddScoreFactor",getInitialState:function(){return{keys:[],selectVlaue:1,tableInfo:[],num:1,nnid:20,factorNameTxt:"",passwordDirty:!1,itemOne:!0,visible:!1,number:[]}},handleCancel:function(){this.props.hideModal(),this.setState({keys:[],selectVlaue:1,number:[],itemOne:!0}),this.formData={},this.state.num=1,this.props.form.resetFields()},hideModal:function(){this.setState({visible:!1})},showModal:function(e){this.setState({visible:!0,title:e})},handleOk:function(e){var t=this;e.preventDefault();var a=this,n=a.props,r=(n.record,n.title,this.state.tableInfo,JSON.parse(localStorage.record));this.props.form.validateFields(function(e,a){if(!e){var n=a,i={},l=[],o="",c="";n.table&&(n.ctable=n.table[0],n.ccolumn=n.table[1]);for(var d=t.state.corresData,u=0;u<d.length;u++){d[u].tbNid==n.ctable&&(n.ctableName=d[u].tbName);for(var p=0;p<d[u].children.length;p++)d[u].children[p].nid==n.ccolumn&&(n.ccolumnName=d[u].children[p].name,n.ctype=d[u].children[p].type)}var h=t.props.itemIdData,f="";h.map(function(e,t){if(e.itemName==n.itemName)return f=e.id});var v={};n["01formula"]?(v.formula=n["01formula"],v.cvalue=n["0cvalue"],v.paramScore=n["0paramScore"],v.id=n["0id"],v.paramName=n["0paramName"],v.factorId=n["0factorId"],v.factorName=n["0factorName"],l.push(v),0!=n.keys.length&&n.keys.forEach(function(e){var t={};t.formula=n[e+"1formula"],t.cvalue=n[e+"cvalue"],t.paramScore=n[e+"paramScore"],t.id=n[e+"id"],t.paramName=n[e+"paramName"],t.factorId=n[e+"factorId"],t.factorName=n[e+"factorName"],l.push(t)})):n["0formula"]?(v.formula=n["0formula"],v.cvalue=n["0cvalue"],v.paramScore=n["0paramScore"],v.id=n["0id"],v.paramName=n["0paramName"],v.factorId=n["0factorId"],v.factorName=n["0factorName"],l.push(v),0!=n.keys.length&&n.keys.forEach(function(e){var t={};t.formula=n[e+"formula"],t.cvalue=n[e+"cvalue"],t.paramScore=n[e+"paramScore"],t.id=n[e+"id"],t.paramName=n[e+"paramName"],t.factorId=n[e+"factorId"],t.factorName=n[e+"factorName"],l.push(t)})):0!=n.keys.length&&n.keys.forEach(function(e){var t={};t.formula=n[e+"formula"],t.cvalue=n[e+"cvalue"],t.paramScore=n[e+"paramScore"],t.id=n[e+"id"],t.paramName=n[e+"paramName"],t.factorId=n[e+"factorId"],t.factorName=n[e+"factorName"],l.push(t)}),i.search=l;var g=m({itemName:n.itemName,factorName:n.factorName,type:n.type,factorScore:n.factorScore?n.factorScore:"",cardId:r.id,itemId:f||"",nnid:20,cardName:r.cardName?r.cardName:"",ccolumnName:n.ccolumnName?n.ccolumnName:"",ccolumn:n.ccolumn?n.ccolumn:"",ctable:n.ctable?n.ctable:"",ctableName:n.ctableName?n.ctableName:"",ctype:n.ctype?n.ctype:""},"cardId",n.cardname?n.cardname:0);o="/modules/manage/cr/factor/save.htm",c={factorModel:JSON.stringify(g),secreditrankh:JSON.stringify(i.search)},Utils.ajaxData({url:o,data:c,method:"post",callback:function(e){200==e.code&&t.handleCancel();e.code;s.success({title:e.msg})}})}})},remove:function(e){var t=this.props.form,a=t.getFieldValue("keys");a=a.filter(function(t){return t!==e}),this.state.keys=a,t.setFieldsValue({keys:a});var n=this.state.number.filter(function(a){return a!==t.getFieldValue([e+"paramScore"])});this.setState({number:n});var r=Math.max.apply(Math,n);this.props.form.setFieldsValue({factorScore:r})},removeFirst:function(){var e=this.props.form;e.getFieldValue("keys").length>0&&this.setState({itemOne:!1});var t=this.state.number.filter(function(t){return t!==e.getFieldValue(["0paramScore"])});this.setState({number:t});var a=Math.max.apply(Math,t);this.props.form.setFieldsValue({factorScore:a})},add:function(){var e=this.props.form,t=e.getFieldValue("keys");t=t.concat(this.state.selectVlaue++),this.state.keys=t,e.setFieldsValue({keys:t})},formData:{},transformeData:function(e){var t={},a=[];e["01formula"]?e.forEach(function(e,n){var r=n;a.push(r),t[r+"1formula"]=e.formula,t[r+"cvalue"]=e.cvalue,t[r+"paramScore"]=e.paramScore,t[r+"id"]=e.id,t[r+"factorId"]=e.factorId,t[r+"factorName"]=e.factorName,t[r+"paramName"]=e.paramName}):e.forEach(function(e,n){var r=n;a.push(r),t[r+"formula"]=e.formula,t[r+"cvalue"]=e.cvalue,t[r+"paramScore"]=e.paramScore,t[r+"id"]=e.id,t[r+"factorId"]=e.factorId,t[r+"factorName"]=e.factorName,t[r+"paramName"]=e.paramName});a.splice(0,1);return t.keys=a,t},componentWillReceiveProps:function(e){e.visible&&(this.formData={})},componentDidMount:function(){var e=this,t={state:"10"};Utils.ajaxData({url:"/modules/manage/cr/card/findAll.htm",callback:function(t){var a=t.data,n=[];n=a.map(function(e){return u.createElement(g,{key:e.id,value:String(e.id)},e.cardName)}),e.setState({cardName:n})}}),Utils.ajaxData({url:"/modules/manage/cr/info/page.htm",data:{pageSize:10,current:1,search:JSON.stringify(t)},callback:function(t){if(200==t.code){var a=[];t.data.forEach(function(e){var t={};t.label=e.tbName,t.value=e.tbNid,t.children=[],e.children.forEach(function(e){var a={};a.label=e.name,a.value=e.nid,t.children.push(a)}),a.push(t)}),e.setState({tableInfo:a,corresData:t.data})}}})},onChange:function(e){this.setState({nnid:e})},onFactorNameChange:function(e){this.setState({factorNameTxt:e.target.value})},onTypeChange:function(e){this.setState({type:e})},handleFactorScoreBlur:function(e){var t=e.target.value;this.setState({passwordDirty:this.state.passwordDirty||!!t})},checkFactorScore:function(e,t,a){this.props.form,this.state.keys;this.state.number.push(t);var n=Math.max.apply(Math,this.state.number);this.props.form.setFieldsValue({factorScore:n}),a()},checkParamScore:function(e,t,a){var n=this.props.form,r=this.state.keys;if(t&&this.state.passwordDirty)if(0==r.length)n.validateFields(["0paramScore"],{force:!0});else for(var i=0;i<=r.length;i++)n.validateFields([i+"paramScore"],{force:!0});a()},render:function(){var a=this,d=this.props.form.getFieldProps;d("keys",{initialValue:[]});var m=this.props,f=this.state,y=[u.createElement("button",{key:"back",className:"ant-btn",onClick:this.handleCancel},"返 回"),u.createElement("button",{key:"button",className:"ant-btn ant-btn-primary",onClick:this.handleOk},"提 交")],b={labelCol:{span:6},wrapperCol:{span:22}},E=f.keys.map(function(e){return u.createElement("div",{key:e},u.createElement(n,null,u.createElement(l,{span:"3",className:"col_h"}),"20"==a.state.nnid?u.createElement(l,{span:"5",className:"col_h"},u.createElement(v,b,u.createElement(o,h({style:{width:"100%"},placeholder:"请选择因子参数描述",disabled:m.canEdit},d(e+"1formula",{initialValue:a.formData?a.formData[e+"formula"]:"",rules:[{required:!0,message:"必填"}]})),u.createElement(g,{value:">"},">"),u.createElement(g,{value:"<"},"<"),u.createElement(g,{value:"="},"="),u.createElement(g,{value:">="},">="),u.createElement(g,{value:"<="},"<="),u.createElement(g,{value:"!="},"!="),u.createElement(g,{value:"<and<"},"<and<"),u.createElement(g,{value:"<=and<"},"<=and<"),u.createElement(g,{value:"<=and<="},"<=and<="),u.createElement(g,{value:"<and<="},"<and<="),u.createElement(g,{value:"include"},"包含"),u.createElement(g,{value:"exclude"},"不包含")))):u.createElement(l,{span:"5",className:"col_h"},u.createElement(v,b,u.createElement(i,h({},d(e+"formula",{initialValue:a.formData?a.formData[e+"formula"]:"",rules:[{required:!0,message:"必填"}]}),{type:"text",autoComplete:"off",placeholder:"请输入因子参数描述",disabled:m.canEdit})))),u.createElement(l,{span:"5",className:"col_h"},u.createElement(v,b,u.createElement(i,h({},d(e+"cvalue",{initialValue:a.formData?a.formData[e+"cvalue"]:"",rules:[{required:!0,message:"必填"}]}),{type:"text",disabled:m.canEdit,autoComplete:"off",placeholder:"请输入因子参数数值"})))),u.createElement(l,{span:"5",className:"col_h"},u.createElement(v,b,u.createElement(i,h({type:"text"},d(e+"paramScore",{initialValue:a.formData?a.formData[e+"paramScore"]:"",rules:[{required:!0,message:"必填"},{validator:a.checkFactorScore}]}),{placeholder:"分值"})))),u.createElement(l,{span:"2",className:"col_h"},u.createElement(r,{className:"ant-btn",icon:"plus",onClick:a.add}),u.createElement("span",{style:{padding:"0 5px"}}),1==a.state.keys.length&&0==a.state.itemOne?"":u.createElement(r,{className:"ant-btn",shape:"circle",icon:"minus",onClick:a.remove.bind(a,e)}))),u.createElement(i,h({},d(e+"factorId",{initialValue:0}),{type:"hidden"})),u.createElement(i,h({},d(e+"paramName",{initialValue:a.state.factorNameTxt}),{type:"hidden"})),u.createElement(i,h({},d(e+"factorName",{initialValue:a.state.factorNameTxt}),{type:"hidden"})),u.createElement(i,h({},d(e+"id",{initialValue:0}),{type:"hidden"})))});return u.createElement(s,{maskClosable:!1,title:m.title,visible:m.visible,onCancel:this.handleCancel,width:900,footer:y},u.createElement(c,{horizontal:!0,form:this.props.form},u.createElement(n,null,u.createElement(l,{span:"12",className:"col_h"},u.createElement(v,h({labelCol:{span:6},wrapperCol:{span:14}},{label:"所属评分项目："}),u.createElement(o,h({style:{width:"100%"}},d("itemName",{rules:[{required:!0,message:"请选择所属评分项目"}]}),{placeholder:"请选择所属评分项目"}),this.props.projectList))),u.createElement(l,{span:"12",className:"col_h"},u.createElement(v,h({labelCol:{span:6},wrapperCol:{span:14}},{label:"评分因子名称："}),u.createElement(i,h({},d("factorName",{onChange:this.onFactorNameChange,rules:[{required:!0,message:"请填入因子名称"}]}),{placeholder:"请填入因子名称",type:"text",autoComplete:"off"}))))),u.createElement(n,null,u.createElement(l,{span:"12",className:"col_h"},u.createElement(v,h({labelCol:{span:6},wrapperCol:{span:14}},{label:"维护类型："}),u.createElement(o,h({style:{width:"100%"}},d("type",{initialValue:"20",onChange:this.onTypeChange,rules:[{required:!0,message:"请选择维护类型"}]}),{placeholder:"请选择维护类型"}),u.createElement(g,{value:"10"},"系统读取"),u.createElement(g,{value:"20"},"人工维护"),u.createElement(g,{value:"30"},"关联评分卡")))),u.createElement(i,h({},d("nnid",{initialValue:"20"}),{type:"hidden"}))),u.createElement(n,null,"10"==this.state.type?u.createElement(l,{span:"12",className:"col_h"},u.createElement(v,h({labelCol:{span:6},wrapperCol:{span:14}},{label:"系统参数："}),u.createElement(t,h({options:this.state.tableInfo},d("table",{rules:[{required:!0,message:"请选择系统参数",type:"array"}]}),{placeholder:"请选择系统参数"})))):null,"30"==this.state.type?u.createElement(l,{span:"12",className:"col_h"},u.createElement(v,h({labelCol:{span:6},wrapperCol:{span:14}},{label:"关联评分卡:"}),u.createElement(o,h({},d("cardname",{rules:[{required:!0,message:"请填入评分卡",type:"string"}]}),{placeholder:"请选择评分卡"}),this.state.cardName))):null,u.createElement(l,{span:"12",className:"col_h"},u.createElement(v,h({labelCol:{span:6},wrapperCol:{span:14}},{label:"因子分值："}),u.createElement(e,h({},d("factorScore"),{style:{width:"253px"},disabled:!0,onBlur:this.handleFactorScoreBlur}))))),u.createElement("div",null,u.createElement("p",{style:{width:"100%",borderBottom:"1px solid #d9d9d9",marginBottom:"15px"}}),u.createElement(n,null,u.createElement(l,{span:"3",className:"col_h"}),u.createElement(l,{span:"5",className:"col_h"},u.createElement(v,h({labelCol:{span:8},wrapperCol:{span:0}},{label:"表达式："}))),u.createElement(l,{span:"5",className:"col_h"},u.createElement(v,h({labelCol:{span:2},wrapperCol:{span:0}},{label:"值："}))),u.createElement(l,{span:"5",className:"col_h"},u.createElement(v,h({labelCol:{span:6},wrapperCol:{span:0}},{label:"分值："})))),this.state.itemOne?u.createElement(n,null,u.createElement(l,{span:"3",className:"col_h"}),"20"==this.state.nnid?u.createElement(l,{span:"5",className:"col_h"},u.createElement(v,b,u.createElement(o,h({style:{width:"100%"},placeholder:"请选择因子参数描述",disabled:m.canEdit},d("01formula",{initialValue:this.formData?this.formData["0formula"]:"",rules:[{required:!0,message:"必填"}]})),u.createElement(g,{value:">"},">"),u.createElement(g,{value:"<"},"<"),u.createElement(g,{value:"="},"="),u.createElement(g,{value:">="},">="),u.createElement(g,{value:"<="},"<="),u.createElement(g,{value:"!="},"!="),u.createElement(g,{value:"<and<"},"<and<"),u.createElement(g,{value:"<=and<"},"<=and<"),u.createElement(g,{value:"<=and<="},"<=and<="),u.createElement(g,{value:"<and<="},"<and<="),u.createElement(g,{value:"include"},"包含"),u.createElement(g,{value:"exclude"},"不包含")))):u.createElement(l,{span:"5",className:"col_h"},u.createElement(v,b,u.createElement(i,h({},d("0formula",{initialValue:this.formData?this.formData["0formula"]:"",rules:[{required:!0,message:"必填"}]}),{type:"text",autoComplete:"off",placeholder:"请输入因子参数描述",disabled:m.canEdit})))),u.createElement(l,{span:"5",className:"col_h"},u.createElement(v,b,u.createElement(i,h({},d("0cvalue",{initialValue:this.formData?this.formData["0cvalue"]:"",rules:[{required:!0,message:"必填"}]}),{type:"text",autoComplete:"off",placeholder:"请输入因子参数数值",disabled:m.canEdit})))),u.createElement(l,{span:"5",className:"col_h"},u.createElement(v,b,u.createElement(i,h({},d("0paramScore",{initialValue:this.formData?this.formData["0paramScore"]:"",rules:[{required:!0,message:"必填"},{validator:this.checkFactorScore}]}),{type:"text",autoComplete:"off",placeholder:"分值"})))),u.createElement(i,h({},d("0id",{initialValue:0}),{type:"hidden"})),u.createElement(i,h({},d("0paramName",{initialValue:this.state.factorNameTxt}),{type:"hidden"})),u.createElement(i,h({},d("0factorId",{initialValue:0}),{type:"hidden"})),u.createElement(i,h({},d("0factorName",{initialValue:this.state.factorNameTxt}),{type:"hidden"})),u.createElement(l,{span:"2"},u.createElement(r,{className:"ant-btn",icon:"plus",onClick:this.add}),this.state.keys.length>0?u.createElement(r,{className:"ant-btn",shape:"circle",icon:"minus",style:{marginLeft:"10px"},onClick:this.removeFirst}):null)):null,u.createElement("span",{style:{color:"#2db7f5",position:"absolute",right:"89px",top:"231px",cursor:"pointer"},onClick:this.showModal.bind(this,"因子参数描述区间值填写示例",!1)},"填写示例"),this.state.keys.length?E:null)),u.createElement(p,{ref:"DemoModal",visible:f.visible,title:f.title,hideModal:this.hideModal}))}}));return y=f()(y)}.apply(t,n))&&(e.exports=r)},1262:function(e,t,a){var n,r;n=[a(905),a(300),a(2)],void 0!==(r=function(e,t,n){var r=(t.confirm,a(210));return n.createClass({displayName:"ScorefactorList",getInitialState:function(){return{selectedRowKeys:[],loading:!1,data:[],pagination:{pageSize:10,current:1},canEdit:!0,visible:!1,rowRecord:[]}},componentWillReceiveProps:function(e,t){var a={};a={id:JSON.parse(localStorage.record).id};var n=r({},{pageSize:2,current:1},{search:JSON.stringify(a)});this.fetch(n)},componentDidMount:function(){var e=JSON.parse(localStorage.record),t={};t={id:e.id};var a=r({},{pageSize:2,current:1},{search:JSON.stringify(t)});this.fetch(a)},fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=JSON.parse(localStorage.record);this.setState({loading:!0}),a&&Utils.ajaxData({url:"/modules/manage/cr/factor/page.htm",data:t,callback:function(a){var n=e.state.pagination;n.current=t.current,n.pageSize=t.pageSize,n.total=a.page.total,n.current||(n.current=1),e.setState({loading:!1,data:a.data,pagination:n})}})},showModal:function(e,t,a){var n=this;Utils.getData({url:"/modules/manage/rule/getRuleConfig.htm",data:{id:t.id},callback:function(t){var r=t.data;n.refs.SetScorParams.setFieldsValue(r.rule),n.setState({visible:!0,title:e,canEdit:a,ruleData:r})}})},hideModal:function(){this.setState({visible:!1,visibleProjName:!1,selectedIndex:"",selectedRowKeys:[]}),this.refreshList()},rowKey:function(e){return e.id},onSelectChange:function(e){this.setState({selectedRowKeys:e})},handleTableChange:function(e,t,a){var n=this.state.pagination;n.current=e.current,this.setState({pagination:n}),this.refreshList()},onRowClick:function(e){this.setState({selectedRowKeys:[e.id],selectedrecord:e})},goNextTab:function(){this.props.setTabClick("3")},refreshList:function(){var e=this.state.pagination,t=JSON.parse(localStorage.record),a={};a={id:t.id};var n=r({},this.props.params,{current:e.current,pageSize:e.pageSize,search:JSON.stringify(a)});this.fetch(n)},showModalProjName:function(e,t){this.setState({visibleProjName:!0,title:e,record:t})},changeStaus:function(e,a){var n=this;if("删除"!=e){var r={id:a.id};r.state="禁用"==e?20:10,Utils.getData({url:"/modules/manage/cr/factorParam/updateState.htm",data:r,callback:function(e){e.code;200==e.code?(t.success({title:e.msg}),n.refreshList()):t.error({title:e.msg})}})}},changeStausZong:function(e,a){var n=this,r={id:a.id};r.state="禁用"==e?20:10,Utils.getData({url:" /modules/manage/cr/factor/updateState.htm",data:r,callback:function(e){e.code;200==e.code?(t.success({title:e.msg}),n.refreshList()):t.error({title:e.msg})}})},render:function(){var t=this.state,a=(t.loading,t.selectedRowKeys),r={selectedRowKeys:a
},i=this,l=this.state;a.length>0&&a.indexOf("0");var s=[{title:"评分因子",dataIndex:"factorName"},{title:"值",dataIndex:"cvalue"},{title:"表达式",dataIndex:"formula"},{title:"分值",dataIndex:"paramScore"},{title:"设置评分参数",dataIndex:"paramScore",render:function(e,t){return n.createElement("div",null,n.createElement("a",{onClick:i.showModal.bind(i,"添加评分因子",t,!1)},"编辑"))}},{title:"操作",key:"operation",render:function(e,t){return t.cardId?n.createElement("div",null,"10"==t.state?n.createElement("a",{onClick:i.changeStausZong.bind(i,"禁用",t)},"禁用z"):n.createElement("a",{onClick:i.changeStausZong.bind(i,"启用",t)},"启用z")):n.createElement("div",null,"10"==t.state?n.createElement("a",{onClick:i.changeStaus.bind(i,"禁用",t)},"禁用"):n.createElement("a",{onClick:i.changeStaus.bind(i,"启用",t)},"启用"))}}];return n.createElement("div",{className:"block-panel"},n.createElement(e,{columns:s,rowKey:this.rowKey,dataSource:this.state.data,rowSelection:r,pagination:this.state.pagination,onChange:this.handleTableChange,loading:this.state.loading}),n.createElement(SetScorParams,{ref:"SetScorParams",visible:l.visible,ruleData:l.ruleData,fetch:i.fetch,canEdit:l.canEdit,title:l.title,hideModal:i.hideModal,record:l.record}))}})}.apply(t,n))&&(e.exports=r)},1263:function(e,t,a){var n,r;n=[a(324),a(336),a(339),a(363),a(2)],void 0!==(r=function(e,t,a,n,r){var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=n.create,s=n.Item,o=a.Option,c=r.createClass({displayName:"SeachForm",getInitialState:function(){return{roleList:[]}},handleQuery:function(){var e=this.props.form.getFieldsValue();this.props.passParams({search:JSON.stringify(e),pageSize:10,current:1})},handleReset:function(){this.props.form.resetFields()},render:function(){var l=this.props.form.getFieldProps;return r.createElement(n,{inline:!0},r.createElement(s,{label:"名称:"},r.createElement(t,l("cardName",{initialValue:""}))),r.createElement(s,{label:"状态:"},r.createElement(a,i({style:{width:100}},l("state",{initialValue:""})),r.createElement(o,{value:""},"全部"),r.createElement(o,{value:"10"},"启用"),r.createElement(o,{value:"20"},"禁用"))),r.createElement(s,null,r.createElement(e,{type:"primary",onClick:this.handleQuery},"查询")),r.createElement(s,null,r.createElement(e,{type:"reset",onClick:this.handleReset},"重置")))}});return c=l()(c)}.apply(t,n))&&(e.exports=r)},1264:function(e,t,a){var n,r;n=[a(2),a(1265)],void 0!==(r=function(e,t){return e.createClass({displayName:"LineTypeManage",getInitialState:function(){return{params:{pageSize:10,current:1}}},passParams:function(e){this.setState({params:e})},render:function(){return e.createElement("div",null,e.createElement(t,{params:this.state.params}))}})}.apply(t,n))&&(e.exports=r)},1265:function(e,t,a){var n,r;n=[a(905),a(300),a(2),a(1266)],void 0!==(r=function(e,t,n,r){var i=(t.confirm,a(210));return n.createClass({displayName:"List",getInitialState:function(){return{selectedRowKeys:[],loading:!1,data:[],pagination:{},canEdit:!0,visible:!1,record:"",dataRecord:"",dataEdit:"",dataName:[],title:"",defaultTitle:"",borrowIdDefList:[],checkDefault:[],rankArray:[],rankmateArray:[],borrowIdAddList:[]}},componentWillReceiveProps:function(e,t){this.clearSelectedList(),this.fetch(e.params)},hideModal:function(){this.setState({visible:!1,visibleDetails:!1,title:"",dataName:[],dataRecord:"",dataEdit:"",record:"",defaultTitle:"",borrowIdDefList:[],checkDefault:[],rankArray:[],rankmateArray:[],borrowIdAddList:[]}),this.refreshList()},showModal:function(e,t,a){var r=this,i={id:t.id},l="新增额度类型"==e?{code:"CREDIT_TYPE"}:{code:"CREDIT_TYPE",id:t.creditTypeId},s="新增额度类型"==e?"/modules/manage/system/dict/listByTypeCode.htm":"/modules/manage/system/dict/listUpdateCode.htm";Utils.ajaxData({url:s,data:l,callback:function(e){var t=e.data,a=[],i=[];t.forEach(function(e){return a.push(n.createElement(Option,{key:e.id,value:e.id},e.itemValue)),a}),t.forEach(function(e){i.push({id:e.id,itemValue:e.itemValue})}),r.setState({rankArray:a,rankmateArray:i})}}),Utils.ajaxData({url:"/modules/manage/cr/creditType/findUnUsedBorrowType.htm",method:"post",callback:function(e){var t=[],a=r.state.defaultTitle;e.data.map(function(e){return t.push({id:Number(e.id),borrowId:e.itemValue,title:a}),t}),r.setState({borrowIdAddList:t})}}),this.setState({canEdit:a,visible:!0,title:e,record:t},function(){"编辑"!=e&&"查看"!=e||(Utils.ajaxData({url:"/modules/manage/cr/creditType/findDetail.htm",data:i,callback:function(e){e.data.cardId=Number(e.data.cardId),e.data.rankId=Number(e.data.rankId),e.data.creditTypeId=Number(e.data.creditTypeId),e.data.itemValue=e.data.name,e.data.borrowTypeId=e.data.borrowTypeId.split(","),e.data.borrowTypeName=e.data.borrowTypeName.split(","),r.refs.AddWin.setFieldsValue(e.data);var t=[];r.setState({dataRecord:e.data,dataName:t})}}),Utils.ajaxData({url:"/modules/manage/cr/creditType/editBorrowType.htm",data:i,callback:function(t){var a=e,n=[],i=[],l=[];t.data.map(function(t){return"查看"==e?""!=t.type&&l.push({id:Number(t.borrowTypeId),borrowId:t.borrowTypeName,title:a,type:t.type}):l.push({id:Number(t.borrowTypeId),borrowId:t.borrowTypeName,title:a,type:t.type}),l}),t.data.map(function(e){return n.push(Number(e.borrowTypeId)),n}),t.data.map(function(e){return""!=e.type&&i.push(Number(e.borrowTypeId)),i}),r.setState({dataEdit:l,defaultTitle:a,checkDefault:i})}}))})},rowKey:function(e){return e.id},fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState({loading:!0}),Utils.ajaxData({url:"/modules/manage/cr/creditType/creditTypeList.htm",data:t,callback:function(t){e.setState({loading:!1,data:t.data})}})},clearSelectedList:function(){this.setState({selectedRowKeys:[]})},refreshList:function(){var e=(this.state.pagination,i({},this.props.params));this.fetch(e)},componentDidMount:function(){this.fetch()},onRowClick:function(e){var t=e.id;this.setState({selectedRowKeys:[t],record:e})},render:function(){var t=this,a=this.state,i=(a.loading,a.selectedRowKeys),l=(i.length,[{title:"额度类型名称",dataIndex:"name"},{title:"关联评分卡",dataIndex:"cardName"},{title:"关联额度等级",dataIndex:"rankName"},{title:"关联借款类型",dataIndex:"borrowTypeName"},{title:"操作",width:100,dataIndex:"",render:function(e,a){return n.createElement("div",{style:{textAlign:"left"}},n.createElement("a",{href:"#",onClick:t.showModal.bind(t,"编辑",a,!0)},"编辑"),n.createElement("span",{className:"ant-divider"}),n.createElement("a",{href:"#",onClick:t.showModal.bind(t,"查看",a,!1)},"查看"))}}]),s=this.state,o=s.record;return n.createElement("div",{className:"block-panel"},n.createElement("div",{className:"actionBtns",style:{marginBottom:16}},n.createElement("button",{className:"ant-btn",onClick:this.showModal.bind(this,"新增额度类型",o,!0)},"新增额度类型")),n.createElement(e,{columns:l,rowKey:this.rowKey,size:"middle",onRowClick:this.onRowClick,dataSource:this.state.data,pagination:this.state.pagination,loading:this.state.loading,onChange:this.handleTableChange}),n.createElement(r,{ref:"AddWin",visible:s.visible,title:s.title,hideModal:t.hideModal,record:s.record,canEdit:s.canEdit,dataRecord:s.dataRecord,rankArray:s.rankArray,borrowIdAddList:s.borrowIdAddList,rankmateArray:s.rankmateArray,checkDefault:s.checkDefault,dataEdit:s.dataEdit,defaultTitle:s.defaultTitle,dataName:s.dataName}))}})}.apply(t,n))&&(e.exports=r)},1266:function(e,t,a){var n,r;n=[a(905),a(331),a(335),a(336),a(324),a(300),a(339),a(363),a(2)],void 0!==(r=function(e,t,n,r,i,l,s,o,c){var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=o.create,p=o.Item,m=s.Option,h=(a(210),c.createClass({displayName:"AddWin",getInitialState:function(){return{status:{},loading:!1,formData:{},record:"",tableNameList:"",tableCommentList:"",borrowIdList:"",borrowIdAddList:"",rankIdList:"",data:"",dataArray:[],tableName:"",canEdit:!0,dataRecord:"",dataEdit:"",dataName:[],values:"",selectedRowKeys:[],defaultTitle:"",borrowIdDefList:[],rankArray:[],rankmateArray:[],checkDefault:[]}},handleCancel:function(){this.props.form.resetFields(),this.props.hideModal(),this.setState({tableName:"",canEdit:!0,dataRecord:"",dataEdit:"",dataName:[],defaultTitle:"",selectedRowKeys:[],borrowIdDefList:[],checkDefault:[],rankArray:[],rankmateArray:[]})},componentWillReceiveProps:function(e,t){if(this.setState({rankArray:e.rankArray,rankmateArray:e.rankmateArray}),"编辑"==e.title||"查看"==e.title){var a=[];this.setState({dataRecord:e.dataRecord,dataName:e.dataName,dataEdit:e.dataEdit,dataArray:a,defaultTitle:e.defaultTitle,selectedRowKeys:e.checkDefault,borrowIdAddList:e.borrowIdAddList})}},handleOk:function(){var e=this,t=(this.props.form.validateFields,this.state.selectedRowKeys.join(","));this.props.form.validateFields(function(a,n){var r=n;if(e.state.rankmateArray.forEach(function(e){e.id==n.creditTypeId&&(r.name=e.itemValue)}),!a){if("新增额度类型"==e.props.title){var i="/modules/manage/cr/creditType/saveCreditType.htm";r.borrowTypeId=t}if("编辑"==e.props.title){var i=(e.props.form.getFieldsValue(),"/modules/manage/cr/creditType/updateCreditType.htm");r.borrowTypeId=t}Utils.ajaxData({url:i,data:r,callback:function(t){"200"==t.code?l.success({title:t.msg,onOk:function(){e.handleCancel()}}):l.error({title:t.msg,onOk:function(){e.handleCancel()}})}})}})},componentDidMount:function(){var e=this;Utils.ajaxData({url:"/modules/manage/cr/card/findAll.htm",callback:function(t){var a=[];t.data.map(function(e){return a.push(c.createElement(m,{key:e.id,value:e.id},e.cardName)),a}),e.setState({tableCommentList:a,data:t.data})}}),Utils.ajaxData({url:"/modules/manage/cr/rank/findAll.htm",callback:function(t){var a=[];t.data.map(function(e){return a.push(c.createElement(m,{key:e.id,value:e.id},e.rankName)),a}),e.setState({rankIdList:a})}}),Utils.ajaxData({url:"/modules/manage/cr/creditType/editBorrowType.htm",data:{id:this.state.dataRecord.id},callback:function(t){var a=[],n=e.state.defaultTitle;t.data.map(function(e){return a.push({id:Number(e.borrowTypeId),borrowId:e.borrowTypeName,title:n}),a}),e.setState({borrowIdList:a})}})},rowKey:function(e){return e.id},onRowClick:function(e){var t=e.id,a=this.state.selectedRowKeys;a.indexOf(t)<0?a.push(t):a.remove(t),this.setState({selectedRowKeys:a})},onSelectAll:function(e,t,a,n){e?this.setState({selectedRowKeys:t}):this.setState({selectedRowKeys:[]})},render:function(){var a=this.props.form.getFieldProps,u=this.props,m=this.state,h=[c.createElement(i,{key:"back",className:"ant-btn",onClick:this.handleCancel},"返 回"),c.createElement(i,{key:"button",className:"ant-btn ant-btn-primary",loading:m.loading,onClick:this.handleOk},"提 交")],f=[c.createElement(i,{key:"back",className:"ant-btn",onClick:this.handleCancel},"返 回")],v={labelCol:{span:4},wrapperCol:{span:20}},g=(this.state.data,this.state),y=(g.loading,g.selectedRowKeys),b={type:"查看"==u.title?"":"checkbox",selectedRowKeys:y,onSelectAll:this.onSelectAll},E=(y.length,[{title:"借款类型",dataIndex:"borrowId"}]);return c.createElement(l,{title:u.title,visible:u.visible,onCancel:this.handleCancel,width:"800",footer:"查看"==u.title?f:h,maskClosable:!1},c.createElement("div",{style:{position:"relative"}},c.createElement(o,{horizontal:!0,form:this.props.form,style:{marginTop:"20px"}},c.createElement(r,d({},a("id",{initialValue:this.state.dataRecord.id}),{type:"hidden"})),c.createElement(t,null,c.createElement(n,{span:"18"},c.createElement(p,d({},v,{label:"额度类型名称:"}),(this.props.title,c.createElement("div",null,c.createElement(s,d({disabled:!u.canEdit,onSelect:this.select},a("creditTypeId")),this.state.rankArray)))))),c.createElement(t,null,c.createElement(n,{span:"18"},c.createElement(p,d({},v,{label:"关联评分卡:"}),c.createElement(s,d({disabled:!u.canEdit,onSelect:this.select},a("cardId")),this.state.tableCommentList)))),c.createElement(t,null,c.createElement(n,{span:"18"},c.createElement(p,d({},v,{label:"关联额度等级:"}),c.createElement(s,d({disabled:!u.canEdit,onSelect:this.select},a("rankId")),this.state.rankIdList)))),c.createElement(t,null,c.createElement(n,{span:"18"},c.createElement(p,d({},v,{label:"关联借款类型:"}),c.createElement(e,{columns:E,rowKey:this.rowKey,size:"middle",rowSelection:b,onRowClick:this.onRowClick,dataSource:"新增额度类型"==u.title?this.props.borrowIdAddList:this.state.dataEdit,loading:this.state.loading,onChange:this.handleTableChange})))))))}}));return h=u()(h)}.apply(t,n))&&(e.exports=r)},1267:function(e,t,a){var n,r;n=[a(2),a(1268),a(1271)],void 0!==(r=function(e,t,a){return e.createClass({displayName:"BorrowingRulesManagement",getInitialState:function(){return{params:{pageSize:10,current:1}}},passParams:function(e){this.setState({params:e})},render:function(){return e.createElement("div",null,e.createElement("div",{className:"block-panel"},e.createElement(a,{passParams:this.passParams})),e.createElement(t,{params:this.state.params}))}})}.apply(t,n))&&(e.exports=r)},1268:function(e,t,a){var n,r;n=[a(905),a(300),a(2),a(1269),a(1270)],void 0!==(r=function(e,t,n,r,i){var l=t.confirm,s=a(210);return n.createClass({displayName:"List",getInitialState:function(){return{selectedRowKeys:[],loading:!1,data:[],pagination:{},canEdit:!0,visible:!1,visibleAdd:!1}},componentWillReceiveProps:function(e,t){this.clearSelectedList(),this.fetch(e.params)},hideModal:function(){this.setState({visible:!1,visibleAdd:!1}),this.refreshList()},showModal:function(e,t,a){var t=t,e=e,a=a;this.setState({canEdit:a,visible:!0,title:e,record:t})},addModal:function(e,t,a){var t=t;this.setState({canEdit:a,visibleAdd:!0,title:e,record:t})},rowKey:function(e){return e.id},handleTableChange:function(e,t,a){var n=this.state.pagination;n.current=e.current,this.setState({pagination:n}),this.refreshList()},fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.setState({loading:!0}),!t.pageSize){var t={};t={pageSize:10,current:1}}Utils.ajaxData({url:"/modules/manage/borrow/borrowRuleEngine/page.htm",data:t,callback:function(a){var n=e.state.pagination;n.current=t.current,n.pageSize=t.pageSize,n.total=a.page.total,n.current&&1!=a.page.current?n.current=a.page.current:n.current=1;for(var r=0;r<a.data.length;r++)a.data[r].ruleName=2;e.setState({loading:!1,data:a.data,pagination:n})}})},clearSelectedList:function(){this.setState({selectedRowKeys:[]})},delete:function(e){var a=this;l({title:"是否确认要删除这项内容",onOk:function(){Utils.ajaxData({url:"/modules/manage/borrow/borrowRuleEngine/delete.htm",data:{id:e.id},method:"post",callback:function(e){t.success({title:e.msg}),a.refreshList()}})}})},refreshList:function(){var e=this.state.pagination,t=s({},this.props.params,{current:e.current,pageSize:e.pageSize});this.fetch(t)},componentDidMount:function(){this.fetch()},onRowClick:function(e){this.setState({selectedRowKeys:[e.id],selectedrecord:e})},render:function(){var t=this,a=this.state,l=(a.loading,a.selectedRowKeys),s=(l.length,[{title:"借款类型",dataIndex:"borrowTypeName"},{title:"适用场景",dataIndex:"adaptedName"},{title:"规则数目",dataIndex:"ruleCount"},{title:"操作",dataIndex:"",render:function(e,a){return n.createElement("div",null,n.createElement("a",{href:"#",onClick:t.showModal.bind(t,"查看",a,!1)},"查看规则树 ")," ",n.createElement("span",{className:"ant-divider"})," ",n.createElement("a",{href:"#",onClick:t.showModal.bind(t,"编辑",a,!0)},"编辑规则树 ")," ",n.createElement("span",{className:"ant-divider"})," ",n.createElement("a",{href:"#",onClick:t.delete.bind(t,a)},"删除 "))}}]),o=this.state;return n.createElement("div",{className:"block-panel"},n.createElement("div",{className:"actionBtns",style:{marginBottom:16}},n.createElement("button",{className:"ant-btn",onClick:this.addModal.bind(this,"新增",null,!0)},"新增")),n.createElement(e,{columns:s,rowKey:this.rowKey,onRowClick:this.onRowClick,params:this.props.params,dataSource:this.state.data,pagination:this.state.pagination,loading:this.state.loading,onChange:this.handleTableChange}),n.createElement(r,{ref:"AddBorrowingRules",visible:o.visible,title:o.title,hideModal:t.hideModal,record:o.record,canEdit:o.canEdit}),n.createElement(i,{ref:"AddWin",visible:o.visibleAdd,title:o.title,hideModal:t.hideModal,record:o.selectedrecord,canEdit:o.canEdit}))}})}.apply(t,n))&&(e.exports=r)},1269:function(e,t,a){var n,r;n=[a(324),a(331),a(336),a(335),a(300),a(339),a(363),a(913),a(2)],void 0!==(r=function(e,t,a,n,r,i,l,s,o){var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=(s.Group,l.create),u=l.Item,p=i.Option,m=o.createClass({displayName:"AddBorrowingRules",getInitialState:function(){return{keys:[0],selectVlaue:1,num:1,canSee:[!1],Id:[]}},handleCancel:function(){this.props.hideModal(),this.setState({keys:[0],canSee:[!1],selectVlaue:1,Id:[]}),this.formData={},this.state.num=1,this.props.form.resetFields()},handleOk:function(e){e.preventDefault();var t=this,a=t.props,n=t.state,i=this.props.form,l=(i.getFieldProps,i.getFieldValue);a.record,a.title;this.props.form.validateFields(function(e,a){if(!e){var i=a,s={},o=[],c={};s.id=i.id,s.borrowType=i.borrowType,s.adaptedId=i.adaptedId;var d=void 0;l("keys").forEach(function(e){var t=e,a={rule:{},configList:[]};a.rule.ruleId=i[t+"ruleId"],a.rule.ruleSort=i[t+"ruleSort"];for(var r=0;r<n.data.rules.length;r++)n.data.rules[r].rule.id==i[t+"ruleId"]&&(d=r);n.data.rules[d].configList.forEach(function(e,t){null!=i[d+(t+"configId")]&&void 0!=i[d+(t+"configId")]&&""!=i[d+(t+"configId")]&&a.configList.push({id:i[d+(t+"id")],configId:i[d+(t+"configId")],configSort:i[d+(t+"configSort")]})}),o.push(a)}),s.ruleConfigList=o,c={id:s.id,borrowType:s.borrowType,adaptedId:s.adaptedId,ruleConfigList:JSON.stringify(s.ruleConfigList)},Utils.ajaxData({url:"/modules/manage/borrow/borrowRuleEngine/updateRuleConfig.htm",data:c,method:"post",callback:function(e){console.log(1111),200==e.code&&t.handleCancel();var a=200==e.code?"success":"warning";r[a]({title:e.msg})}})}})},remove:function(e){var t=this.props.form,a=t.getFieldValue("keys");a=a.filter(function(t){return t!==e}),this.state.keys=a,t.setFieldsValue({keys:a})},add:function(){var e=this.props.form,t=e.getFieldValue("keys");this.state.canSee.push(!1),t=t.concat(this.state.selectVlaue++),this.state.keys=t,e.setFieldsValue({keys:t})},formData:{},transformeData:function(e){var t={},a=[],n=[],r=[];return e.forEach(function(e,i){var l=i;a.push(l),n.push(!0),r.push(e.rule.ruleId),t[l+"ruleId"]=e.rule.ruleId,t[l+"ruleSort"]=e.rule.ruleSort,t[l+"children"]=e.configList}),t.keys=a,t.canSee=n,t.Id=r,t},fetch:function(e){var t=this;Utils.ajaxData({url:"/modules/manage/borrow/borrowRuleEngine/detail.htm",data:{id:e.id},callback:function(e){var a=e.data.borrowRuleConfig,n=e.data.borrowRule;t.formData=t.transformeData(a),t.props.form.setFieldsValue({keys:t.formData.keys}),t.setState({selectVlaue:t.formData.keys.length,keys:t.formData.keys,canSee:t.formData.canSee,data2:n,Id:t.formData.Id})}})},componentWillReceiveProps:function(e){e.visible&&1==this.state.num&&(this.setState({num:2,record:e.record}),this.fetch(e.record))},componentDidMount:function(){var e=this;Utils.ajaxData({url:"/modules/manage/borrow/borrowRuleEngine/findRuleList.htm",callback:function(t){200==t.code&&e.setState({data:t.data})}})},change:function(e,t){for(var a=this.state.data,n=0;n<a.rules.length;n++)if(a.rules[n].rule.id==t){var r=this.state.canSee,i=this.state.Id;i[e]=t,r[e]=!0,this.setState({canSee:r,Id:i})}},getRuleConfig:function(e){var r=this,i=this.props.form.getFieldProps,l=[],s=this.props,d={labelCol:{span:8},wrapperCol:{span:15}},p=void 0,m=[],h=[];if(this.state.data)for(var f=0;f<this.state.data.rules.length;f++)this.state.data.rules[f].rule.id==this.state.Id[e]&&(p=f);return this.formData[e+"ruleId"]&&this.formData[e+"ruleId"]==this.state.Id[e]&&this.formData[e+"children"].forEach(function(e){m.push(e.configSort),h.push(e.id)}),(null!=p&&void 0!=p&&""!=p||0==p)&&this.state.data.rules[p].configList.map(function(e,f){var v=f;l.push(o.createElement(t,{key:p+""+v},o.createElement(n,{span:"11"},o.createElement(u,c({},d,{label:"规则配置:"}),e.tableComment+"/"+e.columnComment+e.formula+e.cvalue)),o.createElement(n,{span:"13"},o.createElement(u,c({},d,{label:"执行优先级:"}),o.createElement(a,c({type:"number",style:{width:100},disabled:!s.canEdit},i(""+p+v+"configSort",{onChange:r.changeInt,getValueFromEvent:r.changeNUm,initialValue:m[0]?Number(m[v]):0,rules:[{type:"number",max:2147483647,message:"输入过多"}]}))))),o.createElement(a,c({type:"hidden"},i(""+p+v+"id",{initialValue:h[0]?h[v]:"0"}))),o.createElement(a,c({type:"hidden"},i(""+p+v+"configId",{initialValue:e.id?e.id:""})))))}),l},changeInt:function(e){return parseInt(e.target.value)},changeNUm:function(e){return parseInt(e.target.value)},render:function(){var s=this,d=this.props.form,m=d.getFieldProps,h=d.getFieldValue;m("keys",{initialValue:[0]});var f=this,v=this.props,g=this.state,y=[o.createElement("button",{key:"back",className:"ant-btn",onClick:this.handleCancel},"返 回"),o.createElement("button",{key:"button",className:"ant-btn ant-btn-primary",onClick:this.handleOk},"保存")],b=[o.createElement("button",{key:"back",className:"ant-btn",onClick:this.handleCancel},"返 回")],E=[];g.data&&g.data.rules.forEach(function(e,t){E.push(o.createElement(p,{key:e.rule.name,value:e.rule.id},e.rule.name))});var S=h("keys").map(function(r){return o.createElement("div",{key:r},o.createElement(t,null,o.createElement(n,{span:"11",className:"col_h"},o.createElement(u,c({labelCol:{span:5},wrapperCol:{span:18}},{label:"选择规则:"}),o.createElement(i,c({disabled:!v.canEdit,style:{width:"200px"}},m(r+"ruleId",{initialValue:s.formData&&s.formData[r+"ruleId"]?s.formData[r+"ruleId"]:"",onChange:f.change.bind(f,r),rules:[{required:!0,message:"必选"}]})),E))),o.createElement(n,{span:"11",className:"col_h"},o.createElement(u,c({labelCol:{span:10},wrapperCol:{span:14}},{label:"执行优先级:"}),o.createElement(a,c({type:"number",style:{width:100},disabled:!v.canEdit},m(r+"ruleSort",{onChange:s.changeInt,getValueFromEvent:s.changeNUm,initialValue:s.formData&&s.formData[r+"ruleSort"]?Number(s.formData[r+"ruleSort"]):0,rules:[{type:"number",max:2147483647,message:"输入过多"}]}))))),"编辑"==v.title?o.createElement(n,{span:"2"},o.createElement(e,{className:"ant-btn",icon:"plus",onClick:s.add}),1==g.keys.length?"":o.createElement(e,{className:"ant-btn",shape:"circle",icon:"minus",onClick:s.remove.bind(s,r)})):o.createElement(n,{span:"2"})),o.createElement("div",{style:{display:g.canSee[r]?"block":"none",marginLeft:"30px"}},s.getRuleConfig(r)))});return o.createElement(r,{maskClosable:!1,title:v.title,visible:v.visible,onCancel:this.handleCancel,width:1200,footer:"编辑"==v.title?y:b},o.createElement(l,{horizontal:!0,form:this.props.form},o.createElement(a,c({type:"hidden"},m("id",{initialValue:g.data2?g.data2.id:""}))),o.createElement(a,c({type:"hidden"},m("borrowType",{initialValue:g.data2?g.data2.borrowType:""}))),o.createElement(a,c({type:"hidden"},m("adaptedId",{initialValue:g.data2?g.data2.adaptedId:""}))),o.createElement(t,null,o.createElement(n,{span:"11",className:"col_h"},o.createElement(u,c({labelCol:{span:8},wrapperCol:{span:16}},{label:"借款类型:"}),g.data2?g.data2.borrowTypeName:"")),o.createElement(n,{span:"11",className:"col_h"},o.createElement(u,c({labelCol:{span:8},wrapperCol:{span:16}},{label:"规则适用场景:"}),g.data2?g.data2.adaptedName:""))),S))}});return m=d()(m)}.apply(t,n))&&(e.exports=r)},1270:function(e,t,a){var n,r;n=[a(324),a(331),a(336),a(335),a(300),a(339),a(363),a(913),a(2)],void 0!==(r=function(e,t,a,n,r,i,l,s,o){var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=(s.Group,l.create),u=l.Item,p=i.Option,m=o.createClass({displayName:"AddWin",getInitialState:function(){return{keys:[0],selectVlaue:1,keys2:[],num:1,canSee:[!1]}},handleCancel:function(){this.props.hideModal(),this.setState({keys:[0],canSee:[!1],keys2:[],selectVlaue:1}),this.state.num=1,this.props.form.resetFields()},handleOk:function(e){e.preventDefault();var t=this,a=t.props;a.record,a.title,this.state.tableInfo;this.props.form.validateFields(function(e,a){if(!e){var n=a,i={},l=[],s={};i.borrowType=n.borrowType,i.adaptedId=n.adaptedId,t.state.keys.forEach(function(e){var a=e,r=t.state.keys2[a],i={rule:{},configList:[]};i.rule.ruleId=n[a+"ruleId"],i.rule.ruleSort=n[a+"ruleSort"],t.state.data.rules[r].configList.map(function(e,t){null!=n[r+(t+"configId")]&&void 0!=n[r+(t+"configId")]&&""!=n[r+(t+"configId")]&&i.configList.push({configId:n[r+(t+"configId")],configSort:n[r+(t+"configSort")]})}),l.push(i)}),i.ruleConfigList=l,s={borrowType:i.borrowType,adaptedId:i.adaptedId,ruleConfigList:JSON.stringify(i.ruleConfigList)},Utils.ajaxData({url:"/modules/manage/borrow/borrowRuleEngine/updateRuleConfig.htm",data:s,method:"post",callback:function(e){200==e.code&&t.handleCancel();var a=200==e.code?"success":"warning";r[a]({title:e.msg})}})}})},remove:function(e){var t=(this.props.form,this.state.keys);t=t.filter(function(t){return t!==e}),this.setState({keys:t})},add:function(){var e=(this.props.form,this.state.keys);this.state.canSee.push(!1),e=e.concat(this.state.selectVlaue++),this.setState({keys:e})},componentDidMount:function(){var e=this;Utils.ajaxData({url:"/modules/manage/borrow/borrowRuleEngine/findRuleList.htm",callback:function(t){200==t.code&&e.setState({data:t.data})}})},change:function(e,t){var a=this;this.state.data.rules.map(function(n,r){var i=r;if(n.rule.id==t){var l=a.state.canSee,s=a.state.keys2;l[e]=!0,s[e]=i,a.setState({keys2:s,canSee:l})}})},getRuleConfig:function(e,r){var i=this,l=this.props.form.getFieldProps,s=[],d={labelCol:{span:8},wrapperCol:{span:15}},p=e.state;return p.data&&p.data.rules[r].configList.map(function(e,p){var m=p;s.push(o.createElement(t,{key:r+""+m},o.createElement(n,{span:"11"},o.createElement(u,c({},d,{label:"规则配置:"}),e.tableComment+"/"+e.columnComment+e.formula+e.cvalue)),o.createElement(n,{span:"13"},o.createElement(u,c({},d,{label:"执行优先级:"}),o.createElement(a,c({type:"number",style:{width:100}},l(""+r+m+"configSort",{onChange:i.changeInt,getValueFromEvent:i.changeNUm,initialValue:0,rules:[{type:"number",max:2147483647,message:"输入过多"}]}))))),o.createElement(a,c({type:"hidden"},l(""+r+m+"configId",{initialValue:e.id?e.id:""})))))}),s},changeInt:function(e){return parseInt(e.target.value)},changeNUm:function(e){return parseInt(e.target.value)},render:function(){var s=this,d=this.props.form,m=d.getFieldProps,h=d.getFieldValue;m("keys",{initialValue:[0]});var f=this,v=this.props,g=this.state,y=[o.createElement("button",{key:"back",className:"ant-btn",onClick:this.handleCancel},"返 回"),o.createElement("button",{key:"button",className:"ant-btn ant-btn-primary",onClick:this.handleOk},"提 交")],b=[];g.data&&g.data.borrows.forEach(function(e){b.push(o.createElement(p,{key:e.borrowTypeName,value:e.borrowType},e.borrowTypeName))});var E=[];g.data&&g.data.adaptedList.forEach(function(e,t){E.push(o.createElement(p,{key:e.adaptedName,value:e.adaptedId},e.adaptedName))});var S=[];g.data&&g.data.rules.forEach(function(e,t){S.push(o.createElement(p,{key:e.rule.name,value:e.rule.id},e.rule.name))});var k=h("keys").map(function(r){return o.createElement("div",{key:r},o.createElement(t,null,o.createElement(n,{span:"11",className:"col_h"},o.createElement(u,c({labelCol:{span:5},wrapperCol:{span:18}},{label:"选择规则:"}),o.createElement(i,c({style:{width:"200px"}},m(r+"ruleId",{onChange:f.change.bind(f,r),rules:[{required:!0,message:"必选"}]})),S))),o.createElement(n,{span:"11",className:"col_h"},o.createElement(u,c({labelCol:{span:10},wrapperCol:{span:14}},{label:"执行优先级:"}),o.createElement(a,c({type:"number",style:{width:100}},m(r+"ruleSort",{onChange:s.changeInt,getValueFromEvent:s.changeNUm,initialValue:0,rules:[{type:"number",max:2147483647,message:"输入过多"}]}))))),o.createElement(n,{span:"2"},o.createElement(e,{className:"ant-btn",icon:"plus",onClick:s.add}),1==g.keys.length?"":o.createElement(e,{className:"ant-btn",shape:"circle",icon:"minus",onClick:s.remove.bind(s,r)}))),o.createElement("div",{style:{display:g.canSee[r]?"block":"none",marginLeft:"30px"}},null!==g.keys2[r]&&void 0!==g.keys2[r]&&""!==g.keys2[r]?s.getRuleConfig(s,g.keys2[r]):""))});return o.createElement(r,{maskClosable:!1,title:v.title,visible:v.visible,onCancel:this.handleCancel,width:1200,footer:y},o.createElement(l,{horizontal:!0,form:this.props.form},o.createElement(t,null,o.createElement(n,{span:"11",className:"col_h"},o.createElement(u,c({labelCol:{span:8},wrapperCol:{span:16}},{label:"借款类型:"}),o.createElement(i,c({style:{width:"200px"}},m("borrowType",{rules:[{required:!0,message:"必选"}]})),b))),o.createElement(n,{span:"11",className:"col_h"},o.createElement(u,c({labelCol:{span:8},wrapperCol:{span:16}},{label:"规则适用场景:"}),o.createElement(i,c({style:{width:"200px"}},m("adaptedId",{rules:[{required:!0,message:"必选"}]})),o.createElement(p,{key:"10"},"贷前"))))),k))}});return m=d()(m)}.apply(t,n))&&(e.exports=r)},1271:function(e,t,a){var n,r;n=[a(324),a(336),a(339),a(363),a(2)],void 0!==(r=function(e,t,a,n,r){var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=n.create,s=n.Item,o=(a.Option,r.createClass({displayName:"SeachForm",getInitialState:function(){return{roleList:[]}},handleQuery:function(){var e=this.props.form.getFieldsValue();this.props.passParams({searchParams:JSON.stringify(e),pageSize:10,current:1})},handleReset:function(){this.props.form.resetFields(),this.props.passParams({pageSize:10,current:1})},render:function(){var a=this.props.form.getFieldProps;return r.createElement(n,{inline:!0},r.createElement(s,{label:"借款类型:"},r.createElement(t,i({type:"text"},a("borrowTypeName")))),r.createElement(s,{label:"适用场景:"},r.createElement(t,i({type:"text"},a("adaptedName")))),r.createElement(s,null,r.createElement(e,{type:"primary",onClick:this.handleQuery},"查询")),r.createElement(s,null,r.createElement(e,{type:"reset",onClick:this.handleReset},"重置")))}}));return o=l()(o)}.apply(t,n))&&(e.exports=r)},1272:function(e,t,a){var n,r;n=[a(2),a(1273),a(1284)],void 0!==(r=function(e,t,a){return e.createClass({displayName:"LoanList",getInitialState:function(){return{params:{}}},passParams:function(e){this.setState({params:e})},render:function(){return e.createElement("div",null,e.createElement("div",{className:"block-panel"},e.createElement(a,{passParams:this.passParams})),e.createElement(t,{params:this.state.params}))}})}.apply(t,n))&&(e.exports=r)},1273:function(e,t,a){var n,r;n=[a(905),a(300),a(2),a(1274),a(1283)],void 0!==(r=function(e,t,n,r,i){function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var s,o=(s={10:"待审核",20:"审核中",30:"通过",40:"已拒绝",50:"还款中",60:"还款完成"},l(s,"50","逾期"),l(s,"70","取消贷款"),a(210)),c=t.confirm;return n.createClass({displayName:"List",getInitialState:function(){return{selectedRowKeys:[],loading:!1,data:[],pagination:{pageSize:10,current:1},canEdit:!0,visible:!1,visible1:!1,visible2:!1,pictureData:[],creditReportData:[],rowRecord:[],record:"",visibleAdd:!1}},componentWillReceiveProps:function(e,t){this.fetch(e.params)},componentDidMount:function(){this.fetch()},fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.setState({loading:!0}),!t.pageSize){var t={};t={pageSize:10,current:1,searchParams:JSON.stringify({type:"repay"})}}t.searchParams||(t.searchParams=JSON.stringify({type:"repay"})),Utils.ajaxData({url:"/modules/manage/borrow/borrowRepayList.htm",method:"post",data:t,callback:function(a){var n=e.state.pagination;n.current=t.current,n.pageSize=t.pageSize,n.total=a.page.total,n.current||(n.current=1),e.setState({loading:!1,data:a.data,pagination:n})}})},check:function(e,t,a){var n=this,t=t,r=this;this.setState({visible1:!0,canEdit:a,rowRecord:t,title:e,CheckKeyModal:Date.now()},function(){Utils.ajaxData({
url:"/modules/manage/borrow/borrowRepayContent.htm",method:"post",data:{borrowId:t.id},callback:function(e){e.data&&n.setState({dataRecord:e.data})}}),Utils.ajaxData({url:"/modules/manage/cl/cluser/detail.htm",data:{userId:t.userId},callback:function(e){if(200==e.code){var t={};console.log(e.data.userbase.realName),t.realName=e.data.userbase.realName,t.sex=e.data.userbase.sex,t.idNo=e.data.userbase.idNo,t.age=e.data.userbase.age,t.cardNo=e.data.userbase.cardNo,t.bank=e.data.userbase.bank,t.bankPhone=e.data.userbase.bankPhone,t.phone=e.data.userbase.phone,t.liveAddr=e.data.userbase.liveAddr,t.registTime=e.data.userbase.registTime,t.registerAddr=e.data.userbase.registerAddr,t.registerClient=e.data.userbase.registerClient,t.education=e.data.userbase.education,t.companyName=e.data.userbase.companyName,t.companyPhone=e.data.userbase.companyPhone,t.salary=e.data.userbase.salary,t.workingYears=e.data.userbase.workingYears,t.companyAddr=e.data.userbase.companyAddr,t.taobao=null!=e.data.userOtherInfo?e.data.userOtherInfo.taobao:"",t.email=null!=e.data.userOtherInfo?e.data.userOtherInfo.email:"",t.qq=null!=e.data.userOtherInfo?e.data.userOtherInfo.qq:"",t.wechat=null!=e.data.userOtherInfo?e.data.userOtherInfo.wechat:"",t.registerCoordinate=e.data.userbase.registerCoordinate,r.setState({recordSoure:e.data,dataForm:t})}}})})},addModal:function(e,t,a){this.setState({visibleAdd:!0,title:e})},hideModal:function(){this.setState({visible:!1,visible1:!1,visible2:!1,selectedIndex:"",selectedRowKeys:[],visibleAdd:!1}),this.refreshList()},rowKey:function(e){return e.id},onSelectChange:function(e){this.setState({selectedRowKeys:e})},handleTableChange:function(e,t,a){var n=this.state.pagination;n.current=e.current,this.setState({pagination:n}),this.refreshList()},refreshList:function(){var e=this.state.pagination,t=o({},this.props.params,{current:e.current,pageSize:e.pageSize});this.fetch(t)},onRowClick:function(e){this.setState({selectedRowKeys:[e.id],selectedRow:e,rowRecord:e},function(){})},rowClassName:function(e){var t=this.state.selectedIndex;return e.id==t&&""!==t?"selectRow":""},onSelectAll:function(e,t,a,n){e?this.setState({selectedRowKeys:t}):this.setState({selectedRowKeys:[]})},again:function(e,a){var a=a,n=this;c({title:"你是否确定",onOk:function(){Utils.ajaxData({url:"/modules/manage/borrow/payAgain.htm",data:{borrowId:a.id},method:"post",callback:function(e){200==e.code?(t.success({title:e.msg}),n.refreshList()):t.error({title:e.msg})}})},onCancel:function(){}})},render:function(){var t=this.state,a=(t.loading,t.selectedRowKeys),l=(this.onSelectAll,this);a.length>0&&a.indexOf("0");var s=[{title:"真实姓名",dataIndex:"realName"},{title:"手机号码",dataIndex:"phone"},{title:"质押人银行卡号",dataIndex:"userBankCard"},{title:"订单号",dataIndex:"orderNo"},{title:"质押金额(元)",dataIndex:"amount"},{title:"质押期限(天)",dataIndex:"timeLimit"},{title:"订单生成时间",dataIndex:"createTime"},{title:"综合费用(元)",dataIndex:"fee"},{title:"实际到账金额(元)",dataIndex:"realAmount"},{title:"实际还款金额(元)",dataIndex:"repayAmount"},{title:"订单状态",dataIndex:"stateStr"},{title:"审核通过时间",dataIndex:"passTime"},{title:"操作",dataIndex:"",render:function(e,t){switch(t.stateStr){case"自动审核通过":case"人工复审通过":case"放款失败":return n.createElement("div",{style:{textAlign:"left"}},n.createElement("a",{href:"#",onClick:l.check.bind(l,"查看详情",t,!1)},"查看详情"),n.createElement("span",{className:"ant-divider"}),n.createElement("a",{href:"#",onClick:l.again.bind(l,"取消贷款",t)},"取消贷款"));case"虚拟币转账成功，待打款":return n.createElement("div",{style:{textAlign:"left"}},n.createElement("a",{href:"#",onClick:l.check.bind(l,"审核",t,!1)},"放款审核"));default:return n.createElement("div",{style:{textAlign:"left"}},n.createElement("a",{href:"#",onClick:l.check.bind(l,"查看详情",t,!1)},"查看详情"))}}}],o=this.state;return n.createElement("div",{className:"block-panel"},n.createElement(e,{columns:s,rowKey:this.rowKey,ref:"table",onRowClick:this.onRowClick,dataSource:this.state.data,rowClassName:this.rowClassName,pagination:this.state.pagination,onChange:this.handleTableChange}),n.createElement(r,{ref:"Check",key:o.CheckKeyModal,dataForm:o.dataForm,recordSoure:o.recordSoure,dataRecord:o.dataRecord,visible:o.visible1,title:o.title,hideModal:l.hideModal,record:o.rowRecord,canEdit:o.canEdit}),n.createElement(i,{ref:"AddWin",visible:o.visibleAdd,hideModal:l.hideModal,title:o.title}))}})}.apply(t,n))&&(e.exports=r)},1274:function(e,t,a){var n,r;n=[a(336),a(331),a(335),a(300),a(425),a(339),a(363),a(2),a(1275),a(1278),a(1279),a(1280),a(1281),a(1282)],void 0!==(r=function(e,t,a,n,r,i,l,s,o,c,d,u,p,m){var h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},f=l.create,v=l.Item,g=i.Option,y=r.TabPane,b=n.confirm,E=s.createClass({displayName:"Check",getInitialState:function(){return{checked:!0,disabled:!1,data:"",timeString:"",record:""}},handleCancel:function(){this.props.form.resetFields(),this.props.hideModal()},componentWillReceiveProps:function(e){e.visible&&this.setState({record:e.record})},onChange:function(e,t){this.setState({timeString:t})},handleOk:function(){var e=this,t=this.props.form.getFieldsValue(),a=this.state.record;console.log(t.serialNumber),this.props.form.validateFields(function(r,i){if(!r){b({title:"是否确定提交",onOk:function(){Utils.ajaxData({url:"/modules/manage/borrow/auditBorrowLoan.htm",data:{borrowId:a.id,state:t.state1,remark:t.remark,receivingBankname:t.receivingBankname,receivingPerson:t.receivingPerson,receivingBankcarkNo:t.receivingBankcarkNo,serialNumber:t.serialNumber},callback:function(t){200==t.code&&e.handleCancel();var a=200==t.code?"success":"error";n[a]({title:t.msg})}})},onCancel:function(){}})}})},render:function(){var o=this.props.form.getFieldProps,c=this.props,u=(this.state,[s.createElement("button",{key:"back",className:"ant-btn",onClick:this.handleCancel},"取消"),s.createElement("button",{key:"sure",className:"ant-btn ant-btn-primary",onClick:this.handleOk},"确定")]),p=[s.createElement("button",{key:"back",className:"ant-btn",onClick:this.handleCancel},"关闭")],m={labelCol:{span:8},wrapperCol:{span:12}};return s.createElement(n,{title:c.title,visible:c.visible,onCancel:this.handleCancel,width:"1200",footer:"查看"==c.title?[p]:[u],maskClosable:!1},s.createElement(r,{defaultActiveKey:"1"},s.createElement(y,{tab:"基本信息",key:"3"},s.createElement(d,{record:c.record,dataForm:c.dataForm,ref:"Tab1",canEdit:c.canEdit,visible:c.visible,recordSoure:c.recordSoure}))),"审核"==c.title?s.createElement(l,{horizontal:!0,form:this.props.form},s.createElement(t,null,s.createElement(a,{span:"24"},s.createElement(v,h({},m,{label:"放款审核:"}),s.createElement(i,h({style:{width:"200px"}},o("state1",{initialValue:""})),s.createElement(g,{value:"302"},"审核通过"),s.createElement(g,{value:"303"},"审核不通过"))))),s.createElement(t,null,s.createElement(a,{span:"24"},s.createElement(v,h({},m,{label:"审核备注:"}),s.createElement(e,h({type:"textarea",placeholder:"",rows:4,style:{width:"500px",height:"40px"}},o("remark",{initialValue:""})))))),s.createElement(t,null,s.createElement(a,{span:"24"},s.createElement(v,h({},m,{label:"收款卡行:"}),s.createElement(e,h({type:"textarea",placeholder:"",rows:4,style:{width:"500px",height:"40px"}},o("receivingBankname",{initialValue:""})))))),s.createElement(t,null,s.createElement(a,{span:"24"},s.createElement(v,h({},m,{label:"收款人:"}),s.createElement(e,h({type:"textarea",placeholder:"",rows:4,style:{width:"500px",height:"40px"}},o("receivingPerson",{initialValue:""})))))),s.createElement(t,null,s.createElement(a,{span:"24"},s.createElement(v,h({},m,{label:"收款银行卡号:"}),s.createElement(e,h({type:"textarea",placeholder:"",rows:4,style:{width:"500px",height:"40px"}},o("receivingBankcarkNo",{initialValue:""})))))),s.createElement(t,null,s.createElement(a,{span:"24"},s.createElement(v,h({},m,{label:"打款流水号:"}),s.createElement(e,h({type:"textarea",placeholder:"",rows:4,style:{width:"500px",height:"40px"}},o("serialNumber",{initialValue:""}))))))):s.createElement(l,{horizontal:!0,form:this.props.form},s.createElement(t,null)))}});return E=f()(E)}.apply(t,n))&&(e.exports=r)},1275:function(e,t,a){var n,r;n=[a(905),a(2)],void 0!==(r=function(e,t){var n=a(1113);return a(1276),t.createClass({displayName:"RuleReport",getInitialState:function(){return{selectedRowKeys:[],loading:!1,resultList:[],ruleList:[],canEdit:!0,visible:!1,first:!0}},componentWillReceiveProps:function(e,t){e.visible&&this.state.first&&(this.setState({first:!1}),this.fetch())},fetch:function(){this.props.record;this.setState({loading:!0});this.props.record},renderTitle:function(e){},rowKey:function(e){return e.id},render:function(){var a=this,r=this.state,i=[{title:"字段描述",dataIndex:"colName",render:function(e,t){return r.resultList[0].tbName+"/"+e}},{title:"运算符",dataIndex:"rule"},{title:"值",dataIndex:"value"},{title:"结果",dataIndex:"resultType",render:function(e,a){if("Y"!=a.result)return t.createElement("span",null,e);switch(e){case"通过":return t.createElement("span",{style:{display:"block",background:"green",width:"100%",height:"100%",color:"white"}},e);case"不通过":return t.createElement("span",{style:{display:"block",background:"red",width:"100%",height:"100%",color:"white"}},e);case"人工复审":return t.createElement("span",{style:{display:"block",background:"yellow",width:"100%",height:"100%"}},e)}}},{title:"当前值",dataIndex:"matching"},{title:"命中结果",dataIndex:"result",render:function(e){return"Y"==e?t.createElement("span",{style:{display:"block",background:"yellow",width:"100%",height:"100%"}},"命中"):t.createElement("span",null,"未命中")}}],l={},s=0;if(r.ruleList){var o=!0,c=!1,d=void 0;try{for(var u,p=r.ruleList[Symbol.iterator]();!(o=(u=p.next()).done);o=!0){l[u.value.ruleName]="#rule"+s,s++}}catch(e){c=!0,d=e}finally{try{!o&&p.return&&p.return()}finally{if(c)throw d}}}return t.createElement("div",{style:{position:"relative"}},r.resultList[0]?t.createElement("div",{className:"navLine-wrap",onScroll:NavLineUtils._handleSpy.bind(this,l)},t.createElement("div",{className:"col-20 navLine-wrap-left ruleReport"},r.resultList.map(function(n,r){return t.createElement("div",{id:"rule"+r,key:r},t.createElement("div",{className:"tbTitle "+(0==r?"":"border-top")},t.createElement("div",null,t.createElement("span",{style:{marginRight:15}},"规则名称：",n.ruleName),t.createElement("span",null,"运行结果：",n.resultType)),t.createElement("div",null,t.createElement("span",{style:{marginRight:15}},"规则条数：",n.total,"条"),t.createElement("span",{style:{marginRight:15}},"通过条数：",n.pass,"条"),t.createElement("span",{style:{marginRight:15}},"不通过条数：",n.noPass,"条"),t.createElement("span",null,"待人工复审：",n.review,"条"))),t.createElement(e,{columns:i,size:"middle",rowKey:a.rowKey,dataSource:n.infoList,bordered:!0,pagination:!1}))})),t.createElement("div",{className:"navLine-wrap-right"},t.createElement(n,{navLineData:l,activeItem:"#rule0",ref:"NavLine"}))):t.createElement("div",{style:{height:"200px"}}))}})}.apply(t,n))&&(e.exports=r)},1276:function(e,t,a){var n=a(1277);"string"==typeof n&&(n=[[e.id,n,""]]);a(902)(n,{});n.locals&&(e.exports=n.locals)},1277:function(e,t,a){t=e.exports=a(901)(),t.push([e.id,".ruleReport{\r\n    border: 1px solid #ddd;\r\n    margin-left: 25px;\r\n    margin-top: 25px;\r\n}\r\n\r\n.tbTitle{\r\n    line-height: 22px;\r\n    padding: 10px 15px;\r\n}\r\n.border-top{\r\n    border-top: 1px solid #ddd;\r\n}",""])},1278:function(e,t,a){var n,r;n=[a(331),a(335),a(336),a(339),a(363),a(909),a(2)],void 0!==(r=function(e,t,n,r,i,l,s){var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c=(l.Group,i.create),d=i.Item,u=(r.Option,a(210),s.createClass({displayName:"Lookdetails",getInitialState:function(){return{checked:!0,disabled:!1,data:"",timeString:"",record:""}},handleCancel:function(){this.props.form.resetFields(),this.props.hideModal()},componentWillReceiveProps:function(e){e.visible&&this.setState({record:e.record})},componentDidMount:function(){this.props.form.setFieldsValue(this.props.dataRecord)},onChange:function(e,t){this.setState({timeString:t})},render:function(){var a=this.props.form.getFieldProps,r=this.props,l=(this.state,{labelCol:{span:9},wrapperCol:{span:15}});return s.createElement(i,{horizontal:!0,form:this.props.form},s.createElement(n,o({},a("id",{initialValue:""}),{type:"hidden"})),s.createElement(e,null,s.createElement(t,{span:"12"},s.createElement(d,o({},l,{label:"订单号:"}),s.createElement(n,o({disabled:!r.canEdit,type:"text"},a("orderNo",{initialValue:""}))))),s.createElement(t,{span:"12"},s.createElement(d,o({},l,{label:"借款人姓名:"}),s.createElement(n,o({disabled:!r.canEdit,type:"text"},a("realName",{initialValue:""})))))),s.createElement(e,null,s.createElement(t,{span:"12"},s.createElement(d,o({},l,{label:"手机号码:"}),s.createElement(n,o({disabled:!r.canEdit,type:"text"},a("phone",{initialValue:""}))))),s.createElement(t,{span:"12"},s.createElement(d,o({},l,{label:"借款期限(天):"}),s.createElement(n,o({disabled:!r.canEdit,type:"text"},a("timeLimit",{initialValue:""})))))),s.createElement(e,null,s.createElement(t,{span:"12"},s.createElement(d,o({},l,{label:"借款所在地:"}),s.createElement(n,o({style:{width:"600px"},disabled:!r.canEdit,type:"text"},a("address",{initialValue:""})))))),s.createElement(e,null,s.createElement(t,{span:"12"},s.createElement(d,o({},l,{label:"借款所在经纬度:"}),s.createElement(n,o({disabled:!r.canEdit,type:"text"},a("coordinate",{initialValue:""}))))),s.createElement(t,{span:"12"},s.createElement(d,o({},l,{label:"借款金额(元):"}),s.createElement(n,o({disabled:!r.canEdit,type:"text"},a("amount",{initialValue:""})))))),s.createElement(e,null,s.createElement(t,{span:"12"},s.createElement(d,o({},l,{label:"综合费用(元):"}),s.createElement(n,o({disabled:!r.canEdit,type:"text"},a("fee",{initialValue:""}))))),s.createElement(t,{span:"12"},s.createElement(d,o({},l,{label:"服务费(元):"}),s.createElement(n,o({disabled:!r.canEdit,type:"text"},a("serviceFee",{initialValue:""})))))),s.createElement(e,null,s.createElement(t,{span:"12"},s.createElement(d,o({},l,{label:"信息认证费(元):"}),s.createElement(n,o({disabled:!r.canEdit,type:"text"},a("infoAuthFee",{initialValue:""}))))),s.createElement(t,{span:"12"},s.createElement(d,o({},l,{label:"借款利息(元):"}),s.createElement(n,o({disabled:!r.canEdit,type:"text"},a("interest",{initialValue:""})))))),s.createElement(e,null,s.createElement(t,{span:"12"},s.createElement(d,o({},l,{label:"实际到账金额(元):"}),s.createElement(n,o({disabled:!r.canEdit,type:"text"},a("realAmount",{initialValue:""}))))),s.createElement(t,{span:"12"},s.createElement(d,o({},l,{label:"借款时间:"}),s.createElement(n,o({disabled:!r.canEdit,type:"text"},a("createTime",{initialValue:""})))))),s.createElement(e,null,s.createElement(t,{span:"12"},s.createElement(d,o({},l,{label:"放款时间:"}),s.createElement(n,o({disabled:!r.canEdit,type:"text"},a("loanTime",{initialValue:""}))))),s.createElement(t,{span:"12"},s.createElement(d,o({},l,{label:"逾期天数(天):"}),s.createElement(n,o({disabled:!r.canEdit,type:"text"},a("penaltyDay",{initialValue:""})))))),s.createElement(e,null,s.createElement(t,{span:"12"},s.createElement(d,o({},l,{label:"逾期金额(元):"}),s.createElement(n,o({disabled:!r.canEdit,type:"text"},a("penaltyAmout",{initialValue:""}))))),s.createElement(t,{span:"12"},s.createElement(d,o({},l,{label:"实际还款时间:"}),s.createElement(n,o({disabled:!r.canEdit,type:"text"},a("repayTime",{initialValue:""})))))),s.createElement(e,null,s.createElement(t,{span:"12"},s.createElement(d,o({},l,{label:"应还总额(元):"}),s.createElement(n,o({disabled:!r.canEdit,type:"text"},a("repayTotal",{initialValue:""}))))),s.createElement(t,{span:"12"},s.createElement(d,o({},l,{label:"已还总额(元):"}),s.createElement(n,o({disabled:!r.canEdit,type:"text"},a("repayYesTotal",{initialValue:""})))))))}}));return u=c()(u)}.apply(t,n))&&(e.exports=r)},1279:function(e,t,a){var n,r;n=[a(331),a(335),a(336),a(363),a(2)],void 0!==(r=function(e,t,n,r,i){var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=r.create,o=r.Item,c=(a(210),i.createClass({displayName:"Tab1",getInitialState:function(){return{}},componentWillReceiveProps:function(e){"2"==e.activeKey&&this.setState({recordSoure:e.recordSoure})},componentDidMount:function(){this.props.form.setFieldsValue(this.props.dataForm)},render:function(){var a=this.props,s=(this.state,this.props.form.getFieldProps),c={labelCol:{span:9},wrapperCol:{span:14}},d={labelCol:{span:5},wrapperCol:{span:19}},u=[];if(a.recordSoure&&a.recordSoure.workImgArr){u=[];for(var p=0;p<a.recordSoure.workImgArr.length;p++)u.push(i.createElement("a",{style:{marginRight:"10px"},href:a.recordSoure.workImgArr[p],target:"_blank"},i.createElement("img",{src:a.recordSoure.workImgArr[p],style:{width:150,height:150}})))}else u.push(i.createElement("span",null,"暂无"));return i.createElement(r,{horizontal:!0,form:this.props.form,style:{marginTop:"20"}},i.createElement("div",{className:"navLine-wrap-left"},i.createElement("h2",null,"基本信息"),i.createElement(e,null,i.createElement(t,{span:"8"},i.createElement(o,l({},c,{label:"真实姓名："}),i.createElement(n,l({},s("realName",{initialValue:""}),{disabled:!0})))),i.createElement(t,{span:"8"},i.createElement(o,l({},c,{label:"性别："}),i.createElement(n,l({},s("sex",{initialValue:""}),{disabled:!0})))),i.createElement(t,{span:"8"},i.createElement(o,l({},c,{label:"年龄："}),i.createElement(n,l({},s("age",{initialValue:""}),{disabled:!0}))))),i.createElement(e,null,i.createElement(t,{span:"8"},i.createElement(o,l({},c,{label:"身份证号码："}),i.createElement(n,l({},s("idNo",{initialValue:""}),{disabled:!0})))),i.createElement(t,{span:"8"},i.createElement(o,l({},c,{label:"银行卡号："}),i.createElement(n,l({},s("cardNo",{initialValue:""}),{disabled:!0})))),i.createElement(t,{span:"8"},i.createElement(o,l({},c,{label:"所属银行："}),i.createElement(n,l({},s("bank",{initialValue:""}),{disabled:!0}))))),i.createElement(e,null,i.createElement(t,{span:"8"},i.createElement(o,l({},c,{label:"银行预留手机号："}),i.createElement(n,l({},s("bankPhone",{initialValue:""}),{disabled:!0})))),i.createElement(t,{span:"8"},i.createElement(o,l({},c,{label:"联系电话："}),i.createElement(n,l({},s("phone",{initialValue:""}),{disabled:!0})))),i.createElement(t,{span:"8"},i.createElement(o,l({},c,{label:"注册时间："}),i.createElement(n,l({},s("registTime",{initialValue:""}),{disabled:!0}))))),i.createElement(e,null,i.createElement(t,{span:"14"},i.createElement(o,l({},d,{label:"居住地址："}),i.createElement(n,l({},s("liveAddr",{initialValue:""}),{disabled:!0}))))),i.createElement(e,null,i.createElement(t,{span:"14"},i.createElement(o,l({},d,{label:"注册所在地："}),i.createElement(n,l({},s("registerAddr",{initialValue:""}),{disabled:!0})))),i.createElement(t,{span:"10"},i.createElement(o,l({},d,{label:"注册地经纬度："}),i.createElement(n,l({},s("registerCoordinate",{initialValue:""}),{disabled:a.canEdit}))))),i.createElement(e,null,i.createElement(t,{span:"8"},i.createElement(o,l({},c,{label:"注册客户端："}),i.createElement(n,l({},s("registerClient",{initialValue:""}),{disabled:!0})))),i.createElement(t,{span:"8"},i.createElement(o,l({},c,{label:"学历："}),i.createElement(n,l({},s("education",{initialValue:""}),{disabled:!0})))),i.createElement(t,{span:"8"},i.createElement(o,l({},c,{label:"常用邮箱："}),i.createElement(n,l({},s("email",{initialValue:""}),{disabled:!0}))))),i.createElement(e,null,i.createElement(t,{span:"8"},i.createElement(o,l({},c,{label:"淘宝账号："}),i.createElement(n,l({},s("taobao",{initialValue:""}),{disabled:!0})))),i.createElement(t,{span:"8"},i.createElement(o,l({},c,{label:"微信账号："}),i.createElement(n,l({},s("wechat",{initialValue:""}),{disabled:!0})))),i.createElement(t,{span:"8"},i.createElement(o,l({},c,{label:"QQ账号："}),i.createElement(n,l({},s("qq",{initialValue:""}),{disabled:!0}))))),i.createElement("h2",null,"单位信息"),i.createElement(e,null,i.createElement(t,{span:"8"},i.createElement(o,l({},c,{label:"单位名称："}),i.createElement(n,l({},s("companyName",{initialValue:""}),{disabled:!0})))),i.createElement(t,{span:"8"},i.createElement(o,l({},c,{label:"单位电话："}),i.createElement(n,l({},s("companyPhone",{initialValue:""}),{disabled:!0})))),i.createElement(t,{span:"8"},i.createElement(o,l({},c,{label:"工作年限："}),i.createElement(n,l({},s("workingYears",{initialValue:""}),{disabled:!0}))))),i.createElement(e,null,i.createElement(t,{span:"14"},i.createElement(o,l({},d,{label:"单位地址："}),i.createElement(n,l({},s("companyAddr",{initialValue:""}),{disabled:!0})))))))}}));return c=s()(c)}.apply(t,n))&&(e.exports=r)},1280:function(e,t,a){var n,r;n=[a(905),a(2)],void 0!==(r=function(e,t){a(210);return t.createClass({displayName:"Tab2",getInitialState:function(){return{loading:!1,data:[],pagination:{}}},rowKey:function(e){return e.id},componentWillReceiveProps:function(e){"3"==e.activeKey&&this.fetch()},componentDidMount:function(){this.fetch()},handleTableChange:function(e,t,a){var n=this.state.pagination;n.current=e.current,n.userId=this.props.record.userId,this.setState({pagination:n}),this.fetch(n)},fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.setState({loading:!0}),!t.pageSize){var t={};t={pageSize:5,current:1,userId:this.props.record.userId}}Utils.ajaxData({url:"/modules/manage/msg/listContacts.htm",data:t,callback:function(a){var n=e.state.pagination;n.current=t.current,n.pageSize=t.pageSize,n.total=a.page.total,n.current||(n.current=1),e.setState({loading:!1,data:a.data.list,pagination:n})}})},render:function(){var a=[{title:"姓名",dataIndex:"name"},{title:"手机号码",dataIndex:"phone"}];return t.createElement("div",{className:"block-panel"},t.createElement(e,{columns:a,rowKey:this.rowKey,dataSource:this.state.data,pagination:this.state.pagination,loading:this.state.loading,onChange:this.handleTableChange}))}})}.apply(t,n))&&(e.exports=r)},1281:function(e,t,a){var n,r;n=[a(905),a(2)],void 0!==(r=function(e,t){a(210);return t.createClass({displayName:"Tab3",getInitialState:function(){return{loading:!1,data:[],pagination:{}}},rowKey:function(e){return e.id},componentWillReceiveProps:function(e){"4"==e.activeKey&&this.fetch()},componentDidMount:function(){this.fetch()},handleTableChange:function(e,t,a){var n=this.state.pagination;n.current=e.current,n.userId=this.props.record.userId,this.setState({pagination:n}),this.fetch(n)},fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.setState({loading:!0}),!t.pageSize){var t={};t={pageSize:5,current:1,userId:this.props.record.userId}}Utils.ajaxData({url:"/modules/manage/msg/listRecords.htm",data:t,callback:function(a){var n=e.state.pagination;n.current=t.current,n.pageSize=t.pageSize,n.total=a.page.total,n.current||(n.current=1),e.setState({loading:!1,data:a.data.list,pagination:n})}})},render:function(){var a=[{title:"用户号码",dataIndex:"phoneNum"},{title:"对方号码",dataIndex:"voiceToNumber"},{title:"通话时间",dataIndex:"voiceDate"},{title:"通话时长(秒)",dataIndex:"voiceDuration"},{title:"通话地",dataIndex:"voicePlace"},{title:"通话状态",dataIndex:"voiceStatus"},{title:"通话类型",dataIndex:"voiceType"}];return t.createElement("div",{className:"block-panel"},t.createElement(e,{columns:a,rowKey:this.rowKey,dataSource:this.state.data,pagination:this.state.pagination,loading:this.state.loading,onChange:this.handleTableChange}))}})}.apply(t,n))&&(e.exports=r)},1282:function(e,t,a){var n,r;n=[a(905),a(2)],void 0!==(r=function(e,t){a(210);return t.createClass({displayName:"Tab5",getInitialState:function(){return{loading:!1,data:[],pagination:{}}},rowKey:function(e){return e.id},componentWillReceiveProps:function(e){"6"==e.activeKey&&this.fetch()},componentDidMount:function(){this.fetch()},handleTableChange:function(e,t,a){var n=this.state.pagination;n.current=e.current,n.userId=this.props.record.userId,this.setState({pagination:n}),this.fetch(n)},fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.setState({loading:!0}),!t.pageSize){var t={};t={pageSize:5,current:1,userId:this.props.record.userId}}Utils.ajaxData({url:"/modules/manage/msg/listMessages.htm",data:t,callback:function(a){var n=e.state.pagination;n.current=t.current,n.pageSize=t.pageSize,n.total=a.page.total,n.current||(n.current=1),e.setState({loading:!1,data:a.data.list,pagination:n})}})},render:function(){var a=[{title:"对方姓名",dataIndex:"name"},{title:"对方号码",dataIndex:"phone"},{title:"收发时间",dataIndex:"time"},{title:"收发类型",dataIndex:"type"}];return t.createElement("div",{className:"block-panel"},t.createElement(e,{columns:a,rowKey:this.rowKey,dataSource:this.state.data,pagination:this.state.pagination,loading:this.state.loading,onChange:this.handleTableChange}))}})}.apply(t,n))&&(e.exports=r)},1283:function(e,t,a){var n,r;n=[a(336),a(331),a(335),a(324),a(339),a(300),a(363),a(909),a(2)],void 0!==(r=function(e,t,n,r,i,l,s,o,c){function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},p=(o.Group,s.create),m=s.Item,h=l.confirm,f=i.Option,v=(a(210),c.createClass({displayName:"AddWin",getInitialState:function(){var e;return e={checked:!0,disabled:!1,data:"",timeString:"",record:"",index:""},d(e,"index",-1),d(e,"phoneItem",[]),d(e,"first",!0),d(e,"defaultValue",""),e},handleCancel:function(){this.setState({first:!0,phoneItem:[],index:-1,defaultValue:""}),this.props.form.resetFields(),this.props.hideModal()},handleOk:function(){var e=this;this.props.form.validateFields(function(t,a){if(!t){h({title:"您是否确定测试借款",onOk:function(){Utils.ajaxData({url:"/modules/manage/borrow/apply.htm",data:{amount:a.amount,cardId:e.props.dataRecord[e.state.index].cardId,timeLimit:a.timeLimit,userId:e.props.dataRecord[e.state.index].userId},method:"post",callback:function(t){200==t.code?l.success({title:t.msg}):l.error({title:t.msg}),e.handleCancel()}})},onCancel:function(){}})}})},componentWillReceiveProps:function(e){this.setState({record:e.record})},change:function(e){for(var t=this,a=0;a<t.props.dataRecord.length;a++)t.props.dataRecord[a].phone==e&&(t.state.index=a,t.state.defaultValue=e,t.forceUpdate())},render:function(){var a=this.props.form.getFieldProps,o=this.props,d=this.state,p={labelCol:{span:9},wrapperCol:{span:15}},h=[c.createElement(r,{key:"back",className:"ant-btn",onClick:this.handleCancel},"返 回"),c.createElement(r,{key:"button",className:"ant-btn ant-btn-primary",loading:d.loading,onClick:this.handleOk},"提 交")];if(o.dataRecord&&this.state.first){for(var v=0;v<o.dataRecord.length;v++)this.state.phoneItem.push(c.createElement(f,{value:o.dataRecord[v].phone},o.dataRecord[v].phone));this.state.first=!1}return c.createElement(l,{title:o.title,visible:o.visible,onCancel:this.handleCancel,width:"400",footer:h,maskClosable:!1},c.createElement(s,{horizontal:!0,form:this.props.form},c.createElement(t,null,c.createElement(n,{span:"12"},c.createElement(m,u({},p,{label:"手机号码:"}),c.createElement(i,{style:{width:150},onChange:this.change,value:d.defaultValue},this.state.phoneItem)))),c.createElement(t,null,c.createElement(n,{span:"12"},c.createElement(m,u({},p,{label:"卡号:"}),c.createElement(e,{type:"text",disabled:!0,value:-1!=d.index?o.dataRecord[d.index].cardNo:""})))),c.createElement(t,null,c.createElement(n,{span:"12"},c.createElement(m,u({},p,{label:"借款天数:"}),c.createElement(i,u({style:{width:100}},a("timeLimit",{initialValue:""})),c.createElement(f,{value:"1"},"1"),c.createElement(f,{value:"7"},"7"),c.createElement(f,{value:"14"},"14"))))),c.createElement(t,null,c.createElement(n,{span:"12"},c.createElement(m,u({},p,{label:"金额:"}),c.createElement(i,u({style:{width:100}},a("amount",{initialValue:""})),c.createElement(f,{value:"100"},"100"),c.createElement(f,{value:"200"},"200"),c.createElement(f,{value:"300"},"300"),c.createElement(f,{value:"400"},"400"),c.createElement(f,{value:"500"},"500"),c.createElement(f,{value:"600"},"600"),c.createElement(f,{value:"700"},"700"),c.createElement(f,{value:"800"},"800"),c.createElement(f,{value:"900"},"900"),c.createElement(f,{value:"1000"},"1000")))))))}}));return v=p()(v)}.apply(t,n))&&(e.exports=r)},1284:function(e,t,a){var n,r;n=[a(324),a(336),a(339),a(363),a(2)],void 0!==(r=function(e,t,a,n,r){var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=n.create,s=n.Item,o=a.Option,c=r.createClass({displayName:"SeachForm",getInitialState:function(){return{roleList:[]}},handleQuery:function(){var e=this.props.form.getFieldsValue();e.type="repay",this.props.passParams({searchParams:JSON.stringify(e),pageSize:10,current:1})},handleReset:function(){this.props.form.resetFields(),this.props.passParams({pageSize:10,current:1,searchParams:JSON.stringify({type:"repay"})})},render:function(){var l=this.props.form.getFieldProps;return r.createElement(n,{inline:!0},r.createElement(t,i({type:"hidden"},l("state",{initialValue:"30"}))),r.createElement(s,{label:"真实姓名:"},r.createElement(t,l("realName"))),r.createElement(s,{label:"手机号码:"},r.createElement(t,l("phone"))),r.createElement(s,{label:"订单号:"},r.createElement(t,l("orderNo"))),r.createElement(s,{label:"订单状态:"},r.createElement(a,i({style:{width:170}},l("state",{initialValue:""}),{placeholder:"请选择..."}),r.createElement(o,{value:""},"全部"),r.createElement(o,{value:"20"},"自动审核通过"),r.createElement(o,{value:"26"},"人工复审通过"),r.createElement(o,{value:"301"},"待放款审核"),r.createElement(o,{value:"302"},"放款审核通过"),r.createElement(o,{value:"303"},"放款审核不通过"),r.createElement(o,{value:"30"},"放款成功"),r.createElement(o,{value:"31"},"放款失败"),r.createElement(o,{value:"40"},"还款成功"),r.createElement(o,{value:"41"},"还款成功-金额减免"),r.createElement(o,{value:"43"},"还款处理中"),r.createElement(o,{value:"50"},"逾期"),r.createElement(o,{value:"90"},"坏账"),r.createElement(o,{value:"70"},"取消贷款"))),r.createElement(s,null,r.createElement(e,{type:"primary",onClick:this.handleQuery},"查询")),r.createElement(s,null,r.createElement(e,{type:"reset",onClick:this.handleReset},"重置")))}});return c=l()(c)}.apply(t,n))&&(e.exports=r)},1285:function(e,t,a){var n,r;n=[a(2),a(1286),a(1289)],void 0!==(r=function(e,t,a){return e.createClass({displayName:"OverdueList",getInitialState:function(){return{params:{}}},passParams:function(e){this.setState({params:e})},render:function(){return e.createElement("div",null,e.createElement("div",{className:"block-panel"},e.createElement(a,{passParams:this.passParams})),e.createElement(t,{params:this.state.params}))}})}.apply(t,n))&&(e.exports=r)},1286:function(e,t,a){var n,r;n=[a(905),a(2),a(1287),a(1288)],void 0!==(r=function(e,t,n,r){var i=a(210);return t.createClass({displayName:"List",getInitialState:function(){return{selectedRowKeys:[],loading:!1,data:[],pagination:{pageSize:10,current:1},canEdit:!0,visible:!1,visible1:!1,visible2:!1,pictureData:[],creditReportData:[],rowRecord:[],record:"",visibleAdd:!1}},componentWillReceiveProps:function(e,t){this.fetch(e.params)},componentDidMount:function(){this.fetch()},fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.setState({loading:!0}),!t.pageSize){var t={};t={pageSize:10,current:1,searchParams:JSON.stringify({state:"50"})}}t.searchParams||(t.searchParams=JSON.stringify({state:"50"})),Utils.ajaxData({url:"/modules/manage/borrow/borrowRepayList.htm",method:"post",data:t,callback:function(a){var n=e.state.pagination;n.current=t.current,n.pageSize=t.pageSize,n.total=a.page.total,n.current||(n.current=1),e.setState({loading:!1,data:a.data,pagination:n})}})},showModal:function(e,t,a){var n=this;this.setState({visible:!0,canEdit:a,record:t,title:e},function(){Utils.ajaxData({url:"/modules/manage/borrow/borrowRepayContent.htm",data:{borrowId:t.id},method:"post",callback:function(e){n.refs.Lookdetails.setFieldsValue(e.data),n.setState({dataRecord:e.data})}})})},addModal:function(e,t,a){this.setState({visibleAdd:!0,title:e})},
hideModal:function(){this.setState({visible:!1,visible1:!1,visible2:!1,selectedIndex:"",selectedRowKeys:[],visibleAdd:!1}),this.refreshList()},rowKey:function(e){return e.id},onSelectChange:function(e){this.setState({selectedRowKeys:e})},handleTableChange:function(e,t,a){var n=this.state.pagination;n.current=e.current,this.setState({pagination:n}),this.refreshList()},refreshList:function(){var e=this.state.pagination,t=i({},this.props.params,{current:e.current,pageSize:e.pageSize});this.fetch(t)},onRowClick:function(e){this.setState({selectedRowKeys:[e.id],selectedRow:e,rowRecord:e},function(){})},rowClassName:function(e){var t=this.state.selectedIndex;return e.id==t&&""!==t?"selectRow":""},onSelectAll:function(e,t,a,n){e?this.setState({selectedRowKeys:t}):this.setState({selectedRowKeys:[]})},render:function(){var a=this.state,i=(a.loading,a.selectedRowKeys),l=(this.onSelectAll,this);i.length>0&&i.indexOf("0");var s=[{title:"真实姓名",dataIndex:"realName"},{title:"手机号码",dataIndex:"phone"},{title:"订单号",dataIndex:"orderNo"},{title:"借款金额(元)",dataIndex:"amount"},{title:"借款期限(天)",dataIndex:"timeLimit"},{title:"订单生成时间",dataIndex:"createTime"},{title:"综合费用(元)",dataIndex:"fee"},{title:"实际到账金额(元)",dataIndex:"realAmount"},{title:"订单状态",dataIndex:"stateStr"},{title:"操作",dataIndex:"",render:function(e,a){return t.createElement("div",{style:{textAlign:"left"}},t.createElement("a",{href:"#",onClick:l.showModal.bind(l,"查看详情",a,!1)},"查看详情"))}}],o=this.state;return t.createElement("div",{className:"block-panel"},t.createElement(e,{columns:s,rowKey:this.rowKey,ref:"table",onRowClick:this.onRowClick,dataSource:this.state.data,rowClassName:this.rowClassName,pagination:this.state.pagination,onChange:this.handleTableChange}),t.createElement(n,{ref:"Lookdetails",visible:o.visible,title:o.title,hideModal:l.hideModal,record:o.record,canEdit:o.canEdit}),t.createElement(r,{ref:"AddWin",visible:o.visibleAdd,hideModal:l.hideModal,title:o.title}))}})}.apply(t,n))&&(e.exports=r)},1287:function(e,t,a){var n,r;n=[a(300),a(331),a(335),a(336),a(339),a(363),a(909),a(2)],void 0!==(r=function(e,t,n,r,i,l,s,o){var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=(s.Group,l.create),u=l.Item,p=(i.Option,a(210),o.createClass({displayName:"Lookdetails",getInitialState:function(){return{checked:!0,disabled:!1,data:"",timeString:"",record:""}},handleCancel:function(){this.props.form.resetFields(),this.props.hideModal()},componentWillReceiveProps:function(e){this.setState({record:e.record})},onChange:function(e,t){this.setState({timeString:t})},render:function(){var a=this.props.form.getFieldProps,i=this.props,s=(this.state,{labelCol:{span:9},wrapperCol:{span:15}});return o.createElement(e,{title:i.title,visible:i.visible,onCancel:this.handleCancel,width:"900",footer:[o.createElement("button",{key:"back",className:"ant-btn",onClick:this.handleCancel},"关闭")],maskClosable:!1},o.createElement(l,{horizontal:!0,form:this.props.form},o.createElement(r,c({},a("id",{initialValue:""}),{type:"hidden"})),o.createElement(t,null,o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"订单号:"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("orderNo",{initialValue:""}))))),o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"借款人姓名:"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("realName",{initialValue:""})))))),o.createElement(t,null,o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"手机号码:"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("phone",{initialValue:""}))))),o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"借款期限(天):"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("timeLimit",{initialValue:""})))))),o.createElement(t,null,o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"借款所在地:"}),o.createElement(r,c({style:{width:"600px"},disabled:!i.canEdit,type:"text"},a("address",{initialValue:""})))))),o.createElement(t,null,o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"借款所在经纬度:"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("coordinate",{initialValue:""}))))),o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"借款金额(元):"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("amount",{initialValue:""})))))),o.createElement(t,null,o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"综合费用(元):"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("fee",{initialValue:""}))))),o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"居间服务费(元):"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("serviceFee",{initialValue:""})))))),o.createElement(t,null,o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"信息认证费(元):"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("infoAuthFee",{initialValue:""}))))),o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"利息(元):"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("interest",{initialValue:""})))))),o.createElement(t,null,o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"实际到账金额(元):"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("realAmount",{initialValue:""}))))),o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"借款时间:"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("createTime",{initialValue:""})))))),o.createElement(t,null,o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"放款时间:"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("loanTime",{initialValue:""}))))),o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"逾期天数(天):"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("penaltyDay",{initialValue:""})))))),o.createElement(t,null,o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"逾期金额(元):"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("penaltyAmout",{initialValue:""}))))),o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"逾期等级:"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("level",{initialValue:""})))))),o.createElement(t,null,o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"实际还款时间:"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("repayTime",{initialValue:""}))))),o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"应还款总额(元):"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("repayTotal",{initialValue:""})))))),o.createElement(t,null,o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"应还总额(元):"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("repayTotal",{initialValue:""}))))),o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"已还总额(元):"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("repayYesTotal",{initialValue:""}))))))))}}));return p=d()(p)}.apply(t,n))&&(e.exports=r)},1288:1187,1289:function(e,t,a){var n,r;n=[a(324),a(336),a(339),a(363),a(2)],void 0!==(r=function(e,t,a,n,r){var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=n.create,s=n.Item,o=(a.Option,r.createClass({displayName:"SeachForm",getInitialState:function(){return{roleList:[]}},handleQuery:function(){var e=this.props.form.getFieldsValue();this.props.passParams({searchParams:JSON.stringify(e),pageSize:10,current:1})},handleReset:function(){this.props.form.resetFields(),this.props.passParams({pageSize:10,current:1,searchParams:JSON.stringify({state:"50"})})},handleOut:function(){var e=this.props.form.getFieldsValue(),t=JSON.stringify(e);window.open("/modules/manage/overdue/export.htm?searchParams="+t)},render:function(){var a=this.props.form.getFieldProps;return r.createElement(n,{inline:!0},r.createElement(t,i({type:"hidden"},a("state",{initialValue:"50"}))),r.createElement(s,{label:"真实姓名:"},r.createElement(t,a("realName"))),r.createElement(s,{label:"手机号码:"},r.createElement(t,a("phone"))),r.createElement(s,{label:"订单号:"},r.createElement(t,a("orderNo"))),r.createElement(s,null,r.createElement(e,{type:"primary",onClick:this.handleQuery},"查询")),r.createElement(s,null,r.createElement(e,{type:"reset",onClick:this.handleReset},"重置")),r.createElement(s,null,r.createElement(e,{onClick:this.handleOut},"导出")))}}));return o=l()(o)}.apply(t,n))&&(e.exports=r)},1290:function(e,t,a){var n,r;n=[a(2),a(1291),a(1294)],void 0!==(r=function(e,t,a){return e.createClass({displayName:"RepaymentList",getInitialState:function(){return{params:{}}},passParams:function(e){this.setState({params:e})},render:function(){return e.createElement("div",null,e.createElement("div",{className:"block-panel"},e.createElement(a,{passParams:this.passParams})),e.createElement(t,{params:this.state.params}))}})}.apply(t,n))&&(e.exports=r)},1291:function(e,t,a){var n,r;n=[a(905),a(2),a(1292),a(1293)],void 0!==(r=function(e,t,n,r){var i=a(210);return t.createClass({displayName:"List",getInitialState:function(){return{selectedRowKeys:[],loading:!1,data:[],pagination:{pageSize:10,current:1},canEdit:!0,visible:!1,visible1:!1,visible2:!1,pictureData:[],creditReportData:[],rowRecord:[],record:"",visibleAdd:!1}},componentWillReceiveProps:function(e,t){this.fetch(e.params)},componentDidMount:function(){this.fetch()},fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.setState({loading:!0}),!t.pageSize){var t={};t={pageSize:10,current:1,searchParams:JSON.stringify({state:"40"})}}t.searchParams||(t.searchParams=JSON.stringify({state:"40"})),Utils.ajaxData({url:"/modules/manage/borrow/borrowRepayList.htm",method:"post",data:t,callback:function(a){var n=e.state.pagination;n.current=t.current,n.pageSize=t.pageSize,n.total=a.page.total,n.current||(n.current=1),e.setState({loading:!1,data:a.data,pagination:n})}})},showModal:function(e,t,a){var n=this;this.setState({visible:!0,canEdit:a,record:t,title:e},function(){Utils.ajaxData({url:"/modules/manage/borrow/borrowRepayContent.htm",data:{borrowId:t.id},method:"post",callback:function(e){n.refs.Lookdetails.setFieldsValue(e.data),n.setState({dataRecord:e.data})}})})},addModal:function(e,t,a){this.setState({visibleAdd:!0,title:e})},hideModal:function(){this.setState({visible:!1,visible1:!1,visible2:!1,selectedIndex:"",selectedRowKeys:[],visibleAdd:!1}),this.refreshList()},rowKey:function(e){return e.id},onSelectChange:function(e){this.setState({selectedRowKeys:e})},handleTableChange:function(e,t,a){var n=this.state.pagination;n.current=e.current,this.setState({pagination:n}),this.refreshList()},refreshList:function(){var e=this.state.pagination,t=i({},this.props.params,{current:e.current,pageSize:e.pageSize});this.fetch(t)},onRowClick:function(e){this.setState({selectedRowKeys:[e.id],selectedRow:e,rowRecord:e},function(){})},rowClassName:function(e){var t=this.state.selectedIndex;return e.id==t&&""!==t?"selectRow":""},onSelectAll:function(e,t,a,n){e?this.setState({selectedRowKeys:t}):this.setState({selectedRowKeys:[]})},render:function(){var a=this.state,i=(a.loading,a.selectedRowKeys),l=(this.onSelectAll,this);i.length>0&&i.indexOf("0");var s=[{title:"真实姓名",dataIndex:"realName"},{title:"手机号码",dataIndex:"phone"},{title:"订单号",dataIndex:"orderNo"},{title:"借款金额(元)",dataIndex:"amount"},{title:"借款期限(天)",dataIndex:"timeLimit"},{title:"订单生成时间",dataIndex:"createTime"},{title:"综合费用(元)",dataIndex:"fee"},{title:"实际到账金额(元)",dataIndex:"realAmount"},{title:"实际还款金额(元)",dataIndex:"repayAmount"},{title:"订单状态",dataIndex:"stateStr"},{title:"操作",dataIndex:"",render:function(e,a){return t.createElement("div",{style:{textAlign:"left"}},t.createElement("a",{href:"#",onClick:l.showModal.bind(l,"查看详情",a,!1)},"查看详情"))}}],o=this.state;return t.createElement("div",{className:"block-panel"},t.createElement(e,{columns:s,rowKey:this.rowKey,ref:"table",onRowClick:this.onRowClick,dataSource:this.state.data,rowClassName:this.rowClassName,pagination:this.state.pagination,onChange:this.handleTableChange}),t.createElement(n,{ref:"Lookdetails",visible:o.visible,title:o.title,hideModal:l.hideModal,record:o.record,canEdit:o.canEdit}),t.createElement(r,{ref:"AddWin",visible:o.visibleAdd,hideModal:l.hideModal,title:o.title}))}})}.apply(t,n))&&(e.exports=r)},1292:function(e,t,a){var n,r;n=[a(300),a(331),a(335),a(336),a(339),a(363),a(909),a(2)],void 0!==(r=function(e,t,n,r,i,l,s,o){var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=(s.Group,l.create),u=l.Item,p=(i.Option,a(210),o.createClass({displayName:"Lookdetails",getInitialState:function(){return{checked:!0,disabled:!1,data:"",timeString:"",record:""}},handleCancel:function(){this.props.form.resetFields(),this.props.hideModal()},componentWillReceiveProps:function(e){this.setState({record:e.record})},onChange:function(e,t){this.setState({timeString:t})},render:function(){var a=this.props.form.getFieldProps,i=this.props,s=(this.state,{labelCol:{span:9},wrapperCol:{span:15}});return o.createElement(e,{title:i.title,visible:i.visible,onCancel:this.handleCancel,width:"900",footer:[o.createElement("button",{key:"back",className:"ant-btn",onClick:this.handleCancel},"关闭")],maskClosable:!1},o.createElement(l,{horizontal:!0,form:this.props.form},o.createElement(r,c({},a("id",{initialValue:""}),{type:"hidden"})),o.createElement(t,null,o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"订单号:"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("orderNo",{initialValue:""}))))),o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"借款人姓名:"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("realName",{initialValue:""})))))),o.createElement(t,null,o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"手机号码:"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("phone",{initialValue:""}))))),o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"借款期限(天):"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("timeLimit",{initialValue:""})))))),o.createElement(t,null,o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"借款所在地:"}),o.createElement(r,c({style:{width:"600px"},disabled:!i.canEdit,type:"text"},a("address",{initialValue:""})))))),o.createElement(t,null,o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"借款所在经纬度:"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("coordinate",{initialValue:""}))))),o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"借款金额(元):"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("amount",{initialValue:""})))))),o.createElement(t,null,o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"综合费用(元):"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("fee",{initialValue:""}))))),o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"服务费(元):"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("serviceFee",{initialValue:""})))))),o.createElement(t,null,o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"信息认证费(元):"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("infoAuthFee",{initialValue:""}))))),o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"借款利息(元):"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("interest",{initialValue:""})))))),o.createElement(t,null,o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"实际到账金额(元):"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("realAmount",{initialValue:""}))))),o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"借款时间:"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("createTime",{initialValue:""})))))),o.createElement(t,null,o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"放款时间:"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("loanTime",{initialValue:""}))))),o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"逾期天数(天):"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("penaltyDay",{initialValue:""})))))),o.createElement(t,null,o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"逾期金额(元):"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("penaltyAmout",{initialValue:""}))))),o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"实际还款时间:"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("repayTime",{initialValue:""})))))),o.createElement(t,null,o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"应还总额(元):"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("repayTotal",{initialValue:""}))))),o.createElement(n,{span:"12"},o.createElement(u,c({},s,{label:"已还总额(元):"}),o.createElement(r,c({disabled:!i.canEdit,type:"text"},a("repayYesTotal",{initialValue:""}))))))))}}));return p=d()(p)}.apply(t,n))&&(e.exports=r)},1293:1187,1294:function(e,t,a){var n,r;n=[a(324),a(336),a(339),a(363),a(2)],void 0!==(r=function(e,t,a,n,r){var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=n.create,s=n.Item,o=(a.Option,r.createClass({displayName:"SeachForm",getInitialState:function(){return{roleList:[]}},handleQuery:function(){var e=this.props.form.getFieldsValue();this.props.passParams({searchParams:JSON.stringify(e),pageSize:10,current:1})},handleReset:function(){this.props.form.resetFields(),this.props.passParams({pageSize:10,current:1,searchParams:JSON.stringify({state:"40"})})},render:function(){var a=this.props.form.getFieldProps;return r.createElement(n,{inline:!0},r.createElement(t,i({type:"hidden"},a("state",{initialValue:"40"}))),r.createElement(s,{label:"真实姓名:"},r.createElement(t,a("realName"))),r.createElement(s,{label:"手机号码:"},r.createElement(t,a("phone"))),r.createElement(s,{label:"订单号:"},r.createElement(t,a("orderNo"))),r.createElement(s,null,r.createElement(e,{type:"primary",onClick:this.handleQuery},"查询")),r.createElement(s,null,r.createElement(e,{type:"reset",onClick:this.handleReset},"重置")))}}));return o=l()(o)}.apply(t,n))&&(e.exports=r)},1295:function(e,t,a){var n,r;n=[a(2),a(1296),a(1299)],void 0!==(r=function(e,t,a){return e.createClass({displayName:"BadDebtsList",getInitialState:function(){return{params:{}}},passParams:function(e){this.setState({params:e})},render:function(){return e.createElement("div",null,e.createElement("div",{className:"block-panel"},e.createElement(a,{passParams:this.passParams})),e.createElement(t,{params:this.state.params}))}})}.apply(t,n))&&(e.exports=r)},1296:function(e,t,a){var n,r;n=[a(905),a(2),a(1297),a(1298)],void 0!==(r=function(e,t,n,r){var i=a(210);return t.createClass({displayName:"List",getInitialState:function(){return{selectedRowKeys:[],loading:!1,data:[],pagination:{pageSize:10,current:1},canEdit:!0,visible:!1,visible1:!1,visible2:!1,pictureData:[],creditReportData:[],rowRecord:[],record:"",visibleAdd:!1}},componentWillReceiveProps:function(e,t){this.fetch(e.params)},componentDidMount:function(){this.fetch()},fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.setState({loading:!0}),!t.pageSize){var t={};t={pageSize:10,current:1,searchParams:JSON.stringify({state:"90"})}}t.searchParams||(t.searchParams=JSON.stringify({state:"90"})),Utils.ajaxData({url:"/modules/manage/borrow/borrowRepayList.htm",method:"post",data:t,callback:function(a){var n=e.state.pagination;n.current=t.current,n.pageSize=t.pageSize,n.total=a.page.total,n.current||(n.current=1),e.setState({loading:!1,data:a.data,pagination:n})}})},showModal:function(e,t,a){var n=this;this.setState({visible:!0,canEdit:a,record:t,title:e},function(){Utils.ajaxData({url:"/modules/manage/borrow/borrowRepayContent.htm",data:{borrowId:t.id},method:"post",callback:function(e){n.refs.Lookdetails.setFieldsValue(e.data),n.setState({dataRecord:e.data})}})})},addModal:function(e,t,a){this.setState({visibleAdd:!0,title:e})},hideModal:function(){this.setState({visible:!1,visible1:!1,visible2:!1,selectedIndex:"",selectedRowKeys:[],visibleAdd:!1}),this.refreshList()},rowKey:function(e){return e.id},onSelectChange:function(e){this.setState({selectedRowKeys:e})},handleTableChange:function(e,t,a){var n=this.state.pagination;n.current=e.current,this.setState({pagination:n}),this.refreshList()},refreshList:function(){var e=this.state.pagination,t=i({},this.props.params,{current:e.current,pageSize:e.pageSize});this.fetch(t)},onRowClick:function(e){this.setState({selectedRowKeys:[e.id],selectedRow:e,rowRecord:e},function(){})},rowClassName:function(e){var t=this.state.selectedIndex;return e.id==t&&""!==t?"selectRow":""},onSelectAll:function(e,t,a,n){e?this.setState({selectedRowKeys:t}):this.setState({selectedRowKeys:[]})},render:function(){var a=this.state,i=(a.loading,a.selectedRowKeys),l=(this.onSelectAll,this);i.length>0&&i.indexOf("0");var s=[{title:"真实姓名",dataIndex:"realName"},{title:"手机号码",dataIndex:"phone"},{title:"订单号",dataIndex:"orderNo"},{title:"借款金额(元)",dataIndex:"amount"},{title:"借款期限(天)",dataIndex:"timeLimit"},{title:"订单生成时间",dataIndex:"createTime"},{title:"综合费用(元)",dataIndex:"fee"},{title:"实际到账金额(元)",dataIndex:"realAmount"},{title:"实际还款金额(元)",dataIndex:"repayAmount"},{title:"订单状态",dataIndex:"stateStr"},{title:"操作",dataIndex:"",render:function(e,a){return t.createElement("div",{style:{textAlign:"left"}},t.createElement("a",{href:"#",onClick:l.showModal.bind(l,"查看详情",a,!1)},"查看详情"))}}],o=this.state;return t.createElement("div",{className:"block-panel"},t.createElement(e,{columns:s,rowKey:this.rowKey,ref:"table",onRowClick:this.onRowClick,dataSource:this.state.data,rowClassName:this.rowClassName,pagination:this.state.pagination,onChange:this.handleTableChange}),t.createElement(n,{ref:"Lookdetails",visible:o.visible,title:o.title,hideModal:l.hideModal,record:o.record,canEdit:o.canEdit}),t.createElement(r,{ref:"AddWin",visible:o.visibleAdd,hideModal:l.hideModal,title:o.title}))}})}.apply(t,n))&&(e.exports=r)},1297:1292,1298:1187,1299:function(e,t,a){var n,r;n=[a(324),a(336),a(339),a(363),a(2)],void 0!==(r=function(e,t,a,n,r){var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=n.create,s=n.Item,o=(a.Option,r.createClass({displayName:"SeachForm",getInitialState:function(){return{roleList:[]}},handleQuery:function(){var e=this.props.form.getFieldsValue();this.props.passParams({searchParams:JSON.stringify(e),pageSize:10,current:1})},handleReset:function(){this.props.form.resetFields(),this.props.passParams({pageSize:10,current:1,searchParams:JSON.stringify({state:"90"})})},handleOut:function(){var e=this.props.form.getFieldsValue(),t=JSON.stringify(e);window.open("/modules/manage/badDebt/export.htm?searchParams="+t)},render:function(){var a=this.props.form.getFieldProps;return r.createElement(n,{inline:!0},r.createElement(t,i({type:"hidden"},a("state",{initialValue:"90"}))),r.createElement(s,{label:"真实姓名:"},r.createElement(t,a("realName"))),r.createElement(s,{label:"手机号码:"},r.createElement(t,a("phone"))),r.createElement(s,{label:"订单号:"},r.createElement(t,a("orderNo"))),r.createElement(s,null,r.createElement(e,{type:"primary",onClick:this.handleQuery},"查询")),r.createElement(s,null,r.createElement(e,{type:"reset",onClick:this.handleReset},"重置")),r.createElement(s,null,r.createElement(e,{onClick:this.handleOut},"导出")))}}));return o=l()(o)}.apply(t,n))&&(e.exports=r)},1300:function(e,t,a){var n,r;n=[a(2),a(1301),a(1304)],void 0!==(r=function(e,t,a){return e.createClass({displayName:"LoanSchedule",getInitialState:function(){return{params:{}}},passParams:function(e){this.setState({params:e})},render:function(){return e.createElement("div",null,e.createElement("div",{className:"block-panel"},e.createElement(a,{passParams:this.passParams})),e.createElement(t,{params:this.state.params}))}})}.apply(t,n))&&(e.exports=r)},1301:function(e,t,a){var n,r;n=[a(905),a(2),a(1302),a(1303)],void 0!==(r=function(e,t,n,r){var i=a(210);return t.createClass({displayName:"List",getInitialState:function(){return{selectedRowKeys:[],loading:!1,data:[],pagination:{pageSize:10,current:1},canEdit:!0,visible:!1,visible1:!1,visible2:!1,pictureData:[],creditReportData:[],rowRecord:[],record:"",visibleAdd:!1}},componentWillReceiveProps:function(e,t){this.fetch(e.params)},componentDidMount:function(){this.fetch()},fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.setState({loading:!0}),!t.pageSize){var t={};t={pageSize:10,current:1}}Utils.ajaxData({url:"/modules/manage/borrow/progress/list.htm",method:"post",data:t,callback:function(a){var n=e.state.pagination;n.current=t.current,n.pageSize=t.pageSize,n.total=a.page.total,n.current||(n.current=1),e.setState({loading:!1,data:a.data,pagination:n})}})},showModal:function(e,t,a){var n=this;this.setState({visible:!0,canEdit:a,record:t,title:e},function(){n.refs.Lookdetails.setFieldsValue(t)})},addModal:function(e,t,a){this.setState({visibleAdd:!0,title:e})},hideModal:function(){this.setState({visible:!1,visible1:!1,visible2:!1,selectedIndex:"",selectedRowKeys:[],visibleAdd:!1}),this.refreshList()},rowKey:function(e){return e.id},onSelectChange:function(e){this.setState({selectedRowKeys:e})},handleTableChange:function(e,t,a){var n=this.state.pagination;n.current=e.current,this.setState({pagination:n}),this.refreshList()},refreshList:function(){var e=this.state.pagination,t=i({},this.props.params,{current:e.current,pageSize:e.pageSize});this.fetch(t)},onRowClick:function(e){this.setState({selectedRowKeys:[e.id],selectedRow:e,rowRecord:e},function(){})},rowClassName:function(e){var t=this.state.selectedIndex;return e.id==t&&""!==t?"selectRow":""},onSelectAll:function(e,t,a,n){e?this.setState({selectedRowKeys:t}):this.setState({selectedRowKeys:[]})},render:function(){var a=this.state,i=(a.loading,a.selectedRowKeys),l=(this.onSelectAll,this);i.length>0&&i.indexOf("0");var s=[{title:"真实姓名",dataIndex:"realName"},{title:"手机号码",dataIndex:"phone"},{title:"订单号",dataIndex:"orderNo"},{title:"借款金额(元)",dataIndex:"amount"},{title:"业务处理时间",dataIndex:"createTime"},{title:"进度描述",dataIndex:"remark"},{title:"借款进度状态",dataIndex:"stateStr"}],o=this.state;return t.createElement("div",{className:"block-panel"},t.createElement(e,{columns:s,rowKey:this.rowKey,ref:"table",onRowClick:this.onRowClick,dataSource:this.state.data,rowClassName:this.rowClassName,pagination:this.state.pagination,onChange:this.handleTableChange}),t.createElement(n,{ref:"Lookdetails",visible:o.visible,title:o.title,hideModal:l.hideModal,record:o.record,canEdit:o.canEdit}),t.createElement(r,{ref:"AddWin",visible:o.visibleAdd,hideModal:l.hideModal,title:o.title}))}})}.apply(t,n))&&(e.exports=r)},1302:1201,1303:1187,1304:function(e,t,a){var n,r;n=[a(324),a(336),a(339),a(363),a(2)],void 0!==(r=function(e,t,a,n,r){var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=n.create,s=n.Item,o=a.Option,c=r.createClass({displayName:"SeachForm",getInitialState:function(){return{roleList:[]}},handleQuery:function(){var e=this.props.form.getFieldsValue();this.props.passParams({searchParams:JSON.stringify(e),pageSize:10,current:1})},handleReset:function(){this.props.form.resetFields(),this.props.passParams({pageSize:10,current:1})},render:function(){var l=this.props.form.getFieldProps;return r.createElement(n,{inline:!0},r.createElement(s,{label:"真实姓名:"},r.createElement(t,l("realName"))),r.createElement(s,{label:"手机号码:"},r.createElement(t,l("phone"))),r.createElement(s,{label:"订单号:"},r.createElement(t,l("orderNo"))),r.createElement(s,{label:"状态:"},r.createElement(a,i({style:{width:170}},l("state",{initialValue:""}),{placeholder:"请选择..."}),r.createElement(o,{value:"10"},"申请成功待审核"),r.createElement(o,{value:"20"},"自动审核通过"),r.createElement(o,{value:"21"},"自动审核不通过"),r.createElement(o,{value:"22"},"自动审核未决待人工复审"),r.createElement(o,{value:"26"},"人工复审通过"),r.createElement(o,{value:"27"},"人工复审不通过"),r.createElement(o,{value:"30"},"放款成功"),r.createElement(o,{value:"31"},"放款失败"),r.createElement(o,{value:"40"},"还款成功"),r.createElement(o,{value:"41"},"还款成功-金额减免"),r.createElement(o,{value:"43"},"还款处理中"),r.createElement(o,{value:"50"},"逾期"),r.createElement(o,{value:"90"},"坏账"))),r.createElement(s,null,r.createElement(e,{type:"primary",onClick:this.handleQuery},"查询")),r.createElement(s,null,r.createElement(e,{type:"reset",onClick:this.handleReset},"重置")))}});return c=l()(c)}.apply(t,n))&&(e.exports=r)},1305:function(e,t,a){var n,r;n=[a(2),a(1306),a(1309)],void 0!==(r=function(e,t,a){return e.createClass({displayName:"ruleEngine",getInitialState:function(){return{params:{pageSize:10,currentPage:1}}},passParams:function(e){this.setState({params:e})},render:function(){return e.createElement("div",null,e.createElement("div",{className:"block-panel"},e.createElement(a,{passParams:this.passParams})),e.createElement(t,{params:this.state.params}))}})}.apply(t,n))&&(e.exports=r)},1306:function(e,t,a){var n,r;n=[a(905),a(300),a(2),a(1307),a(1308)],void 0!==(r=function(e,t,n,r,i){var l=a(210);return n.createClass({displayName:"List",getInitialState:function(){return{selectedRowKeys:[],loading:!1,data:[],pagination:{pageSize:10,current:1},canEdit:!0,visible:!1,pictureData:[],creditReportData:[],rowRecord:[]}},componentWillReceiveProps:function(e,t){this.fetch(e.params)},componentDidMount:function(){this.fetch()},fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.setState({loading:!0}),!t.pageSize){var t={};t={pageSize:10,currentPage:1}}Utils.ajaxData({url:"/modules/manage/rule/list.htm",data:t,callback:function(a){var n=e.state.pagination;n.current=t.currentPage,n.pageSize=t.pageSize,n.total=a.page.total,n.current||(n.current=1),e.setState({loading:!1,data:a.data,pagination:n})}})},showModal:function(e,t){var a=this;"新增"==e?this.setState({visible:!0,title:e}):Utils.ajaxData({url:"/modules/manage/rule/getRuleConfig.htm",data:{id:t.id},callback:function(t){var n=t.data;a.refs.AddRole.setFieldsValue(n.rule),a.setState({visible:!0,title:e,ruleData:n})}})},hideModal:function(){this.setState({visible:!1,selectedIndex:"",selectedRowKeys:[]}),this.refreshList()},rowKey:function(e){return e.id},onSelectChange:function(e){this.setState({selectedRowKeys:e})},handleTableChange:function(e,t,a){var n=this.state.pagination;n.current=e.current,this.setState({pagination:n}),this.refreshList()},refreshList:function(){var e=this.state.pagination,t=l({},this.props.params,{currentPage:e.current,pageSize:e.pageSize});this.fetch(t)},onRowClick:function(e){-1==this.state.selectedRowKeys.indexOf(e.id)?this.setState({selectedRowKeys:[e.id],selectedRow:e,rowRecord:e}):this.setState({selectedRowKeys:[],selectedRow:{},rowRecord:{}})},rowClassName:function(e){var t=this.state.selectedIndex;return e.id==t&&""!==t?"selectRow":""},changeStaus:function(e,a){var n=this;if("删除"!=e){var r={id:a.id};r.state="禁用"==e?20:10,Utils.ajaxData({url:"/modules/manage/rule/modifyState.htm",data:r,callback:function(e){e.code;200==e.code?(t.success({title:e.msg}),n.refreshList()):t.error({title:e.msg})}})}},expandedRowRender:function(e){return n.createElement(i,{record:e})},render:function(){var t=this.state,a=(t.loading,t.selectedRowKeys),i=(this.onSelectAll,this),l=this.state;a.length>0&&a.indexOf("0");var s=[{title:"规则名称",dataIndex:"name"},{title:"规则配置数量",dataIndex:"configCount"},{title:"模式",dataIndex:"type",render:function(e){return"10"==e?"评分模式":"结果模式"}},{title:"状态",dataIndex:"state",render:function(e,t){return 10==e?n.createElement("span",null,"启用"):n.createElement("span",null,"禁用")}},{title:"操作",key:"operation",render:function(e,t){return 10==t.state?n.createElement("span",null,n.createElement("a",{onClick:i.showModal.bind(i,"编辑",t)},"编辑"),n.createElement("span",{className:"ant-divider"}),n.createElement("a",{onClick:i.changeStaus.bind(i,"禁用",t)
},"禁用")):n.createElement("span",null,n.createElement("a",{onClick:i.showModal.bind(i,"编辑",t)},"编辑"),n.createElement("span",{className:"ant-divider"}),n.createElement("a",{onClick:i.changeStaus.bind(i,"启用",t)},"启用"))}}];return n.createElement("div",{className:"block-panel"},n.createElement("div",{className:"actionBtns",style:{marginBottom:16}},n.createElement("button",{onClick:i.showModal.bind(i,"新增"),className:"ant-btn"},"新增")),n.createElement(e,{columns:s,rowKey:this.rowKey,ref:"table",dataSource:this.state.data,rowClassName:this.rowClassName,pagination:this.state.pagination,onChange:this.handleTableChange,loading:this.state.loading}),n.createElement(r,{ref:"AddRole",visible:l.visible,ruleData:l.ruleData,fetch:i.fetch,title:l.title,hideModal:i.hideModal,record:l.record}))}})}.apply(t,n))&&(e.exports=r)},1307:function(e,t,a){var n,r;n=[a(1252),a(331),a(324),a(335),a(336),a(300),a(339),a(363),a(913),a(2)],void 0!==(r=function(e,t,a,n,r,i,l,s,o,c){var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=(o.Group,s.create),p=s.Item,m=l.Option,h=c.createClass({displayName:"AddRole",getInitialState:function(){return{keys:[],keys2:[],selectVlaue:1,selectVlaue2:1,tableInfo:[],childInfo:[],realItem:[],num:1,type:"20"}},handleCancel:function(){this.props.hideModal(),this.setState({keys:[],selectVlaue:1,selectVlaue2:1,type:"20",keys2:[]}),this.formData={},this.state.num=1,this.props.form.resetFields()},handleOk:function(e){var t=this;e.preventDefault();var a=this,n=a.props;n.record,n.title,this.state.tableInfo;this.props.form.validateFields(function(e,a){if(!e){var n=a,r=/^\s*$/;for(var l in n)if(l.indexOf("ccolumn")>-1&&!n[l])return void i.error({title:"信息不能为空"});var s={},o=[],c=[],d="",u="";s.name=n.name,s.type=n.type;0!=n.keys.length&&n.keys.forEach(function(e){var t={};t.ctable=n[e+"ccolumn"][0],t.ccolumn=n[e+"ccolumn"][1],t.formula=n[e+"formula"],t.cvalue=n[e+"cvalue"],t.integral=n[e+"integral"],t.result=n[e+"result"],t.id=n[e+"id"],o.push(t)});for(var l=0;l<o.length;l++)for(var p in o[l])if("10"!=t.state.type||-1!=p.indexOf("id")||-1!=p.indexOf("result")){if("10"==t.state.type||-1!=p.indexOf("id")||-1!=p.indexOf("integral"));else if(""===o[l][p]||void 0===o[l][p]||null===o[l][p]||r.test(o[l][p]))return void i.error({title:"信息不能为空"})}else if(""===o[l][p]||void 0===o[l][p]||null===o[l][p]||r.test(o[l][p]))return void i.error({title:"信息不能为空"});s.configList=o,"20"==t.state.type&&(n.keys2=[]);if("10"==t.state.type&&n.keys2.forEach(function(e){var t={};t.info_formula=n[e+"info_formula"],t.info_integral=n[e+"info_integral"],t.info_result=n[e+"info_result"],t.id=n[e+"id2"],c.push(t)}),"10"==t.state.type)for(var l=0;l<c.length;l++)for(var p in c[l])if(-1!=p.indexOf("id"));else if(""===c[l][p]||void 0===c[l][p]||null===c[l][p]||r.test(c[l][p]))return void i.error({title:"信息不能为空"});s.infoList=c,"编辑"==t.props.title?(d="/modules/manage/rule/saveRuleConfig.htm",u={name:s.name,id:t.props.ruleData.rule.id,configList:JSON.stringify(s.configList),infoList:JSON.stringify(s.infoList),type:s.type}):(d="/modules/manage/rule/saveRuleConfig.htm",u={name:s.name,configList:JSON.stringify(s.configList),infoList:JSON.stringify(s.infoList),type:s.type}),Utils.ajaxData({url:d,data:u,method:"post",callback:function(e){200==e.code&&t.handleCancel();var a=200==e.code?"success":"warning";i[a]({title:e.msg})}})}})},remove:function(e){var t=this.props.form,a=t.getFieldValue("keys");a=a.filter(function(t){return t!==e}),this.state.keys=a,t.setFieldsValue({keys:a})},remove2:function(e){var t=this.props.form,a=t.getFieldValue("keys2");a=a.filter(function(t){return t!==e}),this.state.keys2=a,t.setFieldsValue({keys2:a})},add:function(){var e=this.props.form,t=e.getFieldValue("keys");t=t.concat(this.state.selectVlaue++),this.setState({keys:t}),this.state.keys=t,e.setFieldsValue({keys:t})},add2:function(){var e=this.props.form,t=e.getFieldValue("keys2");t=t.concat(this.state.selectVlaue2++),this.setState({keys2:t}),this.state.keys2=t,e.setFieldsValue({keys2:t})},handleTableChange:function(e){this.setState({realItem:this.state.childInfo[e]})},formData:{},formData2:{},transformeData:function(e){var t={},a=[];return e.forEach(function(e,n){var r=n;a.push(r),t[r+"ccolumn"]=[e.ctable,e.ccolumn],t[r+"formula"]=e.formula,t[r+"cvalue"]=e.cvalue,t[r+"integral"]=Number(e.integral),t[r+"result"]=e.result,t[r+"id"]=e.id}),t.keys=a,t},transformeData2:function(e){var t={},a=[];return e.forEach(function(e,n){var r=n;a.push(r),t[r+"formula"]=e.formula,t[r+"integral"]=Number(e.integral),t[r+"result"]=e.result,t[r+"id2"]=e.id}),t.keys2=a,t},componentWillReceiveProps:function(e){if(e.visible)if("编辑"==e.title&&1==this.state.num){var t=e.ruleData.configList,a=e.ruleData.infoList,n=e.ruleData.rule;this.formData=this.transformeData(t),this.formData2=this.transformeData2(a),this.props.form.setFieldsValue({keys:this.formData.keys,keys2:this.formData2.keys2}),this.setState({selectVlaue:this.formData.keys.length+1,selectVlaue2:this.formData2.keys2.length+1,keys:this.formData.keys,keys2:this.formData2.keys2,type:n.type}),this.state.num=2}else"新增"==e.title&&(this.formData={},this.formData2={},this.setState({keys:[0]}))},componentDidMount:function(){var e=this;Utils.ajaxData({url:"/modules/manage/rule/findTable.htm",callback:function(t){if(200==t.code){var a=[];t.data.forEach(function(e){var t={};t.label=e.tableComment,t.value=e.tableName,t.children=[],e.children.forEach(function(e){var a={};a.label=e.columnComment,a.value=e.columnName,a.type=e.type,t.children.push(a)}),a.push(t)}),e.setState({tableInfo:a})}}})},change:function(e){var t=this.props.form;this.setState({type:e,keys2:"10"==e?[0]:[]}),t.setFieldsValue({keys2:"10"==e?[0]:[]})},changeInt:function(e){return parseInt(e.target.value)},changeNUm:function(e){return parseInt(e.target.value)},render:function(){var o=this,u=this.props.form,h=u.getFieldProps,f=u.getFieldValue;h("keys",{initialValue:[0]}),h("keys2",{initialValue:[]});var v=this.props,g=(this.state,[c.createElement("button",{key:"back",className:"ant-btn",onClick:this.handleCancel},"返 回"),c.createElement("button",{key:"button",className:"ant-btn ant-btn-primary",onClick:this.handleOk},"提 交")]),y=f("keys2").map(function(e){return c.createElement("div",{key:e},c.createElement(r,d({type:"hidden"},h(e+"id2",{initialValue:o.formData2?o.formData2[e+"id2"]:0}))),c.createElement(t,null,c.createElement(n,{span:"8",className:"col_h"},c.createElement(p,d({labelCol:{span:6},wrapperCol:{span:14}},{label:"结果评分:"}),c.createElement(l,d({style:{width:"100%"},placeholder:"请选择"},h(e+"info_formula",{initialValue:o.formData2?o.formData2[e+"formula"]:""})),c.createElement(m,{value:">"},">"),c.createElement(m,{value:"<"},"<"),c.createElement(m,{value:"="},"="),c.createElement(m,{value:">="},">="),c.createElement(m,{value:"<="},"<="),c.createElement(m,{value:"!="},"!="),c.createElement(m,{value:"<and<"},"<and<"),c.createElement(m,{value:"<=and<"},"<=and<"),c.createElement(m,{value:"<=and<="},"<=and<="),c.createElement(m,{value:"<and<="},"<and<=")))),c.createElement(n,{span:"6",className:"col_h"},c.createElement(p,d({labelCol:{span:6},wrapperCol:{span:15}},{label:"分值:"}),c.createElement(r,d({type:"number"},h(e+"info_integral",{onChange:o.changeInt,getValueFromEvent:o.changeNUm,initialValue:o.formData2?o.formData2[e+"integral"]:"",rules:[{type:"number",max:2147483647,message:"输入过多"}]}))))),c.createElement(n,{span:"6",className:"col_h"},c.createElement(p,d({labelCol:{},wrapperCol:{span:20}},{label:""}),c.createElement(l,d({style:{width:"100%"},placeholder:"请选择"},h(e+"info_result",{initialValue:o.formData2?o.formData2[e+"result"]:""})),c.createElement(m,{value:"10"},"不通过"),c.createElement(m,{value:"20"},"需人工复审"),c.createElement(m,{value:"30"},"通过")))),c.createElement(n,{span:"2"},c.createElement(a,{className:"ant-btn",icon:"plus",onClick:o.add2}),c.createElement("span",{style:{padding:"0 5px"}}),1==f("keys2").length?"":c.createElement(a,{className:"ant-btn",shape:"circle",icon:"minus",onClick:o.remove2.bind(o,e)}))))}),b=f("keys").map(function(i){return c.createElement("div",{key:i},c.createElement(r,d({type:"hidden"},h(i+"id",{initialValue:o.formData?o.formData[i+"id"]:0}))),c.createElement(t,null,c.createElement(n,{span:"8",className:"col_h"},c.createElement(p,d({labelCol:{span:5},wrapperCol:{span:18}},{label:"表字段:"}),c.createElement(e,d({options:o.state.tableInfo},h(i+"ccolumn",{initialValue:o.formData?o.formData[i+"ccolumn"]:""}),{placeholder:"请选择字段"})))),c.createElement(n,{span:"4",className:"col_h"},c.createElement(p,d({labelCol:{span:10},wrapperCol:{span:14}},{label:"表达式:"}),c.createElement(l,d({style:{width:"100%"},placeholder:"请选择"},h(i+"formula",{initialValue:o.formData?o.formData[i+"formula"]:"",rules:[{required:!0,message:"必填"}]})),c.createElement(m,{value:">"},">"),c.createElement(m,{value:"<"},"<"),c.createElement(m,{value:"="},"="),c.createElement(m,{value:">="},">="),c.createElement(m,{value:"<="},"<="),c.createElement(m,{value:"!="},"!="),c.createElement(m,{value:"<and<"},"<and<"),c.createElement(m,{value:"<=and<"},"<=and<"),c.createElement(m,{value:"<=and<="},"<=and<="),c.createElement(m,{value:"<and<="},"<and<="),c.createElement(m,{value:"include"},"包含"),c.createElement(m,{value:"exclude"},"不包含"),c.createElement(m,{value:"startWith"},"前X位包含"),c.createElement(m,{value:"endWith"},"后X位包含")))),c.createElement(n,{span:"3",className:"col_h"},c.createElement(p,d({labelCol:{span:6},wrapperCol:{span:15}},{label:"值:"}),c.createElement(r,d({},h(i+"cvalue",{initialValue:o.formData?o.formData[i+"cvalue"]:"",rules:[{max:20,message:"输入过多"}]}),{type:"text",autoComplete:"off"})))),"10"==o.state.type?c.createElement(n,{span:"3",className:"col_h"},c.createElement(p,d({labelCol:{span:6},wrapperCol:{span:15}},{label:"分数:"}),c.createElement(r,d({type:"number"},h(i+"integral",{onChange:o.changeInt,getValueFromEvent:o.changeNUm,initialValue:o.formData?o.formData[i+"integral"]:"",rules:[{type:"number",max:2147483647,message:"输入过多"}]}))))):c.createElement(n,{span:"3",className:"col_h"},c.createElement(p,d({labelCol:{},wrapperCol:{span:20}},{label:""}),c.createElement(l,d({style:{width:"100%"},placeholder:"请选择"},h(i+"result",{initialValue:o.formData?o.formData[i+"result"]:""})),c.createElement(m,{value:"10"},"不通过"),c.createElement(m,{value:"20"},"需人工复审"),c.createElement(m,{value:"30"},"通过")))),c.createElement(n,{span:"2",className:"col_h"},c.createElement(a,{className:"ant-btn",icon:"plus",onClick:o.add}),c.createElement("span",{style:{padding:"0 5px"}}),1==f("keys").length?"":c.createElement(a,{className:"ant-btn",shape:"circle",icon:"minus",onClick:o.remove.bind(o,i)}))))});return c.createElement(i,{maskClosable:!1,title:v.title,visible:v.visible,onCancel:this.handleCancel,width:1200,footer:g},c.createElement(s,{horizontal:!0,form:this.props.form},c.createElement(t,null,c.createElement(n,{span:"6",className:"col_h"},c.createElement(p,d({labelCol:{span:8},wrapperCol:{span:16}},{label:"规则名称："}),c.createElement(r,d({},h("name",{initialValue:"",rules:[{required:!0,message:"请输入规则名称，最多20个字!",max:20}]}),{type:"text",autoComplete:"off"})))),c.createElement(n,{span:"6",className:"col_h"},c.createElement(p,d({labelCol:{span:6},wrapperCol:{span:14}},{label:"模式："}),c.createElement(l,d({style:{width:"100%"}},h("type",{initialValue:"20",onChange:this.change})),c.createElement(m,{value:"10"},"评分模式"),c.createElement(m,{value:"20"},"结果模式"))))),f("keys2").length?c.createElement("div",null,c.createElement("p",{style:{width:"100px",height:"20px",color:"#2db7f5",fontSize:"15px",textAlign:"center",borderLeft:"2px solid #2db7f5",lineHeight:"20px",marginBottom:"10px"}},"决策引擎"),y):null,c.createElement("p",{style:{width:"100px",height:"20px",color:"#2db7f5",fontSize:"15px",textAlign:"center",borderLeft:"2px solid #2db7f5",lineHeight:"20px",marginBottom:"10px"}},"规则配置"),f("keys").length?b:null))}});return h=u()(h)}.apply(t,n))&&(e.exports=r)},1308:function(e,t,a){var n,r;n=[a(905),a(363),a(2)],void 0!==(r=function(e,t,n){var r=t.create,i=(t.Item,a(210),n.createClass({displayName:"Drop",getInitialState:function(){return{selectedRowKeys:[],loading:!1,data:[],canEdit:!0,visible:!1}},componentDidMount:function(){this.props.record&&this.fetch(this.props.record)},fetch:function(e){var t=this;this.setState({loading:!0});var a={id:e.id};Utils.ajaxData({url:"/modules/manage/rule/getRuleConfig.htm",data:a,callback:function(e){t.setState({loading:!1,data1:e.data.configList,data:e.data.infoList,record:e.data.rule})}})},rowKey:function(){return this.state.data.id},rowKey1:function(){return this.state.data1.id},clearSelectedList:function(){this.setState({selectedRowKeys:[]})},render:function(){var t=this,a=(t.props.form.getFieldProps,t.props,t.state),r=(a.loading,a.selectedRowKeys),i=(r.length,[{title:"结果评分",dataIndex:"formula"},{title:"分数",dataIndex:"integral"},{title:"结果",dataIndex:"result"},{title:"权重",dataIndex:"sort"}]),l=[{title:"表字段",dataIndex:"columnComment"},{title:"表达式",dataIndex:"formula"},{title:"值",dataIndex:"cvalue"},{title:"分数",dataIndex:"integral"},{title:"权重",dataIndex:"sort"}],s=[{title:"表字段",dataIndex:"columnComment"},{title:"表达式",dataIndex:"formula"},{title:"值",dataIndex:"cvalue"},{title:"结果",dataIndex:"result"},{title:"权重",dataIndex:"sort"}];return n.createElement("div",null,a.record?n.createElement("div",null,a.data[0]?n.createElement("div",null,n.createElement("p",{style:{width:"100px",height:"20px",color:"#2db7f5",fontSize:"15px",textAlign:"center",borderLeft:"2px solid #2db7f5",lineHeight:"20px",marginBottom:"10px"}},"决策引擎"),n.createElement(e,{columns:i,rowKey:this.rowKey,dataSource:this.state.data,loading:this.state.loading,bordered:!0})):"",n.createElement("p",{style:{width:"100px",height:"20px",color:"#2db7f5",fontSize:"15px",textAlign:"center",borderLeft:"2px solid #2db7f5",lineHeight:"20px",marginBottom:"10px"}},"规则配置"),n.createElement(e,{columns:"10"==a.record.type?l:s,rowKey:this.rowKey1,dataSource:this.state.data1,loading:this.state.loading,bordered:!0})):"")}}));return i=r()(i)}.apply(t,n))&&(e.exports=r)},1309:function(e,t,a){var n,r;n=[a(324),a(336),a(339),a(363),a(2)],void 0!==(r=function(e,t,a,n,r){var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=n.create,s=n.Item,o=a.Option,c=r.createClass({displayName:"SeachForm",getInitialState:function(){return{roleList:[]}},handleQuery:function(){var e=this.props.form.getFieldsValue();this.props.passParams({search:JSON.stringify(e),pageSize:10,currentPage:1})},handleReset:function(){this.props.form.resetFields(),this.props.passParams({pageSize:10,currentPage:1})},render:function(){var l=this.props.form.getFieldProps;return r.createElement(n,{inline:!0},r.createElement(s,{label:"规则名称:"},r.createElement(t,i({type:"text"},l("name")))),r.createElement(s,{label:"状态:"},r.createElement(a,i({style:{width:100},placeholder:"请选择"},l("state",{initialValue:""})),r.createElement(o,{value:""},"全部"),r.createElement(o,{value:"10"},"启用"),r.createElement(o,{value:"20"},"禁用"))),r.createElement(s,null,r.createElement(e,{type:"primary",onClick:this.handleQuery},"查询")),r.createElement(s,null,r.createElement(e,{type:"reset",onClick:this.handleReset},"重置")))}});return c=l()(c)}.apply(t,n))&&(e.exports=r)},1310:function(e,t,a){var n,r;n=[a(2),a(1311)],void 0!==(r=function(e,t){return e.createClass({displayName:"SystemConfig",render:function(){return e.createElement(t,null)}})}.apply(t,n))&&(e.exports=r)},1311:function(e,t,a){var n,r;n=[a(905),a(300),a(2)],void 0!==(r=function(e,t,n){t.confirm,a(210);return n.createClass({displayName:"List",getInitialState:function(){return{loading:!1,data:[]}},rowKey:function(e){return e.code},componentDidMount:function(){this.fetch()},fetch:function(){var e=this;this.setState({loading:!0}),Utils.ajaxData({url:"/modules/manage/system/config/testConfiguration.htm",callback:function(t){e.setState({loading:!1,data:t.data})}})},render:function(){var t=(this.state.loading,[{title:"配置标识",dataIndex:"code",width:"30%"},{title:"状态",dataIndex:"status",width:"30%"},{title:"参数详情",dataIndex:"value",width:"60%"}]);this.state;return n.createElement("div",{className:"block-panel"},n.createElement(e,{columns:t,rowKey:this.rowKey,dataSource:this.state.data,loading:this.state.loading,onChange:this.handleTableChange}))}})}.apply(t,n))&&(e.exports=r)},1312:function(e,t,a){var n,r;n=[a(2),a(1313),a(1316)],void 0!==(r=function(e,t,a){return e.createClass({displayName:"UserMang",getInitialState:function(){return{params:{}}},passParams:function(e){this.setState({params:e})},render:function(){return e.createElement("div",null,e.createElement("div",{className:"block-panel"},e.createElement(a,{passParams:this.passParams})),e.createElement(t,{params:this.state.params}))}})}.apply(t,n))&&(e.exports=r)},1313:function(e,t,a){var n,r;n=[a(905),a(300),a(2),a(1314),a(1315)],void 0!==(r=function(e,t,n,r,i){var l=t.confirm,s=a(210);return n.createClass({displayName:"List",getInitialState:function(){return{selectedRows:[],selectedRowKeys:[],loading:!1,data:[],pagination:{pageSize:10},canEdit:!0,visible:!1,visible1:!1}},componentWillReceiveProps:function(e,t){this.clearSelectedList(),this.fetch(e.params)},hideModal:function(){this.setState({visible:!1,visible1:!1}),this.refreshList()},showModal:function(e,t,a){var t=t;if("编辑"==e||"查看"==e){var t=t;t.officeOver&&(t.officeOver=t.officeOver.split(",")),t.roleId=t.roleId.split(","),this.refs.AddUserWin.setFieldsValue(t)}else"新增"==e&&(t=null);this.setState({canEdit:a,visible:!0,title:e,record:t})},rowKey:function(e){return e.id},handleTableChange:function(e,t,a){var n=this.state.pagination;n.current=e.current,n.pageSize=e.pageSize,this.setState({pagination:n}),this.refreshList()},fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.setState({loading:!0}),!t.pageSize){var t={};t={pageSize:this.state.pagination.pageSize,current:1}}Utils.ajaxData({url:"/modules/manage/system/user/list.htm",data:t,callback:function(a){var n=e.state.pagination;n.current=t.current,n.pageSize=t.pageSize,n.total=a.page.total,n.current||(n.current=1),e.setState({loading:!1,data:a.data,pagination:n})}})},clearSelectedList:function(){this.setState({selectedRows:[],selectedRowKeys:[]})},refreshList:function(){var e=this.state.pagination,t=s({},this.props.params,{current:e.current,pageSize:e.pageSize});this.fetch(t)},changeStatus:function(e,a){var n,r=this,i=[a.id],s="",o="";"锁定"==e?("锁定成功",n="lock",s="您是否确定锁定",o="/modules/manage/system/user/update.htm"):"解锁"==e&&("解锁成功",n="unlock",s="您是否确定解锁",o="/modules/manage/system/user/update.htm"),l({title:s,onOk:function(){Utils.ajaxData({url:o,data:{ids:i,status:n},method:"post",callback:function(e){t.success({title:e.msg}),r.refreshList()}})},onCancel:function(){}})},componentDidMount:function(){this.fetch()},onRowClick:function(e){var t=e.id,a=this.state.selectedRows,n=this.state.selectedRowKeys;n.indexOf(t)<0?(n.push(t),a.push(e)):(n.remove(t),a.remove(e)),this.setState({selectedRows:a,selectedRowKeys:n})},onSelectAll:function(e,t,a){var n=this.state.selectedRowKeys;if(e)for(var r=0;r<t.length;r++)n.push(t[r].id);else n=[];this.setState({selectedRows:t,selectedRowKeys:n})},reset:function(e,t){this.setState({record:t,title:e,visible1:!0})},render:function(){var t=this,a=this.state,l=(a.loading,a.selectedRowKeys),s=(t.onSelectAll,l.length,[{title:"真实姓名",dataIndex:"name"},{title:"用户名",dataIndex:"userName"},{title:"工号",dataIndex:"jobNumber"},{title:"角色",dataIndex:"roleName"},{title:"状态",dataIndex:"status",render:function(e,t){return 0==e?n.createElement("span",null,"正常"):1==e?n.createElement("span",null,"锁定"):n.createElement("span",null)}},{title:"操作",dataIndex:"",render:function(e,a){return n.createElement("div",{style:{textAlign:"left"}},n.createElement("a",{href:"#",onClick:t.showModal.bind(t,"编辑",a,!0)},"编辑 "),n.createElement("span",{className:"ant-divider"}),n.createElement("a",{href:"#",onClick:t.reset.bind(t,"重置密码",a)},"重置密码 "),n.createElement("span",{className:"ant-divider"}),"1"==a.status?n.createElement("a",{href:"#",onClick:t.changeStatus.bind(t,"解锁",a)},"解锁 "):n.createElement("a",{href:"#",onClick:t.changeStatus.bind(t,"锁定",a)},"锁定 "))}}]),o=this.state;return n.createElement("div",{className:"block-panel"},n.createElement("div",{className:"actionBtns",style:{marginBottom:16}},n.createElement("button",{className:"ant-btn",onClick:this.showModal.bind(this,"新增",null,!0)},"新增")),n.createElement(e,{columns:s,rowKey:this.rowKey,size:"middle",onRowClick:this.onRowClick,dataSource:this.state.data,pagination:this.state.pagination,loading:this.state.loading,onChange:this.handleTableChange}),n.createElement(r,{ref:"AddUserWin",visible:o.visible,title:o.title,hideModal:t.hideModal,record:o.record,canEdit:o.canEdit}),n.createElement(i,{ref:"Reset",visible:o.visible1,title:o.title,hideModal:t.hideModal,record:o.record}))}})}.apply(t,n))&&(e.exports=r)},1314:function(e,t,a){var n,r;n=[a(331),a(335),a(336),a(300),a(339),a(363),a(2)],void 0!==(r=function(e,t,n,r,i,l,s){var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c=l.create,d=l.Item,u=i.Option,p=a(210),m=s.createClass({displayName:"AddUserWin",getInitialState:function(){return{status:{},formData:{}}},handleCancel:function(){this.props.form.resetFields(),this.props.hideModal()},handleOk:function(e){e.preventDefault();var t=this,a=t.props,n=(a.record,a.title);this.props.form.validateFields(function(e,a){if(!e){if(a.officeOver)var i=a.officeOver.join(",");else var i="";var l=p({},{user:JSON.stringify(p({},a,{officeOver:i},{roleId:a.roleId.join(",")}))},{status:"create"});if("编辑"==n)var l=p({},{user:JSON.stringify(p({},a,{officeOver:i},{roleId:a.roleId.join(",")}))},{status:"update"});Utils.ajaxData({url:"/modules/manage/system/user/save.htm",data:l,callback:function(e){200==e.code?r.success({title:e.msg,onOk:function(){t.handleCancel()}}):r.error({title:e.msg})}})}})},componentDidMount:function(){var e=this;Utils.ajaxData({url:"/modules/manage/system/role/list.htm",method:"post",type:"json",callback:function(t){var a=t.data.map(function(e){return s.createElement(u,{key:e.id,value:String(e.id)},e.name)});e.setState({roleList:a})}})},render:function(){var a=this.props.form.getFieldProps,c=this.props,u=(this.state,[s.createElement("button",{key:"back",className:"ant-btn",onClick:this.handleCancel},"返 回"),s.createElement("button",{key:"button",className:"ant-btn ant-btn-primary",disabled:!c.canEdit,onClick:this.handleOk},"提 交")]);c.canEdit||(u=[s.createElement("button",{key:"back",className:"ant-btn",onClick:this.handleCancel},"关闭")]);var p={labelCol:{span:8},wrapperCol:{span:15}};return s.createElement(r,{title:c.title,visible:c.visible,onCancel:this.handleCancel,width:"900",footer:u},s.createElement(l,{horizontal:!0,form:this.props.form},s.createElement(n,o({},a("id",{initialValue:""}),{type:"hidden"})),s.createElement(e,null,s.createElement(t,{span:"12"},s.createElement(d,o({},p,{label:"工号:"}),s.createElement(n,o({disabled:!c.canEdit},a("jobNumber",{rules:[{required:!0,message:"必填"}]}),{type:"text",autoComplete:"off"})))),s.createElement(t,{span:"12"},s.createElement(d,o({},p,{label:"真实姓名:"}),s.createElement(n,o({disabled:!c.canEdit},a("name",{rules:[{required:!0,message:"必填"}]}),{type:"text",autoComplete:"off"}))))),s.createElement(e,null,s.createElement(t,{span:"12"},s.createElement(d,o({},p,{label:"用户名:"}),s.createElement(n,o({disabled:!c.canEdit},a("userName",{rules:[{required:!0,message:"必填"}]}),{type:"text",autoComplete:"off"})))),s.createElement(t,{span:"12"},s.createElement(d,o({},p,{label:"角色:"}),s.createElement(i,o({disabled:!c.canEdit,multiple:!0},a("roleId",{rules:[{required:!0,message:"必填",type:"array"}]})),this.state.roleList)))),s.createElement(e,null,s.createElement(t,{span:"12"},s.createElement(d,o({},p,{label:"手机号码:"}),s.createElement(n,o({disabled:!c.canEdit},a("mobile"),{type:"text"})))),s.createElement(t,{span:"12"},s.createElement(d,o({},p,{label:"固定电话:"}),s.createElement(n,o({disabled:!c.canEdit},a("phone"),{type:"text"}))))),s.createElement(e,null,s.createElement(t,{span:"12"},s.createElement(d,o({},p,{label:"邮箱:"}),s.createElement(n,o({disabled:!c.canEdit},a("email"),{type:"text"})))),s.createElement(t,{span:"12"},s.createElement(d,o({},p,{label:"备注:"}),s.createElement(n,o({disabled:!c.canEdit},a("remark"))))))))}});return m=c()(m)}.apply(t,n))&&(e.exports=r)},1315:function(e,t,a){var n,r;n=[a(331),a(335),a(336),a(300),a(913),a(339),a(363),a(2)],void 0!==(r=function(e,t,n,r,i,l,s,o){var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=s.create,u=s.Item,p=(l.Option,i.Group,a(210),o.createClass({displayName:"AddWin",getInitialState:function(){return{}},handleCancel:function(){this.props.form.resetFields(),this.props.hideModal()},handleOk:function(){var e=this,t=e.props,a=t.record,n=[a.id];this.props.form.validateFields(function(t,a){if(t)return void console.log("Errors in form!!!");Utils.ajaxData({url:"/modules/manage/system/user/update.htm",data:{ids:n,status:"editpassword",password:a.password},callback:function(t){200==t.code?r.success({title:t.msg,onOk:function(){e.handleCancel()}}):r.error({title:t.msg})}})})},render:function(){var a=this.props.form.getFieldProps,i=this.props,l=(this.state,[o.createElement("button",{key:"button",className:"ant-btn ant-btn-primary",onClick:this.handleOk},"提交"),o.createElement("button",{key:"back",className:"ant-btn",onClick:this.handleCancel},"取消")]),d={labelCol:{span:8},wrapperCol:{span:12}};return o.createElement(r,{title:i.title,visible:i.visible,onCancel:this.handleCancel,width:"500",footer:l,maskClosable:!1},o.createElement(s,{horizontal:!0,form:this.props.form},o.createElement(e,null,o.createElement(t,{span:"24"},o.createElement(u,c({},d,{label:"密码:"}),o.createElement(n,c({type:"text"},a("password",{rules:[{required:!0,message:"必填"}]}))))))))}}));return p=d()(p)}.apply(t,n))&&(e.exports=r)},1316:function(e,t,a){var n,r;n=[a(324),a(336),a(339),a(363),a(2)],void 0!==(r=function(e,t,a,n,r){var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=n.create,s=n.Item,o=a.Option,c=r.createClass({displayName:"SeachForm",getInitialState:function(){return{roleList:[]}},handleQuery:function(){var e=this.props.form.getFieldsValue();this.props.passParams({user:JSON.stringify(e),pageSize:10,current:1})},handleReset:function(){this.props.form.resetFields(),this.props.passParams({pageSize:10,current:1})},componentDidMount:function(){var e=this;Utils.ajaxData({url:"/modules/manage/system/role/list.htm",method:"post",type:"json",callback:function(t){var a=t.data.map(function(e){return r.createElement(o,{key:e.id,value:String(e.id)},e.name)});e.setState({roleList:a})}})},render:function(){var l=this.props.form.getFieldProps;return r.createElement(n,{inline:!0},r.createElement(s,{label:"工号："},r.createElement(t,l("jobNumber",{initialValue:""}))),r.createElement(s,{label:"真实姓名："},r.createElement(t,l("name",{initialValue:""}))),r.createElement(s,{label:"状态："},r.createElement(a,i({style:{width:100}},l("status",{initialValue:""})),r.createElement(o,{value:"0"},"正常"),r.createElement(o,{value:"1"},"锁定"))),r.createElement(s,{label:"角色："},r.createElement(a,i({style:{width:100},placeholder:"请选择角色"},l("roleId",{initialValue:""})),this.state.roleList)),r.createElement(s,null,r.createElement(e,{type:"primary",onClick:this.handleQuery},"查询")),r.createElement(s,null,r.createElement(e,{type:"reset",onClick:this.handleReset},"重置")))}});return c=l()(c)}.apply(t,n))&&(e.exports=r)},1317:function(e,t,a){var n,r;n=[a(2),a(1318)],void 0!==(r=function(e,t){return e.createClass({displayName:"RoleMang",render:function(){return e.createElement(t,null)}})}.apply(t,n))&&(e.exports=r)},1318:function(e,t,a){var n,r;n=[a(905),a(300),a(2),a(1319),a(1320)],void 0!==(r=function(e,t,a,n,r){var i=t.confirm;return a.createClass({displayName:"List",getInitialState:function(){return{selectedRowKeys:[],loading:!1,data:[],pagination:{},canEdit:!0,visible:!1,assignVisible:!1}},hideModal:function(){this.setState({visible:!1,assignVisible:!1});this.state.pagination;this.fetch()},showModal:function(e,t,a){var t=t;if("修改"==e){var t=t;this.refs.AddRole.setFieldsValue(t)}else"新增"==e&&(t=null);this.setState({canEdit:a,visible:!0,title:e,record:t})},showAssignModal:function(e,t){this.setState({assignVisible:!0,title:e,record:t})},rowKey:function(e){return e.id},handleTableChange:function(e,t,a){var n=this.state.pagination;n.current=e.current,this.setState({pagination:n}),this.fetch({pageSize:e.pageSize,current:e.current})},fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{pageSize:10,current:1};this.setState({loading:!0}),Utils.ajaxData({url:"/modules/manage/system/role/list.htm",data:t,callback:function(t){var a=e.state.pagination;a.total=t.totalCount,a.current||(a.current=1),e.setState({loading:!1,data:t.data,pagination:a}),e.clearList()}})},clearList:function(){this.setState({selectedRowKeys:[]})},refreshList:function(){this.fetch()},delete:function(e){var a=this;i({title:"是否确认要删除这项内容",onOk:function(){Utils.ajaxData({url:"/modules/manage/system/role/delete.htm",data:{key:e.id},method:"post",callback:function(e){t.success({title:e.msg}),a.refreshList()}})},onCancel:function(){}})},componentDidMount:function(){this.fetch()},render:function(){var t=this,i=this.state,l=(i.loading,i.selectedRowKeys),s=(this.onSelectChange,l.length,[{title:"角色名称",dataIndex:"name"},{title:"角色唯一标示",dataIndex:"nid"},{title:"是否启用",dataIndex:"isDelete",render:function(e){return 0==e?"是":"否"}},{title:"创建时间",dataIndex:"addTime"},{title:"创建人",dataIndex:"addUser"},{title:"修改时间",dataIndex:"updateTime"},{title:"修改人",dataIndex:"updateUser"},{title:"备注",dataIndex:"remark"},{title:"操作",dataIndex:"",render:function(e,n){return a.createElement("div",{style:{textAlign:"left"}},a.createElement("a",{href:"#",onClick:t.showModal.bind(null,"修改",n,!0)},"修改 "),a.createElement("span",{className:"ant-divider"}),a.createElement("a",{href:"#",onClick:t.delete.bind(null,n)},"删除"),a.createElement("span",{className:"ant-divider"}),a.createElement("a",{href:"#",onClick:t.showAssignModal.bind(null,"分配权限",n)},"分配权限"))}}]),o=this.state;return a.createElement("div",{className:"block-panel"},a.createElement("div",{className:"actionBtns",style:{marginBottom:16}},a.createElement("button",{className:"ant-btn",onClick:this.showModal.bind(this,"新增",null,!0)},"新增")),a.createElement(e,{columns:s,rowKey:this.rowKey,size:"middle",params:this.props.params,dataSource:this.state.data,pagination:this.state.pagination,loading:this.state.loading,onChange:this.handleTableChange}),a.createElement(n,{ref:"AddRole",visible:o.visible,title:o.title,hideModal:t.hideModal,record:o.record,canEdit:o.canEdit}),a.createElement(r,{ref:"AssignPermissions",visible:o.assignVisible,title:o.title,hideModal:t.hideModal,selectRecord:o.record,canEdit:o.canEdit}))}})}.apply(t,n))&&(e.exports=r)},1319:function(e,t,a){var n,r;n=[a(331),a(335),a(336),a(300),a(339),a(363),a(2)],void 0!==(r=function(e,t,n,r,i,l,s){var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c=l.create,d=l.Item,u=i.Option,p=a(210),m=s.createClass({displayName:"AddRole",getInitialState:function(){return{status:{},formData:{}}},handleCancel:function(){this.props.form.resetFields(),this.props.hideModal()},handleOk:function(e){e.preventDefault();var t=this,a=t.props,n=(a.record,a.title);this.props.form.validateFields(function(e,a){if(!e){if("新增"==n)var i=p({},{form:JSON.stringify(p({},a,{},{isDelete:a.isDelete}))},{status:"create"
});else if("修改"==n)var i=p({},{form:JSON.stringify(p({},a,{},{isDelete:a.isDelete}))},{status:"update"});Utils.ajaxData({url:"/modules/manage/system/role/save.htm",data:i,callback:function(e){200==e.code?r.success({title:e.msg,onOk:function(){t.handleCancel()}}):r.error({title:e.msg})}})}})},getRoleList:function(){return roleList.map(function(e,t){return s.createElement(u,{key:e.id},e.name)})},render:function(){var a=this.props.form.getFieldProps,c=this.props,p=(this.state,[s.createElement("button",{key:"back",className:"ant-btn",onClick:this.handleCancel},"返 回"),s.createElement("button",{key:"button",className:"ant-btn ant-btn-primary",onClick:this.handleOk},"提 交")]),m={labelCol:{span:8},wrapperCol:{span:15}};return s.createElement(r,{title:c.title,visible:c.visible,onCancel:this.handleCancel,width:"900",footer:p},s.createElement(l,{horizontal:!0,form:this.props.form},s.createElement(n,o({},a("id",{initialValue:""}),{type:"hidden"})),s.createElement(e,null,s.createElement(t,{span:"12"},s.createElement(d,o({},m,{label:"角色名称："}),s.createElement(n,o({disabled:!c.canEdit},a("name",{rules:[{required:!0,message:"必填"}]}),{type:"text"})))),s.createElement(t,{span:"12"},s.createElement(d,o({},m,{label:"角色唯一标示："}),s.createElement(n,o({disabled:!c.canEdit},a("nid",{rules:[{required:!0,message:"必填"}]}),{type:"text"}))))),s.createElement(e,null,s.createElement(t,{span:"12"},s.createElement(d,o({},m,{label:"备注："}),s.createElement(n,o({disabled:!c.canEdit},a("remark"),{type:"text"})))),s.createElement(t,{span:"12"},s.createElement(d,o({},m,{label:"是否启用"}),s.createElement(i,o({id:"select",disabled:!c.canEdit},a("isDelete",{rules:[{required:!0,message:"必填",type:"number"}]})),s.createElement(u,{value:0},"是"),s.createElement(u,{value:1},"否")))))))}});return m=c()(m)}.apply(t,n))&&(e.exports=r)},1320:function(e,t,a){var n,r;n=[a(300),a(1321),a(2)],void 0!==(r=function(e,t,a){var n=t.TreeNode;return a.createClass({displayName:"AssignPermissions",mixins:[],getInitialState:function(){return{treeData:[],checkedKeys:[],expandedKeys:[],allCheckedKey:[],allExpandedKeys:[],menus:[],btns:[]}},handleOk:function(){var t=this,a=t.props.selectRecord,n=a.id,r=t.state.checkedKeys,i=[],l=[],s=[];r.forEach(function(e){var t=e.split("-")[1];e.indexOf("menu")>-1?i.push(t):l.push(t),s.push(t)}),Utils.ajaxData({url:"/modules/manage/system/menu/save.htm",method:"post",type:"json",data:{roleId:n,checkedkey:JSON.stringify(l),menus:JSON.stringify(i)},callback:function(a){"操作成功"==a.msg?(e.success({title:a.msg}),t.props.hideModal()):e.error({title:a.msg})}})},handleCancel:function(){this.props.hideModal()},getCheckedKeys:function(e){var t=[];return function e(a){return a.forEach(function(a){1===a.checked&&t.push("menu-"+a.value),a.isPerm&&t.push("btn-"+a.id),a.children&&e(a.children)})}(e),t},getExpandedKeys:function(e){var t=this,a=[];return e.map(function(e,n){e.expanded&&a.push(e.value),e.children&&(a=a.concat(t.getExpandedKeys(e.children)))}),a},componentWillReceiveProps:function(e){e.selectRecord&&this.queryTreeData(e.selectRecord)},queryTreeData:function(e){var e=e,t=e.id,a=this;Utils.ajaxData({url:"/modules/manage/system/roleMenu/fetch.htm",method:"get",type:"json",data:{roleId:t,node:"root"},callback:function(e){var t=a.getCheckedKeys(e.data),n=a.getExpandedKeys(e.data),r=a.getAllCheckedKeys(e.data),i=a.getAllExpandedKeys(e.data);a.setState({treeData:e.data,checkedKeys:t,expandedKeys:n,allCheckedKey:r,allExpandedKeys:i})}})},handleCheck:function(e,t){var a=[],n=[];e.forEach(function(e){var t=e.split("-")[1];return e.indexOf("menu")>-1?a.push(t):n.push(t)}),t.halfCheckedKeys.forEach(function(e){return a.push(e.split("-")[1])}),this.setState({checkedKeys:e,menus:a,btns:n})},getAllCheckedKeys:function(e){var t=this,a=[];return e.map(function(e,n){a.push(e.value?"menu-"+e.value:"btn-"+e.id),e.children&&(a=a.concat(t.getAllCheckedKeys(e.children)))}),a},getAllExpandedKeys:function(e){var t=this,a=[];return e.map(function(e,n){a.push(e.value?"menu-"+e.value:"btn-"+e.id),e.children&&(a=a.concat(t.getAllCheckedKeys(e.children)))}),a},checkedAll:function(){var e=this.state.allCheckedKey;this.setState({checkedKeys:e})},uncheckedAll:function(){this.setState({checkedKeys:[]})},expandedAll:function(){var e=this.state.allExpandedKeys;this.setState({expandedKeys:e})},collapseAll:function(){this.setState({expandedKeys:[]})},handleExpand:function(e){this.setState({expandedKeys:e})},render:function(){var r=this.state,i=(r.status,this.props),l=function e(t){return t.map(function(t){return t.children?a.createElement(n,{title:t.label?t.label:t.name,key:t.id?"btn-"+t.id:"menu-"+t.value},e(t.children)):a.createElement(n,{title:t.label?t.label:t.name,key:t.id?"btn-"+t.id:"menu-"+t.value,isLeaf:t.leaf})})}(this.state.treeData);return a.createElement(e,{title:i.title,visible:i.visible,onCancel:this.handleCancel,width:"800",footer:[a.createElement("button",{key:"submit",className:"ant-btn ant-btn-primary",loading:this.state.loading,onClick:this.handleOk},"确 定"),a.createElement("button",{key:"back",className:"ant-btn",onClick:this.handleCancel},"取 消")]},a.createElement("div",{className:"actionBtns"},a.createElement("button",{className:"ant-btn",onClick:this.checkedAll},"全选"),a.createElement("button",{className:"ant-btn",onClick:this.uncheckedAll},"全不选"),a.createElement("button",{className:"ant-btn",onClick:this.expandedAll},"展开所有"),a.createElement("button",{className:"ant-btn",onClick:this.collapseAll},"收缩所有")),a.createElement("div",{style:{height:"450px",overflowY:"scroll"}},a.createElement(t,{checkable:!0,defaultExpandAll:!0,onCheck:this.handleCheck,checkedKeys:this.state.checkedKeys,onExpand:this.handleExpand,expandedKeys:this.state.expandedKeys},l)))}})}.apply(t,n))&&(e.exports=r)},1321:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){for(var a=Object.getOwnPropertyNames(t),n=0;n<a.length;n++){var r=a[n],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):r(e,t))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,c,d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=a(2),p=n(u),m=a(1322),h=n(m),f=a(422),v=n(f),g=(c=o=function(e){function t(){return i(this,t),l(this,e.apply(this,arguments))}return s(t,e),t.prototype.render=function(){var e=this.props,t=e.checkable;return t&&(t=p.default.createElement("span",{className:e.prefixCls+"-checkbox-inner"})),p.default.createElement(h.default,d({},e,{checkable:t}),this.props.children)},t}(p.default.Component),o.TreeNode=h.default.TreeNode,o.defaultProps={prefixCls:"ant-tree",checkable:!1,showIcon:!1,openAnimation:v.default},c);t.default=g,e.exports=t.default},1322:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(1323),i=n(r),l=a(1325),s=n(l);i.default.TreeNode=s.default,t.default=i.default,e.exports=t.default},1323:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){for(var a=Object.getOwnPropertyNames(t),n=0;n<a.length;n++){var r=a[n],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}return e}function i(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):r(e,t))}function c(){}Object.defineProperty(t,"__esModule",{value:!0});var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=a(2),p=n(u),m=a(210),h=n(m),f=a(311),v=n(f),g=a(1324),y=function(e){function t(a){l(this,t);var n=s(this,e.call(this,a));return["onKeyDown","onCheck"].forEach(function(e){n[e]=n[e].bind(n)}),n.contextmenuKeys=[],n.checkedKeysChange=!0,n.state={expandedKeys:n.getDefaultExpandedKeys(a),checkedKeys:n.getDefaultCheckedKeys(a),selectedKeys:n.getDefaultSelectedKeys(a),dragNodesKeys:"",dragOverNodeKey:"",dropNodeKey:""},n}return o(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this.getDefaultExpandedKeys(e,!0),a=this.getDefaultCheckedKeys(e,!0),n=this.getDefaultSelectedKeys(e,!0),r={};t&&(r.expandedKeys=t),a&&(e.checkedKeys===this.props.checkedKeys?this.checkedKeysChange=!1:this.checkedKeysChange=!0,r.checkedKeys=a),n&&(r.selectedKeys=n),this.setState(r)},t.prototype.onDragStart=function(e,t){this.dragNode=t,this.dragNodesKeys=this.getDragNodes(t);var a={dragNodesKeys:this.dragNodesKeys},n=this.getExpandedKeys(t,!1);n&&(this.getRawExpandedKeys(),a.expandedKeys=n),this.setState(a),this.props.onDragStart({event:e,node:t}),this._dropTrigger=!1},t.prototype.onDragEnterGap=function(e,t){var a=(0,g.getOffset)(t.refs.selectHandle).top,n=t.refs.selectHandle.offsetHeight,r=e.pageY;return r>a+n-2?(this.dropPosition=1,1):r<a+2?(this.dropPosition=-1,-1):(this.dropPosition=0,0)},t.prototype.onDragEnter=function(e,t){var a=this.onDragEnterGap(e,t);if(this.dragNode.props.eventKey===t.props.eventKey&&0===a)return void this.setState({dragOverNodeKey:""});var n={dragOverNodeKey:t.props.eventKey},r=this.getExpandedKeys(t,!0);r&&(this.getRawExpandedKeys(),n.expandedKeys=r),this.setState(n),this.props.onDragEnter({event:e,node:t,expandedKeys:r&&[].concat(i(r))||[].concat(i(this.state.expandedKeys))})},t.prototype.onDragOver=function(e,t){this.props.onDragOver({event:e,node:t})},t.prototype.onDragLeave=function(e,t){this.props.onDragLeave({event:e,node:t})},t.prototype.onDrop=function(e,t){var a=t.props.eventKey;if(this.setState({dragOverNodeKey:"",dropNodeKey:a}),this.dragNodesKeys.indexOf(a)>-1)return console.warn&&console.warn("can not drop to dragNode(include it's children node)"),!1;var n=t.props.pos.split("-"),r={event:e,node:t,dragNode:this.dragNode,dragNodesKeys:[].concat(i(this.dragNodesKeys)),dropPosition:this.dropPosition+Number(n[n.length-1])};0!==this.dropPosition&&(r.dropToGap=!0),"expandedKeys"in this.props&&(r.rawExpandedKeys=[].concat(i(this._rawExpandedKeys))||[].concat(i(this.state.expandedKeys))),this.props.onDrop(r),this._dropTrigger=!0},t.prototype.onExpand=function(e){var t=this,a=!e.props.expanded,n="expandedKeys"in this.props,r=[].concat(i(this.state.expandedKeys)),l=r.indexOf(e.props.eventKey);if(a&&-1===l?r.push(e.props.eventKey):!a&&l>-1&&r.splice(l,1),n||this.setState({expandedKeys:r}),this.props.onExpand(r,{node:e,expanded:a}),a&&this.props.loadData)return this.props.loadData(e).then(function(){n||t.setState({expandedKeys:r})})},t.prototype.onCheck=function(e){var t=this,a=!e.props.checked;e.props.halfChecked&&(a=!0);var n=e.props.eventKey,r=[].concat(i(this.state.checkedKeys)),l=r.indexOf(n),s={event:"check",node:e,checked:a};if(this.props.checkStrictly&&"checkedKeys"in this.props)a&&-1===l&&r.push(n),!a&&l>-1&&r.splice(l,1),s.checkedNodes=[],(0,g.loopAllChildren)(this.props.children,function(e,t,a,n){-1!==r.indexOf(n)&&s.checkedNodes.push(e)}),this.props.onCheck((0,g.getStrictlyValue)(r,this.props.checkedKeys.halfChecked),s);else{a&&-1===l&&function(){t.treeNodesStates[e.props.pos].checked=!0;var a=[];Object.keys(t.treeNodesStates).forEach(function(e){t.treeNodesStates[e].checked&&a.push(e)}),(0,g.handleCheckState)(t.treeNodesStates,(0,g.filterParentPosition)(a),!0)}(),a||(this.treeNodesStates[e.props.pos].checked=!1,this.treeNodesStates[e.props.pos].halfChecked=!1,(0,g.handleCheckState)(this.treeNodesStates,[e.props.pos],!1));var o=(0,g.getCheck)(this.treeNodesStates);s.checkedNodes=o.checkedNodes,s.checkedNodesPositions=o.checkedNodesPositions,s.halfCheckedKeys=o.halfCheckedKeys,this.checkKeys=o,this._checkedKeys=r=o.checkedKeys,"checkedKeys"in this.props||this.setState({checkedKeys:r}),this.props.onCheck(r,s)}},t.prototype.onSelect=function(e){var t=this.props,a=[].concat(i(this.state.selectedKeys)),n=e.props.eventKey,r=a.indexOf(n),l=void 0;-1!==r?(l=!1,a.splice(r,1)):(l=!0,t.multiple||(a.length=0),a.push(n));var s=[];a.length&&(0,g.loopAllChildren)(this.props.children,function(e){-1!==a.indexOf(e.key)&&s.push(e)});var o={event:"select",node:e,selected:l,selectedNodes:s};"selectedKeys"in this.props||this.setState({selectedKeys:a}),t.onSelect(a,o)},t.prototype.onMouseEnter=function(e,t){this.props.onMouseEnter({event:e,node:t})},t.prototype.onMouseLeave=function(e,t){this.props.onMouseLeave({event:e,node:t})},t.prototype.onContextMenu=function(e,t){var a=[].concat(i(this.state.selectedKeys)),n=t.props.eventKey;-1===this.contextmenuKeys.indexOf(n)&&this.contextmenuKeys.push(n),this.contextmenuKeys.forEach(function(e){var t=a.indexOf(e);-1!==t&&a.splice(t,1)}),-1===a.indexOf(n)&&a.push(n),this.setState({selectedKeys:a}),this.props.onRightClick({event:e,node:t})},t.prototype.onKeyDown=function(e){e.preventDefault()},t.prototype.getFilterExpandedKeys=function(e,t,a){var n=e[t];if(!a&&!e.autoExpandParent)return n||[];var r=[];e.autoExpandParent&&(0,g.loopAllChildren)(e.children,function(e,t,a,i){n.indexOf(i)>-1&&r.push(a)});var i=[];return(0,g.loopAllChildren)(e.children,function(t,n,l,s){a?i.push(s):e.autoExpandParent&&r.forEach(function(e){(e.split("-").length>l.split("-").length&&(0,g.isInclude)(l.split("-"),e.split("-"))||l===e)&&-1===i.indexOf(s)&&i.push(s)})}),i.length?i:n},t.prototype.getDefaultExpandedKeys=function(e,t){var a=t?void 0:this.getFilterExpandedKeys(e,"defaultExpandedKeys",!e.defaultExpandedKeys.length&&e.defaultExpandAll);return"expandedKeys"in e&&(a=(e.autoExpandParent?this.getFilterExpandedKeys(e,"expandedKeys",!1):e.expandedKeys)||[]),a},t.prototype.getDefaultCheckedKeys=function(e,t){var a=t?void 0:e.defaultCheckedKeys;return"checkedKeys"in e&&(a=e.checkedKeys||[],e.checkStrictly&&(e.checkedKeys.checked?a=e.checkedKeys.checked:Array.isArray(e.checkedKeys)||(a=[]))),a},t.prototype.getDefaultSelectedKeys=function(e,t){var a=function(t){return e.multiple?[].concat(i(t)):t.length?[t[0]]:t},n=t?void 0:a(e.defaultSelectedKeys);return"selectedKeys"in e&&(n=a(e.selectedKeys)),n},t.prototype.getRawExpandedKeys=function(){!this._rawExpandedKeys&&"expandedKeys"in this.props&&(this._rawExpandedKeys=[].concat(i(this.state.expandedKeys)))},t.prototype.getOpenTransitionName=function(){var e=this.props,t=e.openTransitionName,a=e.openAnimation;return t||"string"!=typeof a||(t=e.prefixCls+"-open-"+a),t},t.prototype.getDragNodes=function(e){var t=[],a=e.props.pos.split("-");return(0,g.loopAllChildren)(this.props.children,function(n,r,i,l){var s=i.split("-");(e.props.pos===i||a.length<s.length&&(0,g.isInclude)(a,s))&&t.push(l)}),t},t.prototype.getExpandedKeys=function(e,t){var a=e.props.eventKey,n=this.state.expandedKeys,r=n.indexOf(a),l=void 0;return r>-1&&!t?(l=[].concat(i(n)),l.splice(r,1),l):t&&-1===n.indexOf(a)?n.concat([a]):void 0},t.prototype.filterTreeNode=function(e){var t=this.props.filterTreeNode;return"function"==typeof t&&!e.props.disabled&&t.call(this,e)},t.prototype.renderTreeNode=function(e,t){var a=arguments.length<=2||void 0===arguments[2]?0:arguments[2],n=a+"-"+t,r=e.key||n,i=this.state,l=this.props,s=l.selectable;e.props.hasOwnProperty("selectable")&&(s=e.props.selectable);var o={ref:"treeNode-"+r,root:this,eventKey:r,pos:n,selectable:s,loadData:l.loadData,onMouseEnter:l.onMouseEnter,onMouseLeave:l.onMouseLeave,onRightClick:l.onRightClick,prefixCls:l.prefixCls,showLine:l.showLine,showIcon:l.showIcon,draggable:l.draggable,dragOver:i.dragOverNodeKey===r&&0===this.dropPosition,dragOverGapTop:i.dragOverNodeKey===r&&-1===this.dropPosition,dragOverGapBottom:i.dragOverNodeKey===r&&1===this.dropPosition,_dropTrigger:this._dropTrigger,expanded:-1!==i.expandedKeys.indexOf(r),selected:-1!==i.selectedKeys.indexOf(r),openTransitionName:this.getOpenTransitionName(),openAnimation:l.openAnimation,filterTreeNode:this.filterTreeNode.bind(this)};return l.checkable&&(o.checkable=l.checkable,l.checkStrictly?(i.checkedKeys&&(o.checked=-1!==i.checkedKeys.indexOf(r)||!1),l.checkedKeys.halfChecked?o.halfChecked=-1!==l.checkedKeys.halfChecked.indexOf(r)||!1:o.halfChecked=!1):(this.checkedKeys&&(o.checked=-1!==this.checkedKeys.indexOf(r)||!1),o.halfChecked=-1!==this.halfCheckedKeys.indexOf(r)),this.treeNodesStates[n]&&(0,h.default)(o,this.treeNodesStates[n].siblingPosition)),p.default.cloneElement(e,o)},t.prototype.render=function(){var e=this,t=this.props,a={className:(0,v.default)(t.className,t.prefixCls),role:"tree-node"};return t.focusable&&(a.tabIndex="0",a.onKeyDown=this.onKeyDown),t.checkable&&(this.checkedKeysChange||t.loadData)&&(t.checkStrictly?(this.treeNodesStates={},(0,g.loopAllChildren)(t.children,function(t,a,n,r,i){e.treeNodesStates[n]={siblingPosition:i}})):t._treeNodesStates?(this.treeNodesStates=t._treeNodesStates.treeNodesStates,this.halfCheckedKeys=t._treeNodesStates.halfCheckedKeys,this.checkedKeys=t._treeNodesStates.checkedKeys):function(){var a=e.state.checkedKeys,n=void 0;!t.loadData&&e.checkKeys&&e._checkedKeys&&(0,g.arraysEqual)(e._checkedKeys,a)?n=e.checkKeys:function(){var r=[];e.treeNodesStates={},(0,g.loopAllChildren)(t.children,function(t,n,i,l,s){e.treeNodesStates[i]={node:t,key:l,checked:!1,halfChecked:!1,siblingPosition:s},-1!==a.indexOf(l)&&(e.treeNodesStates[i].checked=!0,r.push(i))}),(0,g.handleCheckState)(e.treeNodesStates,(0,g.filterParentPosition)(r),!0),n=(0,g.getCheck)(e.treeNodesStates)}(),e.halfCheckedKeys=n.halfCheckedKeys,e.checkedKeys=n.checkedKeys}()),p.default.createElement("ul",d({},a,{unselectable:!0,ref:"tree"}),p.default.Children.map(t.children,this.renderTreeNode,this))},t}(p.default.Component);y.propTypes={prefixCls:u.PropTypes.string,children:u.PropTypes.any,showLine:u.PropTypes.bool,showIcon:u.PropTypes.bool,selectable:u.PropTypes.bool,multiple:u.PropTypes.bool,checkable:u.PropTypes.oneOfType([u.PropTypes.bool,u.PropTypes.node]),_treeNodesStates:u.PropTypes.object,checkStrictly:u.PropTypes.bool,draggable:u.PropTypes.bool,autoExpandParent:u.PropTypes.bool,defaultExpandAll:u.PropTypes.bool,defaultExpandedKeys:u.PropTypes.arrayOf(u.PropTypes.string),expandedKeys:u.PropTypes.arrayOf(u.PropTypes.string),defaultCheckedKeys:u.PropTypes.arrayOf(u.PropTypes.string),checkedKeys:u.PropTypes.oneOfType([u.PropTypes.arrayOf(u.PropTypes.string),u.PropTypes.object]),defaultSelectedKeys:u.PropTypes.arrayOf(u.PropTypes.string),selectedKeys:u.PropTypes.arrayOf(u.PropTypes.string),onExpand:u.PropTypes.func,onCheck:u.PropTypes.func,onSelect:u.PropTypes.func,loadData:u.PropTypes.func,onMouseEnter:u.PropTypes.func,onMouseLeave:u.PropTypes.func,onRightClick:u.PropTypes.func,onDragStart:u.PropTypes.func,onDragEnter:u.PropTypes.func,onDragOver:u.PropTypes.func,onDragLeave:u.PropTypes.func,onDrop:u.PropTypes.func,filterTreeNode:u.PropTypes.func,openTransitionName:u.PropTypes.string,openAnimation:u.PropTypes.oneOfType([u.PropTypes.string,u.PropTypes.object])},y.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,checkStrictly:!1,draggable:!1,autoExpandParent:!0,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],onExpand:c,onCheck:c,onSelect:c,onDragStart:c,onDragEnter:c,onDragOver:c,onDragLeave:c,onDrop:c},t.default=y,e.exports=t.default},1324:function(e,t,a){"use strict";function n(e){var t=void 0,a=e.userAgent,n=a.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(t=/\brv[ :]+(\d+)/g.exec(a)||[],"IE "+(t[1]||"")):"Chrome"===n[1]&&(t=a.match(/\b(OPR|Edge)\/(\d+)/))?t.slice(1).join(" ").replace("OPR","Opera"):(n=n[2]?[n[1],n[2]]:[e.appName,e.appVersion,"-?"],t=a.match(/version\/(\d+)/i),t&&n.splice(1,1,t[1]),n.join(" "))}function r(e){var t=void 0,a=void 0,n=void 0,r=void 0;return e.getClientRects().length?(r=e.getBoundingClientRect(),r.width||r.height?(t=e.ownerDocument,a=t.defaultView,n=t.documentElement,{top:r.top+a.pageYOffset-n.clientTop,left:r.left+a.pageXOffset-n.clientLeft}):r):{top:0,left:0}}function i(e){var t=1;return Array.isArray(e)&&(t=e.length),t}function l(e,t,a){return 1===t?(a.first=!0,a.last=!0):(a.first=0===e,a.last=e===t-1),a}function s(e,t,a){!function e(a,n,r){var s=i(a);g.default.Children.forEach(a,function(a,i){var o=n+"-"+i;a.props.children&&a.type&&a.type.isTreeNode&&e(a.props.children,o,{node:a,pos:o}),t(a,i,o,a.key||o,l(i,s,{}),r)})}(e,0,a)}function o(e,t){return e.every(function(e,a){return e===t[a]})}function c(e){var t={};e.forEach(function(e){var a=e.split("-").length;t[a]||(t[a]=[]),t[a].push(e)});for(var a=Object.keys(t).sort(),n=0;n<a.length;n++)!function(e){a[e+1]&&t[a[e]].forEach(function(n){for(var r=e+1;r<a.length;r++)!function(e){t[a[e]].forEach(function(r,i){o(n.split("-"),r.split("-"))&&(t[a[e]][i]=null)}),t[a[e]]=t[a[e]].filter(function(e){return e})}(r)})}(n);var r=[];return a.forEach(function(e){r=r.concat(t[e])}),r}function d(e){var t=e.match(/(.+)(-[^-]+)$/),a="";return t&&3===t.length&&(a=t[1]),a}function u(e){return e.split("-")}function p(e,t,a){var n=Object.keys(e);n.forEach(function(r,i){var l=u(r),s=!1;t.forEach(function(t){var c=u(t);l.length>c.length&&o(c,l)&&(e[r].halfChecked=!1,e[r].checked=a,n[i]=null),l[0]===c[0]&&l[1]===c[1]&&(s=!0)}),s||(n[i]=null)}),n=n.filter(function(e){return e});for(var r=0;r<t.length;r++)!function(a){!function r(i){var l=u(i).length;if(!(l<=2)){var s=0,c=0,p=d(i);n.forEach(function(n){var r=u(n);if(r.length===l&&o(u(p),r))if(s++,e[n].checked){c++;var i=t.indexOf(n);i>-1&&(t.splice(i,1),i<=a&&a--)}else e[n].halfChecked&&(c+=.5)});var m=e[p];0===c?(m.checked=!1,m.halfChecked=!1):c===s?(m.checked=!0,m.halfChecked=!1):(m.halfChecked=!0,m.checked=!1),r(p)}}(t[a]),r=a}(r)}function m(e){var t=[],a=[],n=[],r=[];return Object.keys(e).forEach(function(i){var l=e[i];l.checked?(a.push(l.key),n.push(l.node),r.push({node:l.node,pos:i})):l.halfChecked&&t.push(l.key)}),{halfCheckedKeys:t,checkedKeys:a,checkedNodes:n,checkedNodesPositions:r,treeNodesStates:e}}function h(e,t){return t?{checked:e,halfChecked:t}:e}function f(e,t){if(e===t)return!0;if(null===e||void 0===e||null===t||void 0===t)return!1;if(e.length!==t.length)return!1;for(var a=0;a<e.length;++a)if(e[a]!==t[a])return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.browser=n,t.getOffset=r,t.loopAllChildren=s,t.isInclude=o,t.filterParentPosition=c,t.handleCheckState=p,t.getCheck=m,t.getStrictlyValue=h,t.arraysEqual=f;var v=a(2),g=function(e){return e&&e.__esModule?e:{default:e}}(v)},1325:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){for(var a=Object.getOwnPropertyNames(t),n=0;n<a.length;n++){var r=a[n],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}return e}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):r(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},u=a(2),p=n(u),m=a(210),h=n(m),f=a(311),v=n(f),g=a(285),y=n(g),b=a(1324),E="undefined"!=typeof window?(0,b.browser)(window.navigator):"",S=/.*(IE|Edge).+/.test(E),k=function(e){function t(a){l(this,t);var n=s(this,e.call(this,a));return["onExpand","onCheck","onContextMenu","onMouseEnter","onMouseLeave","onDragStart","onDragEnter","onDragOver","onDragLeave","onDrop"].forEach(function(e){n[e]=n[e].bind(n)}),n.state={dataLoading:!1,dragNodeHighlight:!1},n}return o(t,e),t.prototype.componentDidMount=function(){this.props.root._treeNodeInstances||(this.props.root._treeNodeInstances=[]),this.props.root._treeNodeInstances.push(this)},t.prototype.onCheck=function(){this.props.root.onCheck(this)},t.prototype.onSelect=function(){this.props.root.onSelect(this)},t.prototype.onMouseEnter=function(e){e.preventDefault(),this.props.root.onMouseEnter(e,this)},t.prototype.onMouseLeave=function(e){e.preventDefault(),this.props.root.onMouseLeave(e,this)},t.prototype.onContextMenu=function(e){e.preventDefault(),this.props.root.onContextMenu(e,this)},t.prototype.onDragStart=function(e){e.stopPropagation(),this.setState({dragNodeHighlight:!0}),this.props.root.onDragStart(e,this);try{e.dataTransfer.setData("text/plain","")}finally{}},t.prototype.onDragEnter=function(e){e.preventDefault(),e.stopPropagation(),this.props.root.onDragEnter(e,this)},t.prototype.onDragOver=function(e){return e.preventDefault(),e.stopPropagation(),this.props.root.onDragOver(e,this),!1},t.prototype.onDragLeave=function(e){e.stopPropagation(),this.props.root.onDragLeave(e,this)},t.prototype.onDrop=function(e){e.preventDefault(),e.stopPropagation(),this.setState({dragNodeHighlight:!1}),this.props.root.onDrop(e,this)},t.prototype.onExpand=function(){var e=this,t=this.props.root.onExpand(this);t&&"object"===(void 0===t?"undefined":d(t))&&function(){var a=function(t){e.setState({dataLoading:t})};a(!0),t.then(function(){a(!1)},function(){a(!1)})}()},t.prototype.onKeyDown=function(e){e.preventDefault()},t.prototype.renderSwitcher=function(e,t){var a=e.prefixCls,n=i({},a+"-switcher",!0);return e.showLine?"0-0"===e.pos?n[a+"-roots_"+t]=!0:(n[a+"-center_"+t]=!e.last,n[a+"-bottom_"+t]=e.last):n[a+"-noline_"+t]=!0,e.disabled?(n[a+"-switcher-disabled"]=!0,p.default.createElement("span",{className:(0,v.default)(n)})):p.default.createElement("span",{className:(0,v.default)(n),onClick:this.onExpand})},t.prototype.renderCheckbox=function(e){var t=e.prefixCls,a=i({},t+"-checkbox",!0);e.checked?a[t+"-checkbox-checked"]=!0:e.halfChecked&&(a[t+"-checkbox-indeterminate"]=!0);var n=null;return"boolean"!=typeof e.checkable&&(n=e.checkable),e.disabled||e.disableCheckbox?(a[t+"-checkbox-disabled"]=!0,p.default.createElement("span",{ref:"checkbox",className:(0,v.default)(a)},n)):p.default.createElement("span",{ref:"checkbox",className:(0,v.default)(a),onClick:this.onCheck},n)},t.prototype.renderChildren=function(e){var a=this.renderFirst;this.renderFirst=1;var n=!0;!a&&e.expanded&&(n=!1);var r=e.children,l=r;if(r&&(r.type===t||Array.isArray(r)&&r.every(function(e){return e.type===t}))){var s,o=(s={},i(s,e.prefixCls+"-child-tree",!0),i(s,e.prefixCls+"-child-tree-open",e.expanded),s);e.showLine&&(o[e.prefixCls+"-line"]=!e.last);var u={};e.openTransitionName?u.transitionName=e.openTransitionName:"object"===d(e.openAnimation)&&(u.animation=(0,h.default)({},e.openAnimation),n||delete u.animation.appear),l=p.default.createElement(y.default,c({},u,{showProp:"data-expanded",transitionAppear:n,component:""}),e.expanded?p.default.createElement("ul",{className:(0,v.default)(o),"data-expanded":e.expanded},p.default.Children.map(r,function(t,a){return e.root.renderTreeNode(t,a,e.pos)},e.root)):null)}return l},t.prototype.render=function(){var e,t=this,a=this.props,n=a.prefixCls,r=a.expanded?"open":"close",l=(e={},i(e,n+"-iconEle",!0),i(e,n+"-icon_loading",this.state.dataLoading),i(e,n+"-icon__"+r,!0),e),s=!0,o=a.title,d=this.renderChildren(a);d&&d!==a.children||(d=null,a.loadData&&!a.isLeaf||(s=!1));var u={};a.draggable&&(u.onDragEnter=this.onDragEnter,u.onDragOver=this.onDragOver,u.onDragLeave=this.onDragLeave,u.onDrop=this.onDrop);var m="",h="";a.disabled?m=n+"-treenode-disabled":a.dragOver?h="drag-over":a.dragOverGapTop?h="drag-over-gap-top":a.dragOverGapBottom&&(h="drag-over-gap-bottom");var f=a.filterTreeNode(this)?"filter-node":"";return p.default.createElement("li",c({},u,{ref:"li",className:(0,v.default)(a.className,m,h,f)}),s?this.renderSwitcher(a,r):function(){var e,t=(e={},i(e,n+"-switcher",!0),i(e,n+"-switcher-noop",!0),e);return a.showLine?(t[n+"-center_docu"]=!a.last,t[n+"-bottom_docu"]=a.last):t[n+"-noline_docu"]=!0,p.default.createElement("span",{className:(0,v.default)(t)})}(),a.checkable?this.renderCheckbox(a):null,function(){var e=a.showIcon||a.loadData&&t.state.dataLoading?p.default.createElement("span",{className:(0,v.default)(l)}):null,r=p.default.createElement("span",{className:n+"-title"},o),i={className:n+"-node-content-wrapper"};return a.disabled||((a.selected||!a._dropTrigger&&t.state.dragNodeHighlight)&&(i.className+=" "+n+"-node-selected"),i.onClick=function(e){e.preventDefault(),a.selectable&&t.onSelect()},a.onRightClick&&(i.onContextMenu=t.onContextMenu),a.onMouseEnter&&(i.onMouseEnter=t.onMouseEnter),a.onMouseLeave&&(i.onMouseLeave=t.onMouseLeave),a.draggable&&(i.className+=" draggable",S&&(i.href="#"),i.draggable=!0,i["aria-grabbed"]=!0,i.onDragStart=t.onDragStart)),p.default.createElement("a",c({ref:"selectHandle",title:"string"==typeof o?o:""},i),e,r)}(),d)},t}(p.default.Component);k.isTreeNode=1,k.propTypes={prefixCls:u.PropTypes.string,disabled:u.PropTypes.bool,disableCheckbox:u.PropTypes.bool,expanded:u.PropTypes.bool,isLeaf:u.PropTypes.bool,root:u.PropTypes.object,onSelect:u.PropTypes.func},k.defaultProps={title:"---"},t.default=k,e.exports=t.default},1326:function(e,t,a){var n,r;n=[a(2)],void 0!==(r=function(e){return e.createClass({displayName:"Druid",render:function(){return e.createElement("iframe",{width:"100%",height:"1000",src:"/druid/index.html"})}})}.apply(t,n))&&(e.exports=r)},1327:function(e,t,a){var n,r;n=[a(2),a(1328)],void 0!==(r=function(e,t){return e.createClass({displayName:"MenuMang",render:function(){return e.createElement(t,null)}})}.apply(t,n))&&(e.exports=r)},1328:function(e,t,a){var n,r;n=[a(905),a(300),a(2),a(1329)],void 0!==(r=function(e,t,a,n){var r=t.confirm;return a.createClass({displayName:"List",getInitialState:function(){return{selectedRowKeys:[],loading:!1,data:[],pagination:{},expandedRowKeys:[],canEdit:!0,visible:!1,num:1}},componentWillReceiveProps:function(){},componentDidMount:function(){this.fetch()},hideModal:function(){this.setState({visible:!1,detailWin:!1,selectedRowKeys:[]}),this.fetch()},showDtail:function(e,t,a){this.setState({canEdit:a,detailWin:!0,title:e,record:t})},rowKey:function(e){return e.value},handleTableChange:function(e,t,a){this.state.pagination.current=e.current,this.fetch({pageSize:e.pageSize,current:e.current})},fetch:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setState({loading:!0}),Utils.ajaxData({url:"/modules/manage/system/perm/find.htm",data:{node:0},
callback:function(t){var a=e.state.pagination;a.total=1,a.current||(a.current=1);var n=t.data,r=[{label:"菜单目录",value:"0",children:n}];e.setState({loading:!1,data:r,pagination:a,selectedRowKeys:[]},function(){1==e.state.num&&e.expandedAll(),e.setState({num:2})})}})},refreshList:function(){this.fetch()},showAddModal:function(e,t){var a=this,n=a.state.selectedRows[0];n.text=n.label,"修改"==e?(n.parentId=n.parentId+"",n.id=n.value,this.refs.AddMenu.setFieldsValue(n)):"添加"==e&&this.refs.AddMenu.setFieldsValue({parentId:n.value}),this.setState({canEdit:t,visible:!0,title:e})},getExpandeRowKeys:function(e){var t=this,a=[];return e.length&&e.forEach(function(e,n){e.children&&(a.push(t.rowKey(e)),a=a.concat(t.getExpandeRowKeys(e.children)))}),a},expandedAll:function(){function e(e,t){return e-t}var t=this.state.data,a=this.getExpandeRowKeys(t);this.setState({expandedRowKeys:a.sort(e).reverse()})},collapseAll:function(){this.setState({expandedRowKeys:[]})},onExpandedRowsChange:function(e){this.setState({expandedRowKeys:e})},delete:function(e){var a,n=this,i=n.state.selectedRowKeys,l="",s="";"删除"==e&&(a="",l="是否缺认要删除这项内容",s="/modules/system/general/officeDelete.htm",r({title:l,onOk:function(){Utils.ajaxData({url:s,data:{ids:i,status:a},method:"post",callback:function(e){t.success({title:e.msg}),n.refreshList()}})},onCancel:function(){}}))},onRowClick:function(e){this.setState({selectedRowKeys:[e.value],selectedRows:[e]})},rowClassName:function(e,t){},render:function(){var t=this,r=this.state,i=this.state,l=(i.loading,i.selectedRowKeys),s={selectedRowKeys:l},o=l.length>0,c=!0;o&&-1===l.indexOf("0")&&(c=!1);var d=[{title:"菜单名称",dataIndex:"label"},{title:"图标",dataIndex:"iconCls"},{title:"备注",dataIndex:"remark"},{title:"排序",dataIndex:"sort"}];return a.createElement("div",{className:"block-panel"},a.createElement("div",{className:"actionBtns",style:{marginBottom:16}},a.createElement("button",{className:"ant-btn",onClick:this.expandedAll.bind(this,"展开所有",!1)},"展开所有"),a.createElement("button",{className:"ant-btn",onClick:this.collapseAll.bind(this,"收缩所有",!1)},"收缩所有"),a.createElement("button",{className:"ant-btn",onClick:this.refreshList.bind(this,"刷新",!1)},"刷新"),a.createElement("button",{className:"ant-btn",disabled:c,onClick:this.showAddModal.bind(this,"修改",!0)},"修改"),a.createElement("button",{className:"ant-btn",disabled:!o,onClick:this.showAddModal.bind(this,"添加",!0)},"添加")),a.createElement(e,{columns:d,rowKey:this.rowKey,size:"middle",ref:"table",rowSelection:s,onRowClick:this.onRowClick,dataSource:this.state.data,expandedRowKeys:this.state.expandedRowKeys,onExpandedRowsChange:this.onExpandedRowsChange,loading:this.state.loading,pagination:!1,scroll:{x:!0,y:700}}),a.createElement(n,{ref:"AddMenu",visible:r.visible,officeData:this.state.data,title:r.title,hideModal:t.hideModal,record:r.record,canEdit:r.canEdit}))}})}.apply(t,n))&&(e.exports=r)},1329:function(e,t,a){var n,r;n=[a(1330),a(335),a(336),a(300),a(339),a(1321),a(363),a(2)],void 0!==(r=function(e,t,a,n,r,i,l,s){var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c=l.create,d=l.Item,u=(i.TreeNode,r.Option),p=[];Utils.ajaxData({url:"/modules/manage/system/menu/combo/find.htm",method:"post",type:"json",callback:function(e){var t=e.data;p=t}});var m=s.createClass({displayName:"AddMenu",getInitialState:function(){return{visible:!1,status:{},formData:{}}},handleCancel:function(){this.props.form.resetFields(),this.props.hideModal()},handleOk:function(e){e.preventDefault();var t=this,a=t.props,r=(a.record,a.title);this.props.form.validateFields(function(e,i){if(!e){var l=i,s="create";"修改"==r&&(s="update"),Utils.ajaxData({url:"/modules/manage/system/menu/update.htm",data:{menu:JSON.stringify(l),status:s},callback:function(e){200==e.code&&n.success({title:e.msg,onOk:function(){t.props.form.resetFields(),a.hideModal()}})}})}})},componentDidMount:function(){var e={};if(this.props.record)var e=this.props.record;this.props.form.setFieldsValue(e)},render:function(){var i=this.props.form.getFieldProps,c=this.props,m=this.state;m.formData;p=this.props.officeData;var h=[s.createElement("button",{key:"back",className:"ant-btn",onClick:this.handleCancel},"返 回"),s.createElement("button",{key:"button",className:"ant-btn ant-btn-primary",onClick:this.handleOk},"确 定")],f={labelCol:{span:8},wrapperCol:{span:15}};return s.createElement(n,{title:c.title,visible:c.visible,onCancel:this.handleCancel,width:"900",footer:h},s.createElement(l,{horizontal:!0,form:this.props.form},s.createElement(a,o({},i("id",{initialValue:""}),{type:"hidden"})),s.createElement(t,{span:"12"},s.createElement(d,o({},f,{label:"脚本名称："}),s.createElement(a,o({disabled:!c.canEdit},i("scriptid",{rules:[{required:!0,message:"必填"}]}),{type:"text"})))),s.createElement(t,{span:"12"},s.createElement(d,o({},f,{label:"菜单名称："}),s.createElement(a,o({disabled:!c.canEdit},i("text",{rules:[{required:!0,message:"必填"}]}),{type:"text"})))),s.createElement(t,{span:"12"},s.createElement(d,o({},f,{label:"父节点："}),s.createElement("div",{className:"clearfix"},s.createElement(e,o({dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:p},i("parentId"),{placeholder:"请选择",treeDefaultExpandAll:!0}))))),s.createElement(t,{span:"12"},s.createElement(d,o({},f,{label:"图标："}),s.createElement(a,o({disabled:!c.canEdit},i("iconCls"),{type:"text"})))),s.createElement(t,{span:"12"},s.createElement(d,o({},f,{label:"菜单说明："}),s.createElement(a,o({disabled:!c.canEdit},i("remark",{rules:[{required:!0,message:"必填"}]}),{type:"text"})))),s.createElement(t,{span:"12"},s.createElement(d,o({},f,{label:"排序："}),s.createElement(a,o({disabled:!c.canEdit},i("sort",{rules:[{required:!0,message:"必填"}]}),{type:"text"})))),s.createElement(t,{span:"12"},s.createElement(d,o({},f,{label:"是否删除："}),s.createElement(r,o({id:"select",size:"large",disabled:!c.canEdit},i("isDelete",{initialValue:0})),s.createElement(u,{value:1},"是"),s.createElement(u,{value:0},"否"))))))}});return m=c()(m)}.apply(t,n))&&(e.exports=r)},1330:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){for(var a=Object.getOwnPropertyNames(t),n=0;n<a.length;n++){var r=a[n],i=Object.getOwnPropertyDescriptor(t,r);i&&i.configurable&&void 0===e[r]&&Object.defineProperty(e,r,i)}return e}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):r(e,t))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,d,u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},p=a(2),m=n(p),h=a(1331),f=n(h),v=a(311),g=n(v),y=(d=c=function(e){function t(){return l(this,t),s(this,e.apply(this,arguments))}return o(t,e),t.prototype.render=function(){var e,t=this.props,a=this.props,n=a.size,r=a.className,l=a.combobox,s=a.notFoundContent,o=a.prefixCls,c=(0,g.default)((e={},i(e,o+"-lg","large"===n),i(e,o+"-sm","small"===n),i(e,r,!!r),e)),d=this.context.antLocale;d&&d.Select&&(s=s||d.Select.notFoundContent),l&&(s=null);var p=t.treeCheckable;return p&&(p=m.default.createElement("span",{className:o+"-tree-checkbox-inner"})),m.default.createElement(f.default,u({},this.props,{treeCheckable:p,className:c,notFoundContent:s}))},t}(m.default.Component),c.TreeNode=h.TreeNode,c.SHOW_ALL=h.SHOW_ALL,c.SHOW_PARENT=h.SHOW_PARENT,c.SHOW_CHILD=h.SHOW_CHILD,c.defaultProps={prefixCls:"ant-select",transitionName:"slide-up",choiceTransitionName:"zoom",showSearch:!1,dropdownClassName:"ant-select-tree-dropdown"},c.contextTypes={antLocale:m.default.PropTypes.object},d);t.default=y,e.exports=t.default},1331:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(1332),i=n(r),l=a(1335),s=n(l);i.default.TreeNode=s.default,t.default=i.default,e.exports=t.default},1332:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(){}function s(e,t){return String((0,k.getPropValue)(t,(0,k.labelCompatible)(this.props.treeNodeFilterProp))).indexOf(e)>-1}function o(e,t){this[e]=t}function c(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return e.map(function(e,a){var n=t+"-"+a,r={title:e.label,value:e.value||String(e.key||e.label),key:e.key||e.value||n,disabled:e.disabled||!1};return e.children&&e.children.length?p.default.createElement(x.default,r,c(e.children,n)):p.default.createElement(x.default,d({},r,{isLeaf:e.isLeaf}))})}Object.defineProperty(t,"__esModule",{value:!0});var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=a(2),p=n(u),m=a(159),h=n(m),f=a(307),v=a(311),g=n(v),y=a(210),b=n(y),E=a(285),S=n(E),k=a(1333),C=a(1334),w=n(C),N=a(1335),x=n(N),P=p.default.createClass({displayName:"Select",propTypes:{children:u.PropTypes.any,multiple:u.PropTypes.bool,filterTreeNode:u.PropTypes.any,showSearch:u.PropTypes.bool,disabled:u.PropTypes.bool,showArrow:u.PropTypes.bool,tags:u.PropTypes.bool,transitionName:u.PropTypes.string,animation:u.PropTypes.string,choiceTransitionName:u.PropTypes.string,onClick:u.PropTypes.func,onChange:u.PropTypes.func,onSelect:u.PropTypes.func,onDeselect:u.PropTypes.func,onSearch:u.PropTypes.func,searchPlaceholder:u.PropTypes.string,placeholder:u.PropTypes.any,value:u.PropTypes.oneOfType([u.PropTypes.array,u.PropTypes.string,u.PropTypes.object]),defaultValue:u.PropTypes.oneOfType([u.PropTypes.array,u.PropTypes.string,u.PropTypes.object]),label:u.PropTypes.any,defaultLabel:u.PropTypes.any,labelInValue:u.PropTypes.bool,dropdownStyle:u.PropTypes.object,drodownPopupAlign:u.PropTypes.object,maxTagTextLength:u.PropTypes.number,showCheckedStrategy:u.PropTypes.oneOf(["SHOW_ALL","SHOW_PARENT","SHOW_CHILD"]),treeCheckStrictly:u.PropTypes.bool,treeIcon:u.PropTypes.bool,treeLine:u.PropTypes.bool,treeDefaultExpandAll:u.PropTypes.bool,treeCheckable:u.PropTypes.oneOfType([u.PropTypes.bool,u.PropTypes.node]),treeNodeLabelProp:u.PropTypes.string,treeNodeFilterProp:u.PropTypes.string,treeData:u.PropTypes.array,treeDataSimpleMode:u.PropTypes.oneOfType([u.PropTypes.bool,u.PropTypes.object]),loadData:u.PropTypes.func},getDefaultProps:function(){return{prefixCls:"rc-tree-select",filterTreeNode:s,showSearch:!0,allowClear:!1,placeholder:"",searchPlaceholder:"",labelInValue:!1,defaultValue:[],onClick:l,onChange:l,onSelect:l,onDeselect:l,onSearch:l,showArrow:!0,dropdownMatchSelectWidth:!0,dropdownStyle:{},notFoundContent:"Not Found",showCheckedStrategy:"SHOW_CHILD",treeCheckStrictly:!1,treeIcon:!1,treeLine:!1,treeDataSimpleMode:!1,treeDefaultExpandAll:!1,treeCheckable:!1,treeNodeFilterProp:"value",treeNodeLabelProp:"title"}},getInitialState:function(){var e=this.props,t=[];t="value"in e?(0,k.toArray)(e.value):(0,k.toArray)(e.defaultValue),this.renderedTreeData=this.renderTreeData(),t=this.addLabelToValue(e,t),t=this.getValue(e,t);this.saveInputRef=o.bind(this,"inputInstance");var a=e.open;return void 0===a&&(a=e.defaultOpen),{value:t,inputValue:"",open:a,focused:!1}},componentWillReceiveProps:function(e){if("value"in e){"no"!==this._cacheTreeNodesStates&&this._savedValue&&e.value===this._savedValue?this._cacheTreeNodesStates=!0:this._cacheTreeNodesStates=!1;var t=(0,k.toArray)(e.value);this.renderedTreeData=this.renderTreeData(e),t=this.addLabelToValue(e,t),t=this.getValue(e,t),this.setState({value:t})}},componentDidUpdate:function(){var e=this.state,t=this.props;if(e.open&&(0,k.isMultipleOrTags)(t)){var a=this.getInputDOMNode();a.value?(a.style.width="",a.style.width=a.scrollWidth+"px"):a.style.width=""}},componentWillUnmount:function(){this.clearDelayTimer(),this.dropdownContainer&&(h.default.unmountComponentAtNode(this.dropdownContainer),document.body.removeChild(this.dropdownContainer),this.dropdownContainer=null)},onInputChange:function(e){var t=e.target.value,a=this.props;this.setState({inputValue:t,open:!0}),a.onSearch(t)},onDropdownVisibleChange:function(e){var t=this;!e&&(document.activeElement,this.getInputDOMNode()),setTimeout(function(){t.setOpenState(e)},10)},onKeyDown:function(e){if(!this.props.disabled){var t=e.keyCode;this.state.open&&!this.getInputDOMNode()?this.onInputKeyDown(e):t!==f.KeyCode.ENTER&&t!==f.KeyCode.DOWN||(this.setOpenState(!0),e.preventDefault())}},onInputBlur:function(){},onInputKeyDown:function(e){var t=this.props;if(!t.disabled){var a=this.state,n=e.keyCode;if(!(0,k.isMultipleOrTags)(t)||e.target.value||n!==f.KeyCode.BACKSPACE){if(n===f.KeyCode.DOWN){if(!a.open)return this.openIfHasChildren(),e.preventDefault(),void e.stopPropagation()}else if(n===f.KeyCode.ESC)return void(a.open&&(this.setOpenState(!1),e.preventDefault(),e.stopPropagation()));a.open}else{var r=a.value.concat();if(r.length){var i=r.pop();t.onDeselect(this.isLabelInValue()?i:i.key),this.fireChange(r)}}}},onSelect:function(e,t){var a=this;if(!1===t.selected)return void this.onDeselect(t);var n=t.node,r=this.state.value,i=this.props,l=(0,k.getValuePropValue)(n),s=this.getLabelFromNode(n),o=l;this.isLabelInValue()&&(o={value:o,label:s}),i.onSelect(o,n,t);var c="check"===t.event;if((0,k.isMultipleOrTags)(i))if(c)r=this.getCheckedNodes(t,i).map(function(e){return{value:(0,k.getValuePropValue)(e),label:a.getLabelFromNode(e)}});else{if(-1!==(0,k.findIndexInValueByKey)(r,l))return;r=r.concat([{value:l,label:s}])}else{if(r.length&&r[0].value===l)return void this.setOpenState(!1);r=[{value:l,label:s}],this.setOpenState(!1)}var d={triggerValue:l,triggerNode:n};if(c){d.checked=t.checked,d.allCheckedNodes=i.treeCheckStrictly?t.checkedNodes:(0,k.flatToHierarchy)(t.checkedNodesPositions),this._checkedNodes=t.checkedNodesPositions;var u=this.refs.trigger.popupEle;this._treeNodesStates=u.checkKeys}else d.selected=t.selected;this.fireChange(r,d),this.setState({inputValue:""})},onDeselect:function(e){this.removeSelected((0,k.getValuePropValue)(e.node)),(0,k.isMultipleOrTags)(this.props)||this.setOpenState(!1),this.setState({inputValue:""})},onPlaceholderClick:function(){this.getInputDOMNode().focus()},onOuterFocus:function(){},onOuterBlur:function(){},onClearSelection:function(e){var t=this.props,a=this.state;t.disabled||(e.stopPropagation(),(a.inputValue||a.value.length)&&(this.fireChange([]),this.setOpenState(!1),this.setState({inputValue:""})))},getLabelFromNode:function(e){return(0,k.getPropValue)(e,this.props.treeNodeLabelProp)},getLabelFromProps:function(e,t){var a=this;if(void 0===t)return null;var n=null;return(0,k.loopAllChildren)(this.renderedTreeData||e.children,function(e){(0,k.getValuePropValue)(e)===t&&(n=a.getLabelFromNode(e))}),null===n?t:n},getDropdownContainer:function(){return this.dropdownContainer||(this.dropdownContainer=document.createElement("div"),document.body.appendChild(this.dropdownContainer)),this.dropdownContainer},getSearchPlaceholderElement:function(e){var t=this.props,a=void 0;return a=(0,k.isMultipleOrTagsOrCombobox)(t)?t.placeholder||t.searchPlaceholder:t.searchPlaceholder,a?p.default.createElement("span",{style:{display:e?"none":"block"},onClick:this.onPlaceholderClick,className:t.prefixCls+"-search__field__placeholder"},a):null},getInputElement:function(){var e=this.props;return p.default.createElement("span",{className:e.prefixCls+"-search__field__wrap"},p.default.createElement("input",{ref:this.saveInputRef,onBlur:this.onInputBlur,onChange:this.onInputChange,onKeyDown:this.onInputKeyDown,value:this.state.inputValue,disabled:e.disabled,className:e.prefixCls+"-search__field",role:"textbox"}),(0,k.isMultipleOrTags)(e)?null:this.getSearchPlaceholderElement(!!this.state.inputValue))},getInputDOMNode:function(){return this.inputInstance},getPopupDOMNode:function(){return this.refs.trigger.getPopupDOMNode()},getPopupComponentRefs:function(){return this.refs.trigger.getPopupEleRefs()},getValue:function(e,t){var a=this,n=t;if(e.treeCheckable&&e.treeCheckStrictly&&(this.halfCheckedValues=[],n=[],t.forEach(function(e){e.halfChecked?a.halfCheckedValues.push(e):n.push(e)})),!e.treeCheckable||e.treeCheckStrictly)return n;var r=void 0;this._cachetreeData&&this._cacheTreeNodesStates&&this._checkedNodes?this.checkedTreeNodes=r=this._checkedNodes:(this._treeNodesStates=(0,k.getTreeNodesStates)(this.renderedTreeData||e.children,n.map(function(e){return e.value})),this.checkedTreeNodes=r=this._treeNodesStates.checkedNodes);var i=function(t){return t.map(function(t){return{value:(0,k.getValuePropValue)(t.node),label:(0,k.getPropValue)(t.node,e.treeNodeLabelProp)}})},l=this.props,s=[];return"SHOW_ALL"===l.showCheckedStrategy?s=i(r):"SHOW_PARENT"===l.showCheckedStrategy?function(){var e=(0,k.filterParentPosition)(r.map(function(e){return e.pos}));s=i(r.filter(function(t){return-1!==e.indexOf(t.pos)}))}():s=i(r.filter(function(e){return!e.node.props.children})),s},getCheckedNodes:function(e,t){var a=e.checkedNodes;if(t.treeCheckStrictly)return a;var n=e.checkedNodesPositions;return"SHOW_ALL"===t.showCheckedStrategy?a=a:"SHOW_PARENT"===t.showCheckedStrategy?function(){var e=(0,k.filterParentPosition)(n.map(function(e){return e.pos}));a=n.filter(function(t){return-1!==e.indexOf(t.pos)}).map(function(e){return e.node})}():a=a.filter(function(e){return!e.props.children}),a},getDeselectedValue:function(e){var t=this.checkedTreeNodes,a=void 0;t.forEach(function(t){t.node.props.value===e&&(a=t.pos)});var n=a.split("-"),r=[],i=[];t.forEach(function(e){var t=e.pos.split("-");e.pos===a||n.length>t.length&&(0,k.isInclude)(t,n)||n.length<t.length&&(0,k.isInclude)(n,t)||(r.push(e.node.props.value),i.push(e))}),this.checkedTreeNodes=this._checkedNodes=i;var l=this.state.value.filter(function(e){return-1!==r.indexOf(e.value)});this.fireChange(l,{triggerValue:e,clear:!0})},setOpenState:function(e,t){var a=this;this.clearDelayTimer();var n=this.props,r=this.refs;this.setState({open:e},function(){if(t||e)if(e||(0,k.isMultipleOrTagsOrCombobox)(n)){var i=a.getInputDOMNode();i&&document.activeElement!==i&&i.focus()}else r.selection&&r.selection.focus()})},addLabelToValue:function(e,t){var a=this,n=t;return this.isLabelInValue()?n.forEach(function(t,r){if("[object Object]"!==Object.prototype.toString.call(n[r]))return void(n[r]={value:"",label:""});t.label=t.label||a.getLabelFromProps(e,t.value)}):n=n.map(function(t){return{value:t,label:a.getLabelFromProps(e,t)}}),n},clearDelayTimer:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)},removeSelected:function(e){var t=this.props;if(!t.disabled){if(this._cacheTreeNodesStates="no",t.treeCheckable&&("SHOW_ALL"===t.showCheckedStrategy||"SHOW_PARENT"===t.showCheckedStrategy)&&!t.treeCheckStrictly)return void this.getDeselectedValue(e);var a=void 0,n=this.state.value.filter(function(t){return t.value===e&&(a=t.label),t.value!==e});if((0,k.isMultipleOrTags)(t)){var r=e;this.isLabelInValue()&&(r={value:e,label:a}),t.onDeselect(r)}t.treeCheckable&&this.checkedTreeNodes&&this.checkedTreeNodes.length&&(this.checkedTreeNodes=this._checkedNodes=this.checkedTreeNodes.filter(function(e){return n.some(function(t){return t.value===e.node.props.value})})),this.fireChange(n,{triggerValue:e,clear:!0})}},openIfHasChildren:function(){var e=this.props;(p.default.Children.count(e.children)||(0,k.isSingleMode)(e))&&this.setOpenState(!0)},fireChange:function(e,t){var a=this,n=this.props;"value"in n||this.setState({value:e});var i=e.map(function(e){return e.value}),l=this.state.value.map(function(e){return e.value});i.length===l.length&&i.every(function(e,t){return l[t]===e})||function(){var l={preValue:[].concat(r(a.state.value))};t&&(0,b.default)(l,t);var s=null,o=e;if(a.isLabelInValue()?a.halfCheckedValues.length&&a.halfCheckedValues.forEach(function(e){o.some(function(t){return t.value===e.value})||o.push(e)}):(s=e.map(function(e){return e.label}),o=o.map(function(e){return e.value})),l.clear&&n.treeCheckable){var c=a.renderedTreeData||n.children;l.allCheckedNodes=(0,k.flatToHierarchy)((0,k.filterAllCheckedData)(i,c))}a._savedValue=(0,k.isMultipleOrTags)(n)?o:o[0],n.onChange(a._savedValue,s,l)}()},isLabelInValue:function(){var e=this.props,t=e.treeCheckable,a=e.treeCheckStrictly,n=e.labelInValue;return!(!t||!a)||(n||!1)},renderTopControlNode:function(){var e=this,t=this.state.value,a=this.props,n=a.choiceTransitionName,r=a.prefixCls,i=a.maxTagTextLength;if((0,k.isSingleMode)(a)){var l=p.default.createElement("span",{key:"placeholder",className:r+"-selection__placeholder"},a.placeholder);return t.length&&(l=p.default.createElement("span",{key:"value"},t[0].label)),p.default.createElement("span",{className:r+"-selection__rendered"},l)}var s=[];(0,k.isMultipleOrTags)(a)&&(s=t.map(function(t){var a=t.label,n=a;return i&&"string"==typeof a&&a.length>i&&(a=a.slice(0,i)+"..."),p.default.createElement("li",d({style:k.UNSELECTABLE_STYLE},k.UNSELECTABLE_ATTRIBUTE,{onMouseDown:k.preventDefaultEvent,className:r+"-selection__choice",key:t.value,title:n}),p.default.createElement("span",{className:r+"-selection__choice__remove",onClick:e.removeSelected.bind(e,t.value)}),p.default.createElement("span",{className:r+"-selection__choice__content"},a))})),s.push(p.default.createElement("li",{className:r+"-search "+r+"-search--inline",key:"__input"},this.getInputElement()));var o=r+"-selection__rendered";return(0,k.isMultipleOrTags)(a)&&n?p.default.createElement(S.default,{className:o,component:"ul",transitionName:n},s):p.default.createElement("ul",{className:o},s)},renderTreeData:function(e){var t=e||this.props;if(t.treeData){if(e&&e.treeData===this.props.treeData&&this.renderedTreeData)return this._cachetreeData=!0,this.renderedTreeData;this._cachetreeData=!1;var a=t.treeData;if(t.treeDataSimpleMode){var n={id:"id",pId:"pId",rootPId:null};"[object Object]"===Object.prototype.toString.call(t.treeDataSimpleMode)&&(0,b.default)(n,t.treeDataSimpleMode),a=(0,k.processSimpleTreeData)(t.treeData,n)}return c(a)}},render:function(){var e,t=this.props,a=(0,k.isMultipleOrTags)(t),n=this.state,r=t.className,l=t.disabled,s=t.allowClear,o=t.prefixCls,c=this.renderTopControlNode(),u={};(0,k.isMultipleOrTagsOrCombobox)(t)||(u={onKeyDown:this.onKeyDown,tabIndex:0});var m=(e={},i(e,r,!!r),i(e,o,1),i(e,o+"-open",n.open),i(e,o+"-focused",n.open||n.focused),i(e,o+"-disabled",l),i(e,o+"-enabled",!l),e),h=p.default.createElement("span",{key:"clear",className:o+"-selection__clear",onClick:this.onClearSelection});return p.default.createElement(w.default,d({},t,{treeNodes:t.children,treeData:this.renderedTreeData,_cachetreeData:this._cachetreeData,_treeNodesStates:this._treeNodesStates,halfCheckedValues:this.halfCheckedValues,multiple:a,disabled:l,visible:n.open,inputValue:n.inputValue,inputElement:this.getInputElement(),value:n.value,onDropdownVisibleChange:this.onDropdownVisibleChange,onSelect:this.onSelect,ref:"trigger"}),p.default.createElement("span",{style:t.style,onClick:t.onClick,onBlur:this.onOuterBlur,onFocus:this.onOuterFocus,className:(0,g.default)(m)},p.default.createElement("span",d({ref:"selection",key:"selection",className:o+"-selection\n            "+o+"-selection--"+(a?"multiple":"single"),role:"combobox","aria-autocomplete":"list","aria-haspopup":"true","aria-expanded":n.open},u),c,s&&!a?h:null,a||!t.showArrow?null:p.default.createElement("span",{key:"arrow",className:o+"-arrow",style:{outline:"none"}},p.default.createElement("b",null)),a?this.getSearchPlaceholderElement(!!this.state.inputValue||this.state.value.length):null)))}});P.SHOW_ALL="SHOW_ALL",P.SHOW_PARENT="SHOW_PARENT",P.SHOW_CHILD="SHOW_CHILD",t.default=P,e.exports=t.default},1333:function(e,t,a){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e){var t=e.props;if("value"in t)return t.value;if(e.key)return e.key;throw new Error("no key or value for "+e)}function l(e,t){return"value"===t?i(e):e.props[t]}function s(e){return e.combobox}function o(e){return e.multiple||e.tags||e.treeCheckable}function c(e){return o(e)||s(e)}function d(e){return!c(e)}function u(e){var t=e;return void 0===e?t=[]:Array.isArray(e)||(t=[e]),t}function p(e){e.preventDefault()}function m(e,t){for(var a=-1,n=0;n<e.length;n++)if(e[n].value===t){a=n;break}return a}function h(e){var t=e;return"label"===t&&(t="title"),t}function f(e,t){return e.every(function(e,a){return e===t[a]})}function v(e){var t=1;return Array.isArray(e)&&(t=e.length),t}function g(e,t,a){return 1===t?(a.first=!0,a.last=!0):(a.first=0===e,a.last=e===t-1),a}function y(e,t,a){!function e(a,n,r){var i=v(a);V.default.Children.forEach(a,function(a,l){var s=n+"-"+l;a&&a.props.children&&a.type&&e(a.props.children,s,{node:a,pos:s}),a&&t(a,l,s,a.key||s,g(l,i,{}),r)})}(e,0,a)}function b(e){if(!e.length)return e;var t=[],a={};e.forEach(function(e){var t=e.pos.split("-").length;a[t]||(a[t]=[]),a[t].push(e)});var n=Object.keys(a).sort(function(e,t){return t-e});return n.reduce(function(e,n){return n&&n!==e&&a[e].forEach(function(e){var r=!1;a[n].forEach(function(t){f(t.pos.split("-"),e.pos.split("-"))&&(r=!0,t.children||(t.children=[]),t.children.push(e))}),r||t.push(e)}),n}),a[n[n.length-1]].concat(t)}function E(e){var t={};e.forEach(function(e){var a=e.split("-").length;t[a]||(t[a]=[]),t[a].push(e)});for(var a=Object.keys(t).sort(),n=0;n<a.length;n++)!function(e){a[e+1]&&t[a[e]].forEach(function(n){for(var r=e+1;r<a.length;r++)!function(e){t[a[e]].forEach(function(r,i){f(n.split("-"),r.split("-"))&&(t[a[e]][i]=null)}),t[a[e]]=t[a[e]].filter(function(e){return e})}(r)})}(n);var r=[];return a.forEach(function(e){r=r.concat(t[e])}),r}function S(e){var t=e.match(/(.+)(-[^-]+)$/),a="";return t&&3===t.length&&(a=t[1]),a}function k(e){return e.split("-")}function C(e,t,a){var n=Object.keys(e);n.forEach(function(r,i){var l=k(r),s=!1;t.forEach(function(t){var o=k(t);l.length>o.length&&f(o,l)&&(e[r].halfChecked=!1,e[r].checked=a,n[i]=null),l[0]===o[0]&&l[1]===o[1]&&(s=!0)}),s||(n[i]=null)}),n=n.filter(function(e){return e});for(var r=0;r<t.length;r++)!function(a){!function r(i){var l=k(i).length;if(!(l<=2)){var s=0,o=0,c=S(i);n.forEach(function(n){var r=k(n);if(r.length===l&&f(k(c),r))if(s++,e[n].checked){o++;var i=t.indexOf(n);i>-1&&(t.splice(i,1),i<=a&&a--)}else e[n].halfChecked&&(o+=.5)});var d=e[c];0===o?(d.checked=!1,d.halfChecked=!1):o===s?(d.checked=!0,d.halfChecked=!1):(d.halfChecked=!0,d.checked=!1),r(c)}}(t[a]),r=a}(r)}function w(e,t){var a=[],n=[],r=[];return Object.keys(e).forEach(function(t){var i=e[t];i.checked?(n.push(i.key),r.push(T({},i,{pos:t}))):i.halfChecked&&a.push(i.key)}),{halfCheckedKeys:a,checkedKeys:n,checkedNodes:r,treeNodesStates:e,checkedPositions:t}}function N(e,t){var a=[],n={};return y(e,function(e,r,l,s,o){n[l]={node:e,key:s,checked:!1,halfChecked:!1,siblingPosition:o},-1!==t.indexOf(i(e))&&(n[l].checked=!0,a.push(l))}),C(n,E(a.sort()),!0),w(n,a)}function x(e){var t=arguments.length<=1||void 0===arguments[1]?function(e){return e}:arguments[1];return Array.from(e).map(function(e){var a=t(e);return a&&a.props&&a.props.children?V.default.cloneElement(a,{},x(a.props.children,t)):a})}function P(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return V.default.Children.map(e,function(e,a){var n=t+"-"+a,r={title:e.props.title,label:e.props.label||e.props.title,value:e.props.value,key:e.key,_pos:n};return e.props.children&&(r.children=P(e.props.children,n)),r})}function O(e,t){e.forEach(function(e){t(e),e.children&&O(e.children,t)})}function I(e,t){function a(e){e.forEach(function(e){if(!e.__checked){var t=i.indexOf(e.value),n=e.children;t>-1?(e.__checked=!0,s.push({node:e,pos:e._pos}),i.splice(t,1),n&&O(n,function(e){e.__checked=!0,s.push({node:e,pos:e._pos})})):n&&a(n)}})}function r(e){var t=arguments.length<=1||void 0===arguments[1]?{root:!0}:arguments[1],a=0;e.forEach(function(e){var t=e.children;if(!t||e.__checked||e.__halfChecked)e.__checked?a++:e.__halfChecked&&(a+=.5);else{var n=r(t,e);n.__checked?a++:n.__halfChecked&&(a+=.5)}});var n=e.length;return a===n?(t.__checked=!0,s.push({node:t,pos:t._pos})):a<n&&a>0&&(t.__halfChecked=!0),t.root?e:t}var i=[].concat(n(e));if(!i.length)return i;var l=P(t),s=[];return a(l),r(l),s.forEach(function(e,t){delete s[t].node.__checked,delete s[t].node._pos,s[t].node.props={title:s[t].node.title,label:s[t].node.label||s[t].node.title,value:s[t].node.value},s[t].node.children&&(s[t].node.props.children=s[t].node.children),delete s[t].node.title,delete s[t].node.label,delete s[t].node.value,delete s[t].node.children}),s}function D(e,t){function a(e){for(var n=arguments.length<=1||void 0===arguments[1]?r({},t.id,t.rootPId):arguments[1],i=[],l=0;l<e.length;l++)e[l][t.pId]===n[t.id]&&(e[l].key=e[l][t.id],i.push(e[l]),e.splice(l--,1));if(i.length&&(n.children=i,i.forEach(function(t){return a(e,t)})),n[t.id]===t.rootPId)return i}return a(e)}Object.defineProperty(t,"__esModule",{value:!0});var T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.getValuePropValue=i,t.getPropValue=l,t.isCombobox=s,t.isMultipleOrTags=o,t.isMultipleOrTagsOrCombobox=c,t.isSingleMode=d,t.toArray=u,t.preventDefaultEvent=p,t.findIndexInValueByKey=m,t.labelCompatible=h,t.isInclude=f,t.loopAllChildren=y,t.flatToHierarchy=b,t.filterParentPosition=E,t.handleCheckState=C,t.getTreeNodesStates=N,t.recursiveCloneChildren=x,t.filterAllCheckedData=I,t.processSimpleTreeData=D;var R=a(2),V=function(e){return e&&e.__esModule?e:{default:e}}(R),M={userSelect:"none",WebkitUserSelect:"none"};t.UNSELECTABLE_STYLE=M;var K={unselectable:"unselectable"};t.UNSELECTABLE_ATTRIBUTE=K},1334:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=a(2),s=n(l),o=a(159),c=n(o),d=a(311),u=n(d),p=a(166),m=n(p),h=a(1322),f=n(h),v=a(1333),g=a(307),y=n(g),b={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:0,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}}},E=s.default.createClass({displayName:"SelectTrigger",propTypes:{dropdownMatchSelectWidth:l.PropTypes.bool,dropdownPopupAlign:l.PropTypes.object,visible:l.PropTypes.bool,filterTreeNode:l.PropTypes.any,treeNodes:l.PropTypes.any,inputValue:l.PropTypes.string,prefixCls:l.PropTypes.string,popupClassName:l.PropTypes.string,children:l.PropTypes.any},getInitialState:function(){return{_expandedKeys:[],fireOnExpand:!1}},componentWillReceiveProps:function(e){e.inputValue&&e.inputValue!==this.props.inputValue&&this.setState({_expandedKeys:[],fireOnExpand:!1})},componentDidUpdate:function(){if(this.props.dropdownMatchSelectWidth&&this.props.visible){var e=this.getPopupDOMNode()
;e&&(e.style.width=c.default.findDOMNode(this).offsetWidth+"px")}},onExpand:function(e){this.setState({_expandedKeys:e,fireOnExpand:!0})},getPopupEleRefs:function(){return this.popupEle&&this.popupEle.refs},getPopupDOMNode:function(){return this.refs.trigger.getPopupDomNode()},getDropdownTransitionName:function(){var e=this.props,t=e.transitionName;return!t&&e.animation&&(t=this.getDropdownPrefixCls()+"-"+e.animation),t},getDropdownPrefixCls:function(){return this.props.prefixCls+"-dropdown"},highlightTreeNode:function(e){var t=this.props,a=e.props[(0,v.labelCompatible)(t.treeNodeFilterProp)];return"string"==typeof a&&(t.inputValue&&a.indexOf(t.inputValue)>-1)},filterTreeNode:function(e,t){if(!e)return!0;var a=this.props.filterTreeNode;return!a||!t.props.disabled&&a.call(this,e,t)},savePopupElement:function(e){this.popupEle=e},processTreeNode:function(e){var t=this,a=[];this._expandedKeys=[],(0,v.loopAllChildren)(e,function(e,n,r){t.filterTreeNode(t.props.inputValue,e)&&(a.push(r),t._expandedKeys.push(e.key))});var n=[];a.forEach(function(e){e.split("-").reduce(function(e,t){var a=e+"-"+t;return n.indexOf(a)<0&&n.push(a),a})});var r=[];(0,v.loopAllChildren)(e,function(e,t,a){n.indexOf(a)>-1&&r.push({node:e,pos:a})});var i=(0,v.flatToHierarchy)(r);return function e(t){return t.map(function(t){return t.children?s.default.cloneElement(t.node,{},e(t.children)):t.node})}(i)},renderTree:function(e,t,a,n){var r=this.props,l={multiple:n,prefixCls:r.prefixCls+"-tree",showIcon:r.treeIcon,showLine:r.treeLine,defaultExpandAll:r.treeDefaultExpandAll,filterTreeNode:this.highlightTreeNode,_treeNodesStates:r._treeNodesStates};return r.treeCheckable?(l.selectable=!1,l.checkable=r.treeCheckable,l.checkStrictly=r.treeCheckStrictly,l.onCheck=r.onSelect,r.treeCheckStrictly&&t.length?l.checkedKeys={checked:e,halfChecked:t}:l.checkedKeys=e):(l.selectedKeys=e,l.onSelect=r.onSelect),l.defaultExpandAll||(l.expandedKeys=e),l.autoExpandParent=!0,l.onExpand=this.onExpand,this._expandedKeys&&this._expandedKeys.length&&(l.expandedKeys=this._expandedKeys),this.state.fireOnExpand&&(l.expandedKeys=this.state._expandedKeys,l.autoExpandParent=!1),r.loadData&&(l.loadData=r.loadData),s.default.createElement(f.default,i({ref:this.savePopupElement},l),a)},render:function(){var e,t=this.props,a=t.multiple,n=this.getDropdownPrefixCls(),l=(e={},r(e,t.dropdownClassName,!!t.dropdownClassName),r(e,n+"--"+(a?"multiple":"single"),1),e),o=t.visible,c=a||t.combobox||!t.showSearch?null:s.default.createElement("span",{className:n+"-search"},t.inputElement),d=void 0;t._cachetreeData&&this.treeNodes?d=this.treeNodes:(d=function e(t){return y.default.Children.toArray(t).map(function(t){return t&&t.props.children?s.default.createElement(h.TreeNode,i({},t.props,{key:t.key}),e(t.props.children)):s.default.createElement(h.TreeNode,i({},t.props,{key:t.key}))})}(t.treeData||t.treeNodes),this.treeNodes=d),t.inputValue&&(d=this.processTreeNode(d));var p=[],f=[];(0,v.loopAllChildren)(d,function(e){t.value.some(function(t){return t.value===(0,v.getValuePropValue)(e)})&&p.push(e.key),t.halfCheckedValues&&t.halfCheckedValues.some(function(t){return t.value===(0,v.getValuePropValue)(e)})&&f.push(e.key)});var g=void 0;d.length||(t.notFoundContent&&(g=s.default.createElement("span",null,t.notFoundContent)),c||(o=!1));var E=s.default.createElement("div",null,c,g||this.renderTree(p,f,d,a));return s.default.createElement(m.default,{action:t.disabled?[]:["click"],ref:"trigger",popupPlacement:"bottomLeft",builtinPlacements:b,popupAlign:this.props.dropdownPopupAlign,prefixCls:n,popupTransitionName:this.getDropdownTransitionName(),onPopupVisibleChange:t.onDropdownVisibleChange,popup:E,popupVisible:o,popupClassName:(0,u.default)(l),popupStyle:t.dropdownStyle},this.props.children)}});t.default=E,e.exports=t.default},1335:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t,a){for(var n=!0;n;){var r=e,i=t,l=a;n=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,i);if(void 0!==s){if("value"in s)return s.value;var o=s.get;if(void 0===o)return;return o.call(l)}var c=Object.getPrototypeOf(r);if(null===c)return;e=c,t=i,a=l,n=!0,s=c=void 0}},l=a(2),s=function(e){return e&&e.__esModule?e:{default:e}}(l),o=function(e){function t(){n(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return r(t,e),t}(s.default.Component);t.default=o,o.propTypes={value:s.default.PropTypes.string},e.exports=t.default},1336:function(e,t,a){var n,r;n=[a(2),a(1337),a(1341)],void 0!==(r=function(e,t,a){return e.createClass({displayName:"DictionaryMang",getInitialState:function(){return{params:{pageSize:5,current:1}}},passParams:function(e){this.setState({params:e})},render:function(){return e.createElement("div",null,e.createElement("div",{className:"block-panel"},e.createElement(a,{passParams:this.passParams})),e.createElement(t,{params:this.state.params}))}})}.apply(t,n))&&(e.exports=r)},1337:function(e,t,a){var n,r;n=[a(905),a(300),a(2),a(1338),a(1340)],void 0!==(r=function(e,t,n,r,i){var l=t.confirm,s=a(210);return n.createClass({displayName:"DicList",getInitialState:function(){return{selectedRowKeys:[],loading:!1,data:[],pagination:{pageSize:5,current:1},canEdit:!0,visible:!1}},componentWillReceiveProps:function(e,t){this.fetch(e.params)},hideModal:function(){this.setState({visible:!1}),this.refreshList();this.state.pagination},showModal:function(e,t,a){var t=t;if("修改"==e){var t=t;this.refs.AddDic.setFieldsValue(t)}else"新增"==e&&(t=null);this.setState({canEdit:a,visible:!0,title:e,record:t})},rowKey:function(e){return e.id},onSelectChange:function(e){this.setState({selectedRowKeys:e})},handleTableChange:function(e,t,a){var n=this.state.pagination;n.current=e.current,this.setState({pagination:n}),this.refreshList()},componentDidMount:function(){this.fetch(this.props.params)},fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{pageSize:5,current:1};this.setState({loading:!0}),Utils.ajaxData({url:"/modules/manage/system/dict/page.htm",data:t,callback:function(a){var n=e.state.pagination;n.current=t.current,n.total=a.page.total,n.current||(n.current=1),e.setState({loading:!1,data:a.data,pagination:n}),e.clearList()}})},clearList:function(){this.setState({selectedRowKeys:[]})},refreshList:function(){var e=this.state.pagination,t=s({},this.props.params,{current:e.current,pageSize:e.pageSize});this.fetch(t)},delete:function(e){var a=this;l({title:"是否确认要删除这项内容",onOk:function(){Utils.ajaxData({url:"/modules/manage/system/dict/delete.htm",data:{id:e.id},method:"post",callback:function(e){var n="200"==e.code?"success":"error";t[n]({title:e.msg}),a.refreshList()}})},onCancel:function(){}})},onRowClick:function(e){this.setState({selectedRowKeys:[e.id]})},render:function(){var t=this,a=this.state,l=(a.loading,a.selectedRowKeys),s={type:"radio",selectedRowKeys:l},o=(l.length,[{title:"字典类型",dataIndex:"name"},{title:"类型代码",dataIndex:"code"},{title:"备注",dataIndex:"remark"},{title:"排序",dataIndex:"sort"},{title:"操作",dataIndex:"",render:function(e,a){return n.createElement("div",{style:{textAlign:"left"}},n.createElement("a",{href:"#",onClick:t.showModal.bind(t,"修改",a,!0)},"修改 "),n.createElement("a",{href:"#",onClick:t.delete.bind(t,a)},"删除 "))}}]),c=this.state;return n.createElement("div",{className:"block-panel"},n.createElement("div",{className:"actionBtns",style:{marginBottom:16}},n.createElement("button",{className:"ant-btn",onClick:this.showModal.bind(this,"新增",null,!0)},"新增")),n.createElement(e,{columns:o,rowKey:this.rowKey,size:"middle",params:this.props.params,rowSelection:s,dataSource:this.state.data,onRowClick:this.onRowClick,pagination:this.state.pagination,loading:this.state.loading,onChange:this.handleTableChange}),n.createElement(r,{parentId:l[0]}),n.createElement(i,{ref:"AddDic",visible:c.visible,title:c.title,hideModal:t.hideModal,record:c.record,canEdit:c.canEdit}))}})}.apply(t,n))&&(e.exports=r)},1338:function(e,t,a){var n,r;n=[a(905),a(300),a(2),a(1339)],void 0!==(r=function(e,t,n,r){var i=t.confirm,l=a(210),s={pageSize:10,current:1};return n.createClass({displayName:"DictionaryList",getInitialState:function(){return{selectedRowKeys:[],loading:!1,data:[],pagination:{},canEdit:!0,visible:!1}},componentWillReceiveProps:function(e,t){var a,n=e.parentId;a=n?l({},{id:n},s):s,this.fetch(a)},hideModal:function(){this.setState({visible:!1});var e=l({},{id:this.props.parentId},s);this.fetch(e)},showModal:function(e,t,a){var n={};"修改"==e?(n=t,n.parentId=this.props.parentId):"新增字项"==e&&(n.parentId=this.props.parentId),this.refs.AddDictionary.setFieldsValue(n),this.setState({canEdit:a,visible:!0,title:e,record:n})},rowKey:function(e){return e.id},handleTableChange:function(e,t,a){var n=this.state.pagination;n.current=e.current,this.setState({pagination:n}),this.fetch({pageSize:e.pageSize,current:e.current,id:this.props.parentId})},fetch:function(e){var t=this;this.setState({loading:!0}),null==e&&(e=s),Utils.ajaxData({url:"/modules/manage/system/dict/detail/find.htm",data:e,callback:function(a){var n=t.state.pagination;n.current=e.current,200==a.code?n.total=a.page.total:n.total=a.total,n.current||(n.current=1),t.setState({loading:!1,data:a.data,pagination:n}),t.clearList()}})},clearList:function(){this.setState({selectedRowKeys:[]})},refreshList:function(){this.fetch()},delete:function(e){var a=this;i({title:"是否确认要删除这项内容",onOk:function(){Utils.ajaxData({url:"/modules/manage/system/dict/detail/delete.htm",data:{id:e.id},method:"post",callback:function(e){t.success({title:e.msg}),a.refreshList()}})},onCancel:function(){}})},render:function(){var t=this,a=(this.state.loading,[{title:"父节点",dataIndex:"parentId"},{title:"名称",dataIndex:"itemValue"},{title:"代码",dataIndex:"itemCode"},{title:"操作",dataIndex:"",render:function(e,a){return n.createElement("div",{style:{textAlign:"left"}},n.createElement("a",{href:"#",onClick:t.showModal.bind(t,"修改",a,!0)},"修改 "),n.createElement("a",{href:"#",onClick:t.delete.bind(t,a)},"删除 "))}}]),i=this.state;return n.createElement("div",{className:"block-panel"},n.createElement("div",{className:"actionBtns",style:{marginBottom:16}},n.createElement("button",{className:"ant-btn",onClick:this.showModal.bind(this,"新增字项",null,!0)},"新增字项")),n.createElement(e,{columns:a,rowKey:this.rowKey,size:"middle",params:this.props.params,dataSource:this.state.data,pagination:this.state.pagination,loading:this.state.loading,onChange:this.handleTableChange}),n.createElement(r,{ref:"AddDictionary",visible:i.visible,title:i.title,hideModal:t.hideModal,record:i.record,canEdit:i.canEdit}))}})}.apply(t,n))&&(e.exports=r)},1339:function(e,t,a){var n,r;n=[a(335),a(336),a(300),a(339),a(363),a(2)],void 0!==(r=function(e,t,n,r,i,l){var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=i.create,c=i.Item,d=r.Option,u=a(210),p=l.createClass({displayName:"AddDictionary",getInitialState:function(){return{status:{},formData:{}}},handleCancel:function(){this.props.form.resetFields(),this.props.hideModal()},handleOk:function(e){e.preventDefault();var t=this,a=t.props,r=(a.record,a.title);this.props.form.validateFields(function(e,a){if(!e){var i=u({},{form:JSON.stringify(u({},a,{}))},{status:"create"});if("修改"==r)var i=u({},{form:JSON.stringify(u({},a,{}))},{status:"update"});Utils.ajaxData({url:"/modules/manage/system/dict/detail/save.htm",data:i,callback:function(e){200==e.code?n.success({title:e.msg,onOk:function(){t.handleCancel()}}):n.error({title:e.msg})}})}})},getRoleList:function(){return roleList.map(function(e,t){return l.createElement(d,{key:e.id},e.name)})},render:function(){var a=this.props.form.getFieldProps,r=this.props,o=(this.state,[l.createElement("button",{key:"back",className:"ant-btn",onClick:this.handleCancel},"返 回"),l.createElement("button",{key:"button",className:"ant-btn ant-btn-primary",onClick:this.handleOk},"提 交")]),d={labelCol:{span:8},wrapperCol:{span:15}};return l.createElement(n,{title:r.title,visible:r.visible,onCancel:this.handleCancel,width:"900",footer:o},l.createElement(i,{horizontal:!0,form:this.props.form},l.createElement(t,s({},a("id",{initialValue:""}),{type:"hidden"})),l.createElement(e,{span:"12"},l.createElement(c,s({},d,{label:"父节点"}),l.createElement(t,s({disabled:!0},a("parentId"),{type:"text",autoComplete:"off"})))),l.createElement(e,{span:"12"},l.createElement(c,s({},d,{label:"字典名称"}),l.createElement(t,s({disabled:!r.canEdit},a("itemValue",{rules:[{required:!0,message:"必填"}]}),{type:"text",autoComplete:"off"})))),l.createElement(e,{span:"12"},l.createElement(c,s({},d,{label:"字典代码"}),l.createElement(t,s({disabled:!r.canEdit},a("itemCode",{rules:[{required:!0,message:"必填"}]}),{type:"text",autoComplete:"off"}))))))}});return p=o()(p)}.apply(t,n))&&(e.exports=r)},1340:function(e,t,a){var n,r;n=[a(1233),a(335),a(336),a(300),a(339),a(363),a(2)],void 0!==(r=function(e,t,n,r,i,l,s){var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c=l.create,d=l.Item,u=i.Option,p=a(210),m=s.createClass({displayName:"AddDic",getInitialState:function(){return{status:{},formData:{}}},handleCancel:function(){this.props.form.resetFields(),this.props.hideModal()},handleOk:function(e){e.preventDefault();var t=this,a=t.props,n=(a.record,a.title);this.props.form.validateFields(function(e,a){if(!e){var i=p({},{form:JSON.stringify(a)},{status:"create"});if("修改"==n)var i=p({},{form:JSON.stringify(a)},{status:"update"});Utils.ajaxData({url:"/modules/manage/system/dict/save.htm",data:i,callback:function(e){200==e.code?r.success({title:e.msg,onOk:function(){t.handleCancel()}}):r.error({title:e.msg})}})}})},getRoleList:function(){return roleList.map(function(e,t){return s.createElement(u,{key:e.id},e.name)})},render:function(){var a=this.props.form.getFieldProps,i=this.props,c=(this.state,[s.createElement("button",{key:"back",className:"ant-btn",onClick:this.handleCancel},"返 回"),s.createElement("button",{key:"button",className:"ant-btn ant-btn-primary",onClick:this.handleOk},"提 交")]),u={labelCol:{span:8},wrapperCol:{span:15}};return s.createElement(r,{title:i.title,visible:i.visible,onCancel:this.handleCancel,width:"900",footer:c},s.createElement(l,{horizontal:!0,form:this.props.form},s.createElement(n,o({},a("id",{initialValue:""}),{type:"hidden"})),s.createElement(t,{span:"12"},s.createElement(d,o({},u,{label:"字典类型："}),s.createElement(n,o({disabled:!i.canEdit},a("name",{rules:[{required:!0,message:"必填"}]}),{type:"text",autoComplete:"off"})))),s.createElement(t,{span:"12"},s.createElement(d,o({},u,{label:"类型代码："}),s.createElement(n,o({disabled:!i.canEdit},a("code",{rules:[{required:!0,message:"必填"}]}),{type:"text",autoComplete:"off"})))),s.createElement(t,{span:"12"},s.createElement(d,o({},u,{label:"排序："}),s.createElement(e,o({disabled:!i.canEdit,style:{width:"100%"}},a("sort",{rules:[{required:!0,message:"必填",type:"number"}]}),{autoComplete:"off"})))),s.createElement(t,{span:"12"},s.createElement(d,o({},u,{label:"备注："}),s.createElement(n,o({disabled:!i.canEdit},a("remark",{rules:[{required:!0,message:"必填"}]}),{type:"text",autoComplete:"off"}))))))}});return m=c()(m)}.apply(t,n))&&(e.exports=r)},1341:function(e,t,a){var n,r;n=[a(324),a(336),a(339),a(363),a(2)],void 0!==(r=function(e,t,a,n,r){var i=n.create,l=n.Item,s=(a.Option,r.createClass({displayName:"SeachForm",getInitialState:function(){return{roleList:[]}},handleQuery:function(){var e=this.props.form.getFieldsValue();this.props.passParams({search:JSON.stringify(e),pageSize:5,current:1})},handleReset:function(){this.props.form.resetFields(),this.props.passParams({pageSize:5,current:1})},render:function(){var a=this.props.form.getFieldProps;return r.createElement(n,{inline:!0},r.createElement(l,{label:"字典类型："},r.createElement(t,a("name",{initialValue:""}))),r.createElement(l,{label:"类型代码："},r.createElement(t,a("code",{initialValue:""}))),r.createElement(l,null,r.createElement(e,{type:"primary",onClick:this.handleQuery},"查询")),r.createElement(l,null,r.createElement(e,{type:"reset",onClick:this.handleReset},"重置")))}}));return s=i()(s)}.apply(t,n))&&(e.exports=r)},1342:function(e,t,a){var n,r;n=[a(2),a(1343),a(1348)],void 0!==(r=function(e,t,a){return e.createClass({displayName:"SystemParameterSettings",getInitialState:function(){return{params:{pageSize:10,current:1}}},passParams:function(e){this.setState({params:e})},btnParamsFun:function(e){this.setState({btnParams:e})},render:function(){return e.createElement("div",null,e.createElement("div",{className:"block-panel"},e.createElement(a,{passParams:this.passParams,btnParamsFun:this.btnParamsFun})),e.createElement(t,{params:this.state.params,btnParams:this.state.btnParams,btnParamsFun:this.btnParamsFun}))}})}.apply(t,n))&&(e.exports=r)},1343:function(e,t,a){var n,r;n=[a(425),a(300),a(2),a(1344),a(1345),a(1346)],void 0!==(r=function(e,t,n,r,i){var l=t.confirm,s=e.TabPane,o=a(210);return n.createClass({displayName:"List",getInitialState:function(){return{selectedRowKeys:[],loading:!1,data:[],pagination:{pageSize:10,current:1},canEdit:!0,visible:!1,condition:[]}},componentWillReceiveProps:function(e,t){var a=this.state.keyPanes?this.state.keyPanes:"",n=e.params,r=e.btnParams?e.btnParams:{};if(n.searchParams){var i=JSON.parse(n.searchParams);i.type=a,n.searchParams=JSON.stringify(i)}else n.searchParams=JSON.stringify({type:a});1==r.addBtn&&this.showModal("新增",null,!0),1==r.refreshBtn&&this.refresh("刷新",null,!0),this.fetch(n)},hideModal:function(){this.setState({visible:!1}),this.handleRefreshList();this.state.pagination;this.props.btnParamsFun({addBtn:!1,refreshBtn:!1})},showModal:function(e,t,a){var n=this,t=t;if("修改"==e){var t=t;t.type=String(t.type),this.refs.AddWin.setFieldsValue(t)}else"新增"==e&&(t=null);Utils.ajaxData({url:"/modules/manage/system/config/list.htm",data:{pageSize:15,current:1},callback:function(r){n.setState({canEdit:a,title:e,record:t,visible:!0,condition:r.dicData})}})},rowKey:function(e){return e.id},onSelectChange:function(e){this.setState({selectedRowKeys:e})},handleTableChange:function(e,t,a){var n=this.state.pagination;n.current=e.current,this.setState({pagination:n}),this.handleRefreshList()},handleRefreshList:function(){var e=this.state.pagination,t=this.state.keyPanes,a=o({},this.props.params,{current:e.current,pageSize:e.pageSize,searchParams:JSON.stringify({type:t})});this.fetch(a)},componentDidMount:function(){var e=this,t=this.props.params,a={code:"SYSTEM_TYPE"};Utils.ajaxData({url:"/modules/manage/system/dict/listByTypeCode.htm",data:a,callback:function(a){t.searchParams=JSON.stringify({type:a.data[0].itemCode}),e.fetch(t),e.setState({tabData:a.data,keyPanes:a.data[0].itemCode})}})},fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{pageSize:10,current:1};this.setState({loading:!0}),Utils.ajaxData({url:"/modules/manage/system/config/list.htm",data:t,callback:function(a){var n=e.state.pagination;n.current=t.current,n.total=a.page.total,n.current||(n.current=1),e.setState({loading:!1,data:a.data,pagination:n}),e.clearList()}})},clearList:function(){this.setState({selectedRowKeys:[]})},changeStatus:function(e,a){var n=this,r={};r="禁用"==e?{id:a.id,status:0}:{id:a.id,status:1},l({title:"是否确认",onOk:function(){Utils.ajaxData({url:"/modules/manage/system/config/delete.htm",data:r,method:"post",callback:function(e){t.success({title:e.msg}),n.handleRefreshList()}})},onCancel:function(){}})},onRowClick:function(e){this.setState({selectedRowKeys:[e.id]})},refresh:function(){var e=this;l({title:"是否确认刷新",onOk:function(){Utils.ajaxData({url:"/modules/manage/system/config/reload.htm",method:"post",callback:function(a){t.success({title:a.msg,onOk:function(){e.hideModal()}}),e.handleRefreshList()}})},onCancel:function(){e.hideModal()}})},changePanes:function(e){var t=this,a=o({},this.props.params,{current:1,pageSize:10,searchParams:JSON.stringify({type:e})});Utils.ajaxData({url:"/modules/manage/system/config/list.htm",data:a,callback:function(n){var r=t.state.pagination;r.current=a.current,r.total=n.page.total,r.current||(r.current=1),t.setState({loading:!1,data:n.data,keyPanes:e,pagination:r})}})},render:function(){var t=this,a=this,l=this.state,o=(l.loading,l.selectedRowKeys),c=(o.length,this.state),d=[];return(this.state.tabData?this.state.tabData:[]).map(function(e){var a=n.createElement(s,{tab:e.itemValue,key:e.itemCode},n.createElement(i,{record:c.data,keyPanes:c.keyPanes,pagination:t.state.pagination,handleTableChange:t.handleTableChange,changeStatus:t.changeStatus,showModal:t.showModal}));d.push(a)}),n.createElement("div",{className:"block-panel"},n.createElement(e,{onChange:this.changePanes,className:"contrationPanel",type:"card"},d),n.createElement(r,{ref:"AddWin",visible:c.visible,condition:c.condition,title:c.title,hideModal:a.hideModal,record:c.record,canEdit:c.canEdit}))}})}.apply(t,n))&&(e.exports=r)},1344:function(e,t,a){var n,r;n=[a(331),a(335),a(336),a(300),a(339),a(363),a(2)],void 0!==(r=function(e,t,n,r,i,l,s){var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c=l.create,d=l.Item,u=i.Option,p=a(210),m=s.createClass({displayName:"AddWin",getInitialState:function(){return{status:{},formData:{}}},handleCancel:function(){this.props.form.resetFields(),this.props.hideModal()},handleOk:function(e){var t=this;e.preventDefault();var a=this,n=a.props,i=(n.record,n.title);this.props.form.validateFields(function(e,a){if(!e){if("新增"==i)var l=p({},{json:JSON.stringify(p({},a,{},{isDelete:a.isDelete}))},{status:"create"});else if("修改"==i)var l=p({},{json:JSON.stringify(p({},a,{},{isDelete:a.isDelete}))},{status:"update"});Utils.ajaxData({url:"/modules/manage/system/config/save.htm",data:l,callback:function(e){200==e.code&&r.success({title:e.msg,onOk:function(){t.handleCancel(),n.hideModal()}})}})}})},getRoleList:function(){return roleList.map(function(e,t){return s.createElement(u,{key:e.id},e.name)})},render:function(){for(var a=this.props.form.getFieldProps,c=this.props,p=(this.state,[s.createElement("button",{key:"back",className:"ant-btn",onClick:this.handleCancel},"返 回"),s.createElement("button",{key:"button",className:"ant-btn ant-btn-primary",onClick:this.handleOk},"提 交")]),m={labelCol:{span:8},wrapperCol:{span:15}},h=[],f=0;f<c.condition.length;f++)h.push(s.createElement(u,{key:c.condition[f].systemType,value:c.condition[f].systemType},c.condition[f].systemTypeName));return s.createElement(r,{title:c.title,visible:c.visible,onCancel:this.handleCancel,width:"700",footer:p},s.createElement(l,{horizontal:!0,form:this.props.form},s.createElement(n,o({},a("id",{initialValue:""}),{type:"hidden"})),s.createElement(e,null,s.createElement(t,{span:"22"},s.createElement(d,o({},m,{label:"参数编号: "}),s.createElement(n,o({style:{width:"100%"},disabled:!c.canEdit},a("code",{rules:[{required:!0,message:"必填"}]}),{type:"text"}))))),s.createElement(e,null,s.createElement(t,{span:"22"},s.createElement(d,o({},m,{label:"参数名称: "}),s.createElement(n,o({style:{width:"100%"},disabled:!c.canEdit},a("name",{rules:[{required:!0,message:"必填"}]}),{type:"text"}))))),s.createElement(e,null,s.createElement(t,{span:"22"},s.createElement(d,o({},m,{label:"参数值: "}),s.createElement(n,o({style:{width:"100%"},disabled:!c.canEdit},a("value",{rules:[{required:!0,message:"必填"}]}),{type:"text"}))))),s.createElement(e,null,s.createElement(t,{span:"22"},s.createElement(d,o({},m,{label:"参数类型: "}),s.createElement(i,o({style:{width:"100%"},disabled:!c.canEdit},a("type",{initialValue:" ",rules:[{required:!0,message:"必填"}]})),h)))),s.createElement(e,null,s.createElement(t,{span:"22"},s.createElement(d,o({},m,{label:"备注: "}),s.createElement(n,o({style:{width:"100%"},disabled:!c.canEdit},a("remark"),{type:"textarea"})))))))}});return m=c()(m)}.apply(t,n))&&(e.exports=r)},1345:function(e,t,a){var n,r;n=[a(905),a(2)],void 0!==(r=function(e,t){a(210);return t.createClass({displayName:"Tab2",getInitialState:function(){return{loading:!1,data:[],pagination:{}}},rowKey:function(e){return e.id},componentWillReceiveProps:function(e){e.visible},componentDidMount:function(){},showModal:function(e,t,a){this.props.showModal(e,t,a)},changeStatus:function(e,t){this.props.changeStatus(e,t)},render:function(){var a=this,n=[{title:"参数编号",width:100,dataIndex:"code"},{title:"参数名称",width:100,dataIndex:"name"},{title:"参数值",dataIndex:"value"},{title:"参数类型",dataIndex:"typeStr"},{title:"备注",width:100,dataIndex:"remark"},{title:"状态",width:100,dataIndex:"status",render:function(e){return 1==e?"启用":"禁用"}},{title:"操作",width:100,dataIndex:"",render:function(e,n){return t.createElement("div",{style:{textAlign:"left"}},t.createElement("a",{href:"#",onClick:a.showModal.bind(a,"修改",n,!0)},"修改 "),1==n.status?t.createElement("a",{href:"#",onClick:a.changeStatus.bind(a,"禁用",n)},"禁用"):t.createElement("a",{href:"#",onClick:a.changeStatus.bind(a,"启用",n)},"启用"))}}];return t.createElement("div",{className:"block-panel"},t.createElement(e,{columns:n,rowKey:this.rowKey,size:"middle",dataSource:this.props.record,pagination:this.props.pagination,loading:this.state.loading,onChange:this.props.handleTableChange}))}})}.apply(t,n))&&(e.exports=r)},1346:function(e,t,a){var n=a(1347);"string"==typeof n&&(n=[[e.id,n,""]]);a(902)(n,{});n.locals&&(e.exports=n.locals)},1347:function(e,t,a){t=e.exports=a(901)(),t.push([e.id,".contrationPanel > .ant-tabs-content{\r\n    padding:0!important;\r\n    background: #fff;\r\n}\r\n.contrationPanel > .ant-tabs-content  .block-panel{\r\n    padding:0!important;\r\n}\r\n\r\n.contrationPanel .ant-tabs-bar .ant-tabs-nav-container{\r\n    height:40px!important;\r\n}\r\n\r\n.contrationPanel .ant-tabs-bar .ant-tabs-tab{\r\n    border:1px solid #d9d9d9!important;\r\n    margin-right: 2px!important;\r\n}",""])},1348:function(e,t,a){var n,r;n=[a(324),a(336),a(339),a(363),a(2)],void 0!==(r=function(e,t,a,n,r){var i=n.create,l=n.Item,s=(a.Option,r.createClass({displayName:"SeachForm",getInitialState:function(){return{roleList:[]}},handleQuery:function(){var e=this.props.form.getFieldsValue();this.props.passParams({searchParams:JSON.stringify(e),pageSize:10,current:1})},handleReset:function(){this.props.form.resetFields(),this.props.passParams({pageSize:10,current:1})},componentDidMount:function(){},add:function(){this.props.btnParamsFun({addBtn:!0})},refresh:function(){this.props.btnParamsFun({refreshBtn:!0})},render:function(){var a=this.props.form.getFieldProps;return r.createElement(n,{inline:!0},r.createElement(l,{label:" 参数编号："},r.createElement(t,a("code",{initialValue:""}))),r.createElement(l,{label:"参数名称："},r.createElement(t,a("name",{initialValue:""}))),r.createElement(l,null,r.createElement(e,{type:"primary",onClick:this.handleQuery},"查询")),r.createElement(l,null,r.createElement(e,{type:"reset",onClick:this.handleReset},"重置")),r.createElement(l,null,r.createElement(e,{onClick:this.add},"新增")),r.createElement(l,null,r.createElement(e,{onClick:this.refresh},"刷新缓存")))}}));return s=i()(s)}.apply(t,n))&&(e.exports=r)},1349:function(e,t,a){var n,r;n=[a(2),a(1350),a(1351)],void 0!==(r=function(e,t,a){return e.createClass({displayName:"NoteMessage",getInitialState:function(){return{params:{pageSize:10,currentPage:1}}},passParams:function(e){this.setState({params:e})},render:function(){return e.createElement("div",null,e.createElement("div",{className:"block-panel"},e.createElement(a,{passParams:this.passParams})),e.createElement(t,{params:this.state.params}))}})}.apply(t,n))&&(e.exports=r)},1350:function(e,t,a){var n,r;n=[a(905),a(2)],void 0!==(r=function(e,t){var n=a(210);return t.createClass({displayName:"List",getInitialState:function(){return{selectedRowKeys:[],loading:!1,data:[],pagination:{},canEdit:!0,visible:!1,pictureData:[],creditReportData:[],rowRecord:[]}},componentWillReceiveProps:function(e,t){this.fetch(e.params)},componentDidMount:function(){this.fetch()},fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.setState({loading:!0}),!t.pageSize){var t={};t={pageSize:10,current:1}}Utils.ajaxData({url:"/modules/manage/sms/list.htm",method:"get",data:t,callback:function(a){console.log(a);var n=e.state.pagination;n.current=t.current,n.pageSize=t.pageSize,n.total=a.page.total,n.current||(n.current=1),e.setState({loading:!1,data:a.data.list,pagination:n})}})},rowKey:function(e){return e.id},onSelectChange:function(e){this.setState({selectedRowKeys:e})},handleTableChange:function(e,t,a){var n=this.state.pagination;n.current=e.current,this.setState({pagination:n}),this.refreshList()},refreshList:function(){var e=this.state.pagination,t=n({},this.props.params,{current:e.current,pageSize:e.pageSize});this.fetch(t)},onRowClick:function(e){-1==this.state.selectedRowKeys.indexOf(e.id)?this.setState({selectedRowKeys:[e.id],selectedRow:e,rowRecord:e}):this.setState({selectedRowKeys:[],selectedRow:{},rowRecord:{}})},rowClassName:function(e){var t=this.state.selectedIndex;return e.id==t&&""!==t?"selectRow":""},render:function(){var a=this.state,n=(a.loading,a.selectedRowKeys);this.onSelectAll,this.state;n.length>0&&n.indexOf("0");var r=[{title:"订单号",dataIndex:"orderNo"},{title:"手机号码",dataIndex:"phone"},{title:"验证码",dataIndex:"code"},{title:"响应信息",dataIndex:"resp"},{title:"响应时间",dataIndex:"respTime"},{title:"发送时间",dataIndex:"sendTime"},{title:"短信类型",dataIndex:"smsType"},{title:"短信状态",dataIndex:"state",render:function(e,a){return 10==e?t.createElement("span",null,"发送成功"):20==e?t.createElement("span",null,"发送失败"):t.createElement("span",null,"发送中")}},{title:"短信验证次数",dataIndex:"verifyTime"}];return t.createElement("div",{className:"block-panel"},t.createElement("div",{className:"actionBtns",style:{marginBottom:16}}),t.createElement(e,{columns:r,rowKey:this.rowKey,ref:"table",dataSource:this.state.data,rowClassName:this.rowClassName,pagination:this.state.pagination,onChange:this.handleTableChange,loading:this.state.loading}))}})}.apply(t,n))&&(e.exports=r)},1351:function(e,t,a){var n,r;n=[a(324),a(942),a(336),a(339),a(363),a(2)],void 0!==(r=function(e,t,a,n,r,i){var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=r.create,o=r.Item,c=n.Option,d=i.createClass({displayName:"SeachForm",getInitialState:function(){return{roleList:[]}},handleQuery:function(){var e=this.props.form.getFieldsValue(),t=e.sendTime.getFullYear(),a=e.sendTime.getMonth()+1,n=a>9?a+"":"0"+a,r=e.sendTime.getDate(),i=r>9?r+"":"0"+r;this.props.passParams({searchParams:JSON.stringify({sendTime:t+"-"+n+"-"+i,phone:e.phone,state:e.state}),pageSize:10,current:1})},handleReset:function(){this.props.form.resetFields(),this.props.passParams({pageSize:10,current:1})},render:function(){var s=this.props.form.getFieldProps;return i.createElement(r,{inline:!0},i.createElement(o,{label:"手机号:"},i.createElement(a,l({type:"text"},s("phone")))),i.createElement(o,{label:"发送时间:"},i.createElement(t,l({type:"text",format:"yyyy-MM-dd"},s("sendTime")))),i.createElement(o,{label:"发送状态:"},i.createElement(n,l({style:{width:100},placeholder:"请选择"},s("state",{initialValue:""})),i.createElement(c,{value:""},"全部"),i.createElement(c,{value:"10"},"发送成功"),i.createElement(c,{value:"20"},"发送失败"),i.createElement(c,{value:"30"},"发送中"))),i.createElement(o,null,i.createElement(e,{type:"primary",onClick:this.handleQuery},"查询")),i.createElement(o,null,i.createElement(e,{
type:"reset",onClick:this.handleReset},"重置")))}});return d=s()(d)}.apply(t,n))&&(e.exports=r)},1352:function(e,t,a){var n,r;n=[a(2),a(1353),a(1355)],void 0!==(r=function(e,t,a){return e.createClass({displayName:"NoteMould",getInitialState:function(){return{params:{pageSize:10,currentPage:1}}},passParams:function(e){this.setState({params:e})},render:function(){return e.createElement("div",null,e.createElement("div",{className:"block-panel"},e.createElement(a,{passParams:this.passParams})),e.createElement(t,{params:this.state.params}))}})}.apply(t,n))&&(e.exports=r)},1353:function(e,t,a){var n,r;n=[a(905),a(300),a(2),a(1354)],void 0!==(r=function(e,t,n,r){var i=t.confirm,l=a(210);return n.createClass({displayName:"List",getInitialState:function(){return{selectedRowKeys:[],loading:!1,data:[],pagination:{},canEdit:!0,visible:!1,record:"",dataRecord:[],title:""}},componentWillReceiveProps:function(e,t){this.clearSelectedList(),this.fetch(e.params)},hideModal:function(){this.setState({visible:!1,visibleDetails:!1,title:"",dataRecord:[],record:""}),this.refreshList()},showModal:function(e,t,a){var t=t,n=this;this.setState({canEdit:a,visible:!0,title:e,record:t},function(){"编辑"==e&&n.refs.Lookdetails.setFieldsValue(n.state.record)})},rowKey:function(e){return e.id},handleTableChange:function(e,t,a){var n=this.state.pagination;n.current=e.current,this.setState({pagination:n}),this.refreshList()},fetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.setState({loading:!0}),!t.pageSize){var t={};t={pageSize:10,current:1}}Utils.ajaxData({url:"/modules/manage/smstpl/list.htm",data:t,method:"get",callback:function(a){var n=e.state.pagination;n.current=t.current,n.pageSize=t.pageSize,n.total=a.page.total,n.current||(n.current=1),e.setState({loading:!1,data:a.data.list,pagination:n})}})},clearSelectedList:function(){this.setState({selectedRowKeys:[]})},refreshList:function(){var e=this.state.pagination,t=l({},this.props.params,{current:e.current,pageSize:e.pageSize});this.fetch(t)},componentDidMount:function(){this.fetch()},onRowClick:function(e){var t=e.id;this.setState({selectedRowKeys:[t],record:e})},changeStatus:function(e,a){var e=e,n=this,r="",l="";"启用"==a?("启用成功",r="您是否启用",l=10):"禁用"==a&&("禁用成功",r="您是否禁用",l=20);var s="20"==l?"/modules/manage/smstpl/disable.htm":"/modules/manage/smstpl/enable.htm";i({title:r,onOk:function(){Utils.ajaxData({url:s,data:{id:e.id},method:"post",callback:function(e){200==e.code?(t.success({title:e.msg}),n.refreshList()):t.error({title:e.msg})}})},onCancel:function(){}})},render:function(){var t=this,a=this.state,i=(a.loading,a.selectedRowKeys),l=(i.length,[{title:"模板编号",dataIndex:"number"},{title:"类型名称",dataIndex:"typeName"},{title:"短信类型",dataIndex:"type"},{title:"短信模板",dataIndex:"tpl"},{title:"短信模板状态",dataIndex:"state",render:function(e){return"10"==e?"启用":"禁用"}},{title:"操作",key:"operation",render:function(e,a){return n.createElement("div",{style:{textAlign:"left"}},n.createElement("a",{href:"#",onClick:t.showModal.bind(t,"编辑",a,!0)},"编辑"),n.createElement("span",{className:"ant-divider"}),"20"==a.state?n.createElement("a",{href:"#",onClick:t.changeStatus.bind(t,a,"启用")},"启用"):n.createElement("a",{href:"#",onClick:t.changeStatus.bind(t,a,"禁用")},"禁用"))}}]),s=this.state,o=s.record;return n.createElement("div",{className:"block-panel"},n.createElement("div",{className:"actionBtns",style:{marginBottom:16}},n.createElement("button",{className:"ant-btn",onClick:this.showModal.bind(this,"新增",o,!0)},"新增")),n.createElement(e,{columns:l,rowKey:this.rowKey,onRowClick:this.onRowClick,dataSource:this.state.data,pagination:this.state.pagination,loading:this.state.loading,onChange:this.handleTableChange}),n.createElement(r,{ref:"Lookdetails",visible:s.visible,title:s.title,hideModal:t.hideModal,record:s.record,canEdit:s.canEdit,dataRecord:s.dataRecord}))}})}.apply(t,n))&&(e.exports=r)},1354:function(e,t,a){var n,r;n=[a(331),a(335),a(336),a(324),a(300),a(339),a(363),a(909),a(2)],void 0!==(r=function(e,t,n,r,i,l,s,o,c){var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=(o.Group,s.create),p=s.Item,m=l.Option,h=(a(210),c.createClass({displayName:"Lookdetails",getInitialState:function(){return{}},handleCancel:function(){this.props.form.resetFields(),this.props.hideModal()},componentWillReceiveProps:function(e){this.setState({record:e.record})},handleOk:function(e){var t=this;this.props.form.validateFields(function(e,a){if(!e){if("编辑"==t.props.title)var n="/modules/manage/smstpl/update.htm",r={},r={id:t.props.record.id,number:a.number,state:a.state,tpl:a.tpl,type:a.type,typeName:a.typeName};else var n="/modules/manage/smstpl/save.htm",r={},r={number:a.number,tpl:a.tpl,type:a.type,typeName:a.typeName};Utils.ajaxData({url:n,data:r,callback:function(e){200==e.code?i.success({title:e.msg,onOk:function(){t.handleCancel()}}):i.error({title:e.msg})}})}})},render:function(){var a=this.props.form.getFieldProps,o=this.props,u=(this.state,{labelCol:{span:8},wrapperCol:{span:12}}),h=[c.createElement(r,{key:"back",className:"ant-btn",onClick:this.handleCancel},"返 回"),c.createElement(r,{key:"button",className:"ant-btn ant-btn-primary",onClick:this.handleOk},"提 交")];return c.createElement(i,{title:o.title,visible:o.visible,onCancel:this.handleCancel,width:"500",footer:h,maskClosable:!1},c.createElement(s,{horizontal:!0,form:this.props.form},c.createElement(n,d({type:"hidden"},a("id",{initialValue:""}))),c.createElement(e,null,c.createElement(t,{span:"24"},c.createElement(p,d({},u,{label:"模板编号:"}),c.createElement(n,d({disabled:!o.canEdit},a("number",{initialValue:"",rules:[{required:!0,max:64,message:"必填，不得超过64个字符"}]})))))),c.createElement(e,null,c.createElement(t,{span:"24"},c.createElement(p,d({},u,{label:"模板状态:"}),c.createElement(l,a("state",{initialValue:"",rules:[{required:!0,message:"必填"}]}),c.createElement(m,{value:"10"},"启用"),c.createElement(m,{value:"20"},"禁用"))))),c.createElement(e,null,c.createElement(t,{span:"24"},c.createElement(p,d({},u,{label:"类型名称:"}),c.createElement(n,d({disabled:!o.canEdit},a("typeName",{initialValue:"",rules:[{required:!0,message:"必填"}]})))))),c.createElement(e,null,c.createElement(t,{span:"24"},c.createElement(p,d({},u,{label:"短信类型:"}),c.createElement(n,d({disabled:!o.canEdit},a("type",{initialValue:"",rules:[{required:!0,message:"必填"}]})))))),c.createElement(e,null,c.createElement(t,{span:"24"},c.createElement(p,d({},u,{label:"短信模板:"}),c.createElement(n,d({disabled:!o.canEdit,type:"textarea",rows:4},a("tpl",{initialValue:"",rules:[{required:!0,message:"必填"}]}))))))))}}));return h=u()(h)}.apply(t,n))&&(e.exports=r)},1355:function(e,t,a){var n,r;n=[a(324),a(336),a(339),a(363),a(2)],void 0!==(r=function(e,t,a,n,r){var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=n.create,s=n.Item,o=(a.Option,r.createClass({displayName:"SeachForm",getInitialState:function(){return{}},handleQuery:function(){var e=this.props.form.getFieldsValue();this.props.passParams({searchParams:JSON.stringify(e),pageSize:10,current:1})},handleReset:function(){this.props.form.resetFields(),this.props.passParams({pageSize:10,current:1})},render:function(){var a=this.props.form.getFieldProps;return r.createElement(n,{inline:!0},r.createElement(s,{label:"类型名称:"},r.createElement(t,i({type:"text"},a("typeName")))),r.createElement(s,null,r.createElement(e,{type:"primary",onClick:this.handleQuery},"查询")),r.createElement(s,null,r.createElement(e,{type:"reset",onClick:this.handleReset},"重置")))}}));return o=l()(o)}.apply(t,n))&&(e.exports=r)},1456:function(e,t,a,n){var r=a(n);"string"==typeof r&&(r=[[e.id,r,""]]);a(902)(r,{});r.locals&&(e.exports=r.locals)}});